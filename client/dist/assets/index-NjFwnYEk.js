var Ok=Object.defineProperty;var zk=(n,e,t)=>e in n?Ok(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ie=(n,e,t)=>(zk(n,typeof e!="symbol"?e+"":e,t),t),Q0=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var c=(n,e,t)=>(Q0(n,e,"read from private field"),t?t.call(n):e.get(n)),x=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},A=(n,e,t,r)=>(Q0(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var dn=(n,e,t,r)=>({set _(i){A(n,e,i,t)},get _(){return c(n,e,r)}}),_=(n,e,t)=>(Q0(n,e,"access private method"),t);function jE(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Bk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Uk(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var OE={exports:{}},h0={},zE={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=Symbol.for("react.element"),Hk=Symbol.for("react.portal"),$k=Symbol.for("react.fragment"),Vk=Symbol.for("react.strict_mode"),Wk=Symbol.for("react.profiler"),Gk=Symbol.for("react.provider"),qk=Symbol.for("react.context"),Xk=Symbol.for("react.forward_ref"),Kk=Symbol.for("react.suspense"),Yk=Symbol.for("react.memo"),Qk=Symbol.for("react.lazy"),P1=Symbol.iterator;function Jk(n){return n===null||typeof n!="object"?null:(n=P1&&n[P1]||n["@@iterator"],typeof n=="function"?n:null)}var BE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,HE={};function Uc(n,e,t){this.props=n,this.context=e,this.refs=HE,this.updater=t||BE}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Uc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function $E(){}$E.prototype=Uc.prototype;function rb(n,e,t){this.props=n,this.context=e,this.refs=HE,this.updater=t||BE}var ib=rb.prototype=new $E;ib.constructor=rb;UE(ib,Uc.prototype);ib.isPureReactComponent=!0;var R1=Array.isArray,VE=Object.prototype.hasOwnProperty,sb={current:null},WE={key:!0,ref:!0,__self:!0,__source:!0};function GE(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)VE.call(e,r)&&!WE.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Pf,type:n,key:s,ref:a,props:i,_owner:sb.current}}function Zk(n,e){return{$$typeof:Pf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ab(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pf}function e2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var L1=/\/+/g;function J0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?e2(""+n.key):e.toString(36)}function vp(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Pf:case Hk:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+J0(a,0):r,R1(i)?(t="",n!=null&&(t=n.replace(L1,"$&/")+"/"),vp(i,e,t,"",function(u){return u})):i!=null&&(ab(i)&&(i=Zk(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(L1,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",R1(n))for(var o=0;o<n.length;o++){s=n[o];var l=r+J0(s,o);a+=vp(s,e,t,l,i)}else if(l=Jk(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=r+J0(s,o++),a+=vp(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qf(n,e,t){if(n==null)return n;var r=[],i=0;return vp(n,r,"","",function(s){return e.call(t,s,i++)}),r}function t2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xt={current:null},xp={transition:null},n2={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:xp,ReactCurrentOwner:sb};function qE(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:qf,forEach:function(n,e,t){qf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return qf(n,function(){e++}),e},toArray:function(n){return qf(n,function(e){return e})||[]},only:function(n){if(!ab(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};pe.Component=Uc;pe.Fragment=$k;pe.Profiler=Wk;pe.PureComponent=rb;pe.StrictMode=Vk;pe.Suspense=Kk;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n2;pe.act=qE;pe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=UE({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sb.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)VE.call(e,l)&&!WE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Pf,type:n.type,key:i,ref:s,props:r,_owner:a}};pe.createContext=function(n){return n={$$typeof:qk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Gk,_context:n},n.Consumer=n};pe.createElement=GE;pe.createFactory=function(n){var e=GE.bind(null,n);return e.type=n,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(n){return{$$typeof:Xk,render:n}};pe.isValidElement=ab;pe.lazy=function(n){return{$$typeof:Qk,_payload:{_status:-1,_result:n},_init:t2}};pe.memo=function(n,e){return{$$typeof:Yk,type:n,compare:e===void 0?null:e}};pe.startTransition=function(n){var e=xp.transition;xp.transition={};try{n()}finally{xp.transition=e}};pe.unstable_act=qE;pe.useCallback=function(n,e){return Xt.current.useCallback(n,e)};pe.useContext=function(n){return Xt.current.useContext(n)};pe.useDebugValue=function(){};pe.useDeferredValue=function(n){return Xt.current.useDeferredValue(n)};pe.useEffect=function(n,e){return Xt.current.useEffect(n,e)};pe.useId=function(){return Xt.current.useId()};pe.useImperativeHandle=function(n,e,t){return Xt.current.useImperativeHandle(n,e,t)};pe.useInsertionEffect=function(n,e){return Xt.current.useInsertionEffect(n,e)};pe.useLayoutEffect=function(n,e){return Xt.current.useLayoutEffect(n,e)};pe.useMemo=function(n,e){return Xt.current.useMemo(n,e)};pe.useReducer=function(n,e,t){return Xt.current.useReducer(n,e,t)};pe.useRef=function(n){return Xt.current.useRef(n)};pe.useState=function(n){return Xt.current.useState(n)};pe.useSyncExternalStore=function(n,e,t){return Xt.current.useSyncExternalStore(n,e,t)};pe.useTransition=function(){return Xt.current.useTransition()};pe.version="18.3.1";zE.exports=pe;var N=zE.exports;const f0=nb(N),r2=jE({__proto__:null,default:f0},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=N,s2=Symbol.for("react.element"),a2=Symbol.for("react.fragment"),o2=Object.prototype.hasOwnProperty,l2=i2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c2={key:!0,ref:!0,__self:!0,__source:!0};function XE(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)o2.call(e,r)&&!c2.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s2,type:n,key:s,ref:a,props:i,_owner:l2.current}}h0.Fragment=a2;h0.jsx=XE;h0.jsxs=XE;OE.exports=h0;var p=OE.exports,Mv={},KE={exports:{}},_n={},YE={exports:{}},QE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,$){var G=F.length;F.push($);e:for(;0<G;){var K=G-1>>>1,X=F[K];if(0<i(X,$))F[K]=$,F[G]=X,G=K;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],G=F.pop();if(G!==$){F[0]=G;e:for(var K=0,X=F.length,re=X>>>1;K<re;){var me=2*(K+1)-1,Ae=F[me],ne=me+1,le=F[ne];if(0>i(Ae,G))ne<X&&0>i(le,Ae)?(F[K]=le,F[ne]=G,K=ne):(F[K]=Ae,F[me]=G,K=me);else if(ne<X&&0>i(le,G))F[K]=le,F[ne]=G,K=ne;else break e}}return $}function i(F,$){var G=F.sortIndex-$.sortIndex;return G!==0?G:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,m=!1,g=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function C(F){if(b=!1,w(F),!g)if(t(l)!==null)g=!0,j(R);else{var $=t(u);$!==null&&O(C,$.startTime-F)}}function R(F,$){g=!1,b&&(b=!1,v(z),z=-1),m=!0;var G=f;try{for(w($),h=t(l);h!==null&&(!(h.expirationTime>$)||F&&!T());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var X=K(h.expirationTime<=$);$=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&r(l),w($)}else r(l);h=t(l)}if(h!==null)var re=!0;else{var me=t(u);me!==null&&O(C,me.startTime-$),re=!1}return re}finally{h=null,f=G,m=!1}}var M=!1,S=null,z=-1,V=5,U=-1;function T(){return!(n.unstable_now()-U<V)}function D(){if(S!==null){var F=n.unstable_now();U=F;var $=!0;try{$=S(!0,F)}finally{$?L():(M=!1,S=null)}}else M=!1}var L;if(typeof y=="function")L=function(){y(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=D,L=function(){P.postMessage(null)}}else L=function(){E(D,0)};function j(F){S=F,M||(M=!0,L())}function O(F,$){z=E(function(){F(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,j(R))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var G=f;f=$;try{return F()}finally{f=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=f;f=F;try{return $()}finally{f=G}},n.unstable_scheduleCallback=function(F,$,G){var K=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,F={id:d++,callback:$,priorityLevel:F,startTime:G,expirationTime:X,sortIndex:-1},G>K?(F.sortIndex=G,e(u,F),t(l)===null&&F===t(u)&&(b?(v(z),z=-1):b=!0,O(C,G-K))):(F.sortIndex=X,e(l,F),g||m||(g=!0,j(R))),F},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(F){var $=f;return function(){var G=f;f=$;try{return F.apply(this,arguments)}finally{f=G}}}})(QE);YE.exports=QE;var u2=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=N,An=u2;function W(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,Uu={};function Co(n,e){Rc(n,e),Rc(n+"Capture",e)}function Rc(n,e){for(Uu[n]=e,n=0;n<e.length;n++)JE.add(e[n])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dv=Object.prototype.hasOwnProperty,h2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N1={},M1={};function f2(n){return Dv.call(M1,n)?!0:Dv.call(N1,n)?!1:h2.test(n)?M1[n]=!0:(N1[n]=!0,!1)}function p2(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function m2(n,e,t,r){if(e===null||typeof e>"u"||p2(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Rt[n]=new Kt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Rt[e]=new Kt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Rt[n]=new Kt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Rt[n]=new Kt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Rt[n]=new Kt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Rt[n]=new Kt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Rt[n]=new Kt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Rt[n]=new Kt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Rt[n]=new Kt(n,5,!1,n.toLowerCase(),null,!1,!1)});var ob=/[\-:]([a-z])/g;function lb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ob,lb);Rt[e]=new Kt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ob,lb);Rt[e]=new Kt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ob,lb);Rt[e]=new Kt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Rt[n]=new Kt(n,1,!1,n.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Rt[n]=new Kt(n,1,!1,n.toLowerCase(),null,!0,!0)});function cb(n,e,t,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m2(e,t,i,r)&&(t=null),r||i===null?f2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ji=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xf=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),eA=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),Fv=Symbol.for("react.suspense"),jv=Symbol.for("react.suspense_list"),hb=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),tA=Symbol.for("react.offscreen"),D1=Symbol.iterator;function Xc(n){return n===null||typeof n!="object"?null:(n=D1&&n[D1]||n["@@iterator"],typeof n=="function"?n:null)}var Ve=Object.assign,Z0;function lu(n){if(Z0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Z0=e&&e[1]||""}return`
`+Z0+n}var ev=!1;function tv(n,e){if(!n||ev)return"";ev=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{ev=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?lu(n):""}function g2(n){switch(n.tag){case 5:return lu(n.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return n=tv(n.type,!1),n;case 11:return n=tv(n.type.render,!1),n;case 1:return n=tv(n.type,!0),n;default:return""}}function Ov(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wo:return"Fragment";case Vo:return"Portal";case Iv:return"Profiler";case ub:return"StrictMode";case Fv:return"Suspense";case jv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case eA:return(n.displayName||"Context")+".Consumer";case ZE:return(n._context.displayName||"Context")+".Provider";case db:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case hb:return e=n.displayName||null,e!==null?e:Ov(n.type)||"Memo";case qi:e=n._payload,n=n._init;try{return Ov(n(e))}catch{}}return null}function v2(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x2(n){var e=nA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Kf(n){n._valueTracker||(n._valueTracker=x2(n))}function rA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=nA(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function em(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zv(n,e){var t=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function I1(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ds(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iA(n,e){e=e.checked,e!=null&&cb(n,"checked",e,!1)}function Bv(n,e){iA(n,e);var t=Ds(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Uv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Uv(n,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function F1(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Uv(n,e,t){(e!=="number"||em(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var cu=Array.isArray;function il(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ds(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Hv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function j1(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(W(92));if(cu(t)){if(1<t.length)throw Error(W(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ds(t)}}function sA(n,e){var t=Ds(e.value),r=Ds(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function O1(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function aA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $v(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?aA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Yf,oA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Yf=Yf||document.createElement("div"),Yf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y2=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(n){y2.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Tu[e]=Tu[n]})});function lA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Tu.hasOwnProperty(n)&&Tu[n]?(""+e).trim():e+"px"}function cA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=lA(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var b2=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vv(n,e){if(e){if(b2[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Wv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=null;function fb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qv=null,sl=null,al=null;function z1(n){if(n=Nf(n)){if(typeof qv!="function")throw Error(W(280));var e=n.stateNode;e&&(e=x0(e),qv(n.stateNode,n.type,e))}}function uA(n){sl?al?al.push(n):al=[n]:sl=n}function dA(){if(sl){var n=sl,e=al;if(al=sl=null,z1(n),e)for(n=0;n<e.length;n++)z1(e[n])}}function hA(n,e){return n(e)}function fA(){}var nv=!1;function pA(n,e,t){if(nv)return n(e,t);nv=!0;try{return hA(n,e,t)}finally{nv=!1,(sl!==null||al!==null)&&(fA(),dA())}}function $u(n,e){var t=n.stateNode;if(t===null)return null;var r=x0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(W(231,e,typeof t));return t}var Xv=!1;if(Ni)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){Xv=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Xv=!1}function w2(n,e,t,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Pu=!1,tm=null,nm=!1,Kv=null,E2={onError:function(n){Pu=!0,tm=n}};function A2(n,e,t,r,i,s,a,o,l){Pu=!1,tm=null,w2.apply(E2,arguments)}function _2(n,e,t,r,i,s,a,o,l){if(A2.apply(this,arguments),Pu){if(Pu){var u=tm;Pu=!1,tm=null}else throw Error(W(198));nm||(nm=!0,Kv=u)}}function ko(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function mA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function B1(n){if(ko(n)!==n)throw Error(W(188))}function S2(n){var e=n.alternate;if(!e){if(e=ko(n),e===null)throw Error(W(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return B1(i),n;if(s===r)return B1(i),e;s=s.sibling}throw Error(W(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a)throw Error(W(189))}}if(t.alternate!==r)throw Error(W(190))}if(t.tag!==3)throw Error(W(188));return t.stateNode.current===t?n:e}function gA(n){return n=S2(n),n!==null?vA(n):null}function vA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=vA(n);if(e!==null)return e;n=n.sibling}return null}var xA=An.unstable_scheduleCallback,U1=An.unstable_cancelCallback,C2=An.unstable_shouldYield,k2=An.unstable_requestPaint,Ke=An.unstable_now,T2=An.unstable_getCurrentPriorityLevel,pb=An.unstable_ImmediatePriority,yA=An.unstable_UserBlockingPriority,rm=An.unstable_NormalPriority,P2=An.unstable_LowPriority,bA=An.unstable_IdlePriority,p0=null,zr=null;function R2(n){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(p0,n,void 0,(n.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:M2,L2=Math.log,N2=Math.LN2;function M2(n){return n>>>=0,n===0?32:31-(L2(n)/N2|0)|0}var Qf=64,Jf=4194304;function uu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function im(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?r=uu(o):(s&=a,s!==0&&(r=uu(s)))}else a=t&~i,a!==0?r=uu(a):s!==0&&(r=uu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-lr(e),i=1<<t,r|=n[t],e&=~i;return r}function D2(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I2(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-lr(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&r)&&(i[a]=D2(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function Yv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wA(){var n=Qf;return Qf<<=1,!(Qf&4194240)&&(Qf=64),n}function rv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Rf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-lr(e),n[e]=t}function F2(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-lr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function mb(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-lr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ce=0;function EA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var AA,gb,_A,SA,CA,Qv=!1,Zf=[],Cs=null,ks=null,Ts=null,Vu=new Map,Wu=new Map,Ki=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H1(n,e){switch(n){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(e.pointerId)}}function Yc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nf(e),e!==null&&gb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function O2(n,e,t,r,i){switch(e){case"focusin":return Cs=Yc(Cs,n,e,t,r,i),!0;case"dragenter":return ks=Yc(ks,n,e,t,r,i),!0;case"mouseover":return Ts=Yc(Ts,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Vu.set(s,Yc(Vu.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wu.set(s,Yc(Wu.get(s)||null,n,e,t,r,i)),!0}return!1}function kA(n){var e=ta(n.target);if(e!==null){var t=ko(e);if(t!==null){if(e=t.tag,e===13){if(e=mA(t),e!==null){n.blockedOn=e,CA(n.priority,function(){_A(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Jv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Gv=r,t.target.dispatchEvent(r),Gv=null}else return e=Nf(t),e!==null&&gb(e),n.blockedOn=t,!1;e.shift()}return!0}function $1(n,e,t){yp(n)&&t.delete(e)}function z2(){Qv=!1,Cs!==null&&yp(Cs)&&(Cs=null),ks!==null&&yp(ks)&&(ks=null),Ts!==null&&yp(Ts)&&(Ts=null),Vu.forEach($1),Wu.forEach($1)}function Qc(n,e){n.blockedOn===e&&(n.blockedOn=null,Qv||(Qv=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,z2)))}function Gu(n){function e(i){return Qc(i,n)}if(0<Zf.length){Qc(Zf[0],n);for(var t=1;t<Zf.length;t++){var r=Zf[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Cs!==null&&Qc(Cs,n),ks!==null&&Qc(ks,n),Ts!==null&&Qc(Ts,n),Vu.forEach(e),Wu.forEach(e),t=0;t<Ki.length;t++)r=Ki[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ki.length&&(t=Ki[0],t.blockedOn===null);)kA(t),t.blockedOn===null&&Ki.shift()}var ol=ji.ReactCurrentBatchConfig,sm=!0;function B2(n,e,t,r){var i=Ce,s=ol.transition;ol.transition=null;try{Ce=1,vb(n,e,t,r)}finally{Ce=i,ol.transition=s}}function U2(n,e,t,r){var i=Ce,s=ol.transition;ol.transition=null;try{Ce=4,vb(n,e,t,r)}finally{Ce=i,ol.transition=s}}function vb(n,e,t,r){if(sm){var i=Jv(n,e,t,r);if(i===null)fv(n,e,r,am,t),H1(n,r);else if(O2(i,n,e,t,r))r.stopPropagation();else if(H1(n,r),e&4&&-1<j2.indexOf(n)){for(;i!==null;){var s=Nf(i);if(s!==null&&AA(s),s=Jv(n,e,t,r),s===null&&fv(n,e,r,am,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else fv(n,e,r,null,t)}}var am=null;function Jv(n,e,t,r){if(am=null,n=fb(r),n=ta(n),n!==null)if(e=ko(n),e===null)n=null;else if(t=e.tag,t===13){if(n=mA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return am=n,null}function TA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case pb:return 1;case yA:return 4;case rm:case P2:return 16;case bA:return 536870912;default:return 16}default:return 16}}var _s=null,xb=null,bp=null;function PA(){if(bp)return bp;var n,e=xb,t=e.length,r,i="value"in _s?_s.value:_s.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return bp=i.slice(n,1<r?1-r:void 0)}function wp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ep(){return!0}function V1(){return!1}function Sn(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ep:V1,this.isPropagationStopped=V1,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var Hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yb=Sn(Hc),Lf=Ve({},Hc,{view:0,detail:0}),H2=Sn(Lf),iv,sv,Jc,m0=Ve({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jc&&(Jc&&n.type==="mousemove"?(iv=n.screenX-Jc.screenX,sv=n.screenY-Jc.screenY):sv=iv=0,Jc=n),iv)},movementY:function(n){return"movementY"in n?n.movementY:sv}}),W1=Sn(m0),$2=Ve({},m0,{dataTransfer:0}),V2=Sn($2),W2=Ve({},Lf,{relatedTarget:0}),av=Sn(W2),G2=Ve({},Hc,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=Sn(G2),X2=Ve({},Hc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),K2=Sn(X2),Y2=Ve({},Hc,{data:0}),G1=Sn(Y2),Q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Z2[n])?!!e[n]:!1}function bb(){return eT}var tT=Ve({},Lf,{key:function(n){if(n.key){var e=Q2[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=wp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?J2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bb,charCode:function(n){return n.type==="keypress"?wp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nT=Sn(tT),rT=Ve({},m0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Sn(rT),iT=Ve({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bb}),sT=Sn(iT),aT=Ve({},Hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),oT=Sn(aT),lT=Ve({},m0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),cT=Sn(lT),uT=[9,13,27,32],wb=Ni&&"CompositionEvent"in window,Ru=null;Ni&&"documentMode"in document&&(Ru=document.documentMode);var dT=Ni&&"TextEvent"in window&&!Ru,RA=Ni&&(!wb||Ru&&8<Ru&&11>=Ru),X1=" ",K1=!1;function LA(n,e){switch(n){case"keyup":return uT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Go=!1;function hT(n,e){switch(n){case"compositionend":return NA(e);case"keypress":return e.which!==32?null:(K1=!0,X1);case"textInput":return n=e.data,n===X1&&K1?null:n;default:return null}}function fT(n,e){if(Go)return n==="compositionend"||!wb&&LA(n,e)?(n=PA(),bp=xb=_s=null,Go=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RA&&e.locale!=="ko"?null:e.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!pT[n.type]:e==="textarea"}function MA(n,e,t,r){uA(r),e=om(e,"onChange"),0<e.length&&(t=new yb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Lu=null,qu=null;function mT(n){VA(n,0)}function g0(n){var e=Ko(n);if(rA(e))return n}function gT(n,e){if(n==="change")return e}var DA=!1;if(Ni){var ov;if(Ni){var lv="oninput"in document;if(!lv){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),lv=typeof Q1.oninput=="function"}ov=lv}else ov=!1;DA=ov&&(!document.documentMode||9<document.documentMode)}function J1(){Lu&&(Lu.detachEvent("onpropertychange",IA),qu=Lu=null)}function IA(n){if(n.propertyName==="value"&&g0(qu)){var e=[];MA(e,qu,n,fb(n)),pA(mT,e)}}function vT(n,e,t){n==="focusin"?(J1(),Lu=e,qu=t,Lu.attachEvent("onpropertychange",IA)):n==="focusout"&&J1()}function xT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return g0(qu)}function yT(n,e){if(n==="click")return g0(e)}function bT(n,e){if(n==="input"||n==="change")return g0(e)}function wT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ur=typeof Object.is=="function"?Object.is:wT;function Xu(n,e){if(ur(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Dv.call(e,i)||!ur(n[i],e[i]))return!1}return!0}function Z1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ew(n,e){var t=Z1(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Z1(t)}}function FA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?FA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function jA(){for(var n=window,e=em();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=em(n.document)}return e}function Eb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ET(n){var e=jA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&FA(t.ownerDocument.documentElement,t)){if(r!==null&&Eb(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=ew(t,s);var a=ew(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var AT=Ni&&"documentMode"in document&&11>=document.documentMode,qo=null,Zv=null,Nu=null,ex=!1;function tw(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ex||qo==null||qo!==em(r)||(r=qo,"selectionStart"in r&&Eb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nu&&Xu(Nu,r)||(Nu=r,r=om(Zv,"onSelect"),0<r.length&&(e=new yb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=qo)))}function tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Xo={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},cv={},OA={};Ni&&(OA=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function v0(n){if(cv[n])return cv[n];if(!Xo[n])return n;var e=Xo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in OA)return cv[n]=e[t];return n}var zA=v0("animationend"),BA=v0("animationiteration"),UA=v0("animationstart"),HA=v0("transitionend"),$A=new Map,nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(n,e){$A.set(n,e),Co(e,[n])}for(var uv=0;uv<nw.length;uv++){var dv=nw[uv],_T=dv.toLowerCase(),ST=dv[0].toUpperCase()+dv.slice(1);js(_T,"on"+ST)}js(zA,"onAnimationEnd");js(BA,"onAnimationIteration");js(UA,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(HA,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function rw(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,_2(r,e,void 0,n),n.currentTarget=null}function VA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;rw(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;rw(i,o,u),s=l}}}if(nm)throw n=Kv,nm=!1,Kv=null,n}function Me(n,e){var t=e[sx];t===void 0&&(t=e[sx]=new Set);var r=n+"__bubble";t.has(r)||(WA(e,n,2,!1),t.add(r))}function hv(n,e,t){var r=0;e&&(r|=4),WA(t,n,r,e)}var np="_reactListening"+Math.random().toString(36).slice(2);function Ku(n){if(!n[np]){n[np]=!0,JE.forEach(function(t){t!=="selectionchange"&&(CT.has(t)||hv(t,!1,n),hv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[np]||(e[np]=!0,hv("selectionchange",!1,e))}}function WA(n,e,t,r){switch(TA(e)){case 1:var i=B2;break;case 4:i=U2;break;default:i=vb}t=i.bind(null,e,t,n),i=void 0,!Xv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function fv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ta(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}pA(function(){var u=s,d=fb(t),h=[];e:{var f=$A.get(n);if(f!==void 0){var m=yb,g=n;switch(n){case"keypress":if(wp(t)===0)break e;case"keydown":case"keyup":m=nT;break;case"focusin":g="focus",m=av;break;case"focusout":g="blur",m=av;break;case"beforeblur":case"afterblur":m=av;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sT;break;case zA:case BA:case UA:m=q2;break;case HA:m=oT;break;case"scroll":m=H2;break;case"wheel":m=cT;break;case"copy":case"cut":case"paste":m=K2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=q1}var b=(e&4)!==0,E=!b&&n==="scroll",v=b?f!==null?f+"Capture":null:f;b=[];for(var y=u,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=$u(y,v),C!=null&&b.push(Yu(y,C,w)))),E)break;y=y.return}0<b.length&&(f=new m(f,g,null,t,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==Gv&&(g=t.relatedTarget||t.fromElement)&&(ta(g)||g[Mi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?ta(g):null,g!==null&&(E=ko(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(b=W1,C="onMouseLeave",v="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(b=q1,C="onPointerLeave",v="onPointerEnter",y="pointer"),E=m==null?f:Ko(m),w=g==null?f:Ko(g),f=new b(C,y+"leave",m,t,d),f.target=E,f.relatedTarget=w,C=null,ta(d)===u&&(b=new b(v,y+"enter",g,t,d),b.target=w,b.relatedTarget=E,C=b),E=C,m&&g)t:{for(b=m,v=g,y=0,w=b;w;w=Fo(w))y++;for(w=0,C=v;C;C=Fo(C))w++;for(;0<y-w;)b=Fo(b),y--;for(;0<w-y;)v=Fo(v),w--;for(;y--;){if(b===v||v!==null&&b===v.alternate)break t;b=Fo(b),v=Fo(v)}b=null}else b=null;m!==null&&iw(h,f,m,b,!1),g!==null&&E!==null&&iw(h,E,g,b,!0)}}e:{if(f=u?Ko(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var R=gT;else if(Y1(f))if(DA)R=bT;else{R=xT;var M=vT}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=yT);if(R&&(R=R(n,u))){MA(h,R,t,d);break e}M&&M(n,f,u),n==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Uv(f,"number",f.value)}switch(M=u?Ko(u):window,n){case"focusin":(Y1(M)||M.contentEditable==="true")&&(qo=M,Zv=u,Nu=null);break;case"focusout":Nu=Zv=qo=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,tw(h,t,d);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":tw(h,t,d)}var S;if(wb)e:{switch(n){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Go?LA(n,t)&&(z="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(z="onCompositionStart");z&&(RA&&t.locale!=="ko"&&(Go||z!=="onCompositionStart"?z==="onCompositionEnd"&&Go&&(S=PA()):(_s=d,xb="value"in _s?_s.value:_s.textContent,Go=!0)),M=om(u,z),0<M.length&&(z=new G1(z,n,null,t,d),h.push({event:z,listeners:M}),S?z.data=S:(S=NA(t),S!==null&&(z.data=S)))),(S=dT?hT(n,t):fT(n,t))&&(u=om(u,"onBeforeInput"),0<u.length&&(d=new G1("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=S))}VA(h,e)})}function Yu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function om(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$u(n,t),s!=null&&r.unshift(Yu(n,s,i)),s=$u(n,e),s!=null&&r.push(Yu(n,s,i))),n=n.return}return r}function Fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function iw(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=$u(t,s),l!=null&&a.unshift(Yu(t,l,o))):i||(l=$u(t,s),l!=null&&a.push(Yu(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var kT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function sw(n){return(typeof n=="string"?n:""+n).replace(kT,`
`).replace(TT,"")}function rp(n,e,t){if(e=sw(e),sw(n)!==e&&t)throw Error(W(425))}function lm(){}var tx=null,nx=null;function rx(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(n){return aw.resolve(null).then(n).catch(LT)}:ix;function LT(n){setTimeout(function(){throw n})}function pv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Gu(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Gu(e)}function Ps(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ow(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var $c=Math.random().toString(36).slice(2),Or="__reactFiber$"+$c,Qu="__reactProps$"+$c,Mi="__reactContainer$"+$c,sx="__reactEvents$"+$c,NT="__reactListeners$"+$c,MT="__reactHandles$"+$c;function ta(n){var e=n[Or];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Mi]||t[Or]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ow(n);n!==null;){if(t=n[Or])return t;n=ow(n)}return e}n=t,t=n.parentNode}return null}function Nf(n){return n=n[Or]||n[Mi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ko(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(W(33))}function x0(n){return n[Qu]||null}var ax=[],Yo=-1;function Os(n){return{current:n}}function Ie(n){0>Yo||(n.current=ax[Yo],ax[Yo]=null,Yo--)}function Ne(n,e){Yo++,ax[Yo]=n.current,n.current=e}var Is={},zt=Os(Is),sn=Os(!1),go=Is;function Lc(n,e){var t=n.type.contextTypes;if(!t)return Is;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function an(n){return n=n.childContextTypes,n!=null}function cm(){Ie(sn),Ie(zt)}function lw(n,e,t){if(zt.current!==Is)throw Error(W(168));Ne(zt,e),Ne(sn,t)}function GA(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,v2(n)||"Unknown",i));return Ve({},t,r)}function um(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Is,go=zt.current,Ne(zt,n),Ne(sn,sn.current),!0}function cw(n,e,t){var r=n.stateNode;if(!r)throw Error(W(169));t?(n=GA(n,e,go),r.__reactInternalMemoizedMergedChildContext=n,Ie(sn),Ie(zt),Ne(zt,n)):Ie(sn),Ne(sn,t)}var Qr=null,y0=!1,mv=!1;function qA(n){Qr===null?Qr=[n]:Qr.push(n)}function DT(n){y0=!0,qA(n)}function zs(){if(!mv&&Qr!==null){mv=!0;var n=0,e=Ce;try{var t=Qr;for(Ce=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Qr=null,y0=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(n+1)),xA(pb,zs),i}finally{Ce=e,mv=!1}}return null}var Qo=[],Jo=0,dm=null,hm=0,Fn=[],jn=0,vo=null,Ci=1,ki="";function Xs(n,e){Qo[Jo++]=hm,Qo[Jo++]=dm,dm=n,hm=e}function XA(n,e,t){Fn[jn++]=Ci,Fn[jn++]=ki,Fn[jn++]=vo,vo=n;var r=Ci;n=ki;var i=32-lr(r)-1;r&=~(1<<i),t+=1;var s=32-lr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ci=1<<32-lr(e)+i|t<<i|r,ki=s+n}else Ci=1<<s|t<<i|r,ki=n}function Ab(n){n.return!==null&&(Xs(n,1),XA(n,1,0))}function _b(n){for(;n===dm;)dm=Qo[--Jo],Qo[Jo]=null,hm=Qo[--Jo],Qo[Jo]=null;for(;n===vo;)vo=Fn[--jn],Fn[jn]=null,ki=Fn[--jn],Fn[jn]=null,Ci=Fn[--jn],Fn[jn]=null}var En=null,wn=null,ze=!1,or=null;function KA(n,e){var t=Bn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function uw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,En=n,wn=Ps(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,En=n,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=vo!==null?{id:Ci,overflow:ki}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Bn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,En=n,wn=null,!0):!1;default:return!1}}function ox(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lx(n){if(ze){var e=wn;if(e){var t=e;if(!uw(n,e)){if(ox(n))throw Error(W(418));e=Ps(t.nextSibling);var r=En;e&&uw(n,e)?KA(r,t):(n.flags=n.flags&-4097|2,ze=!1,En=n)}}else{if(ox(n))throw Error(W(418));n.flags=n.flags&-4097|2,ze=!1,En=n}}}function dw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;En=n}function ip(n){if(n!==En)return!1;if(!ze)return dw(n),ze=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!rx(n.type,n.memoizedProps)),e&&(e=wn)){if(ox(n))throw YA(),Error(W(418));for(;e;)KA(n,e),e=Ps(e.nextSibling)}if(dw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(W(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){wn=Ps(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}wn=null}}else wn=En?Ps(n.stateNode.nextSibling):null;return!0}function YA(){for(var n=wn;n;)n=Ps(n.nextSibling)}function Nc(){wn=En=null,ze=!1}function Sb(n){or===null?or=[n]:or.push(n)}var IT=ji.ReactCurrentBatchConfig;function Zc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(W(309));var r=t.stateNode}if(!r)throw Error(W(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(W(284));if(!t._owner)throw Error(W(290,n))}return n}function sp(n,e){throw n=Object.prototype.toString.call(e),Error(W(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hw(n){var e=n._init;return e(n._payload)}function QA(n){function e(v,y){if(n){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function t(v,y){if(!n)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ms(v,y),v.index=0,v.sibling=null,v}function s(v,y,w){return v.index=w,n?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function o(v,y,w,C){return y===null||y.tag!==6?(y=Ev(w,v.mode,C),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w,C){var R=w.type;return R===Wo?d(v,y,w.props.children,C,w.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qi&&hw(R)===y.type)?(C=i(y,w.props),C.ref=Zc(v,y,w),C.return=v,C):(C=Tp(w.type,w.key,w.props,null,v.mode,C),C.ref=Zc(v,y,w),C.return=v,C)}function u(v,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Av(w,v.mode,C),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function d(v,y,w,C,R){return y===null||y.tag!==7?(y=mo(w,v.mode,C,R),y.return=v,y):(y=i(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ev(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xf:return w=Tp(y.type,y.key,y.props,null,v.mode,w),w.ref=Zc(v,null,y),w.return=v,w;case Vo:return y=Av(y,v.mode,w),y.return=v,y;case qi:var C=y._init;return h(v,C(y._payload),w)}if(cu(y)||Xc(y))return y=mo(y,v.mode,w,null),y.return=v,y;sp(v,y)}return null}function f(v,y,w,C){var R=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:o(v,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xf:return w.key===R?l(v,y,w,C):null;case Vo:return w.key===R?u(v,y,w,C):null;case qi:return R=w._init,f(v,y,R(w._payload),C)}if(cu(w)||Xc(w))return R!==null?null:d(v,y,w,C,null);sp(v,w)}return null}function m(v,y,w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,o(y,v,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xf:return v=v.get(C.key===null?w:C.key)||null,l(y,v,C,R);case Vo:return v=v.get(C.key===null?w:C.key)||null,u(y,v,C,R);case qi:var M=C._init;return m(v,y,w,M(C._payload),R)}if(cu(C)||Xc(C))return v=v.get(w)||null,d(y,v,C,R,null);sp(y,C)}return null}function g(v,y,w,C){for(var R=null,M=null,S=y,z=y=0,V=null;S!==null&&z<w.length;z++){S.index>z?(V=S,S=null):V=S.sibling;var U=f(v,S,w[z],C);if(U===null){S===null&&(S=V);break}n&&S&&U.alternate===null&&e(v,S),y=s(U,y,z),M===null?R=U:M.sibling=U,M=U,S=V}if(z===w.length)return t(v,S),ze&&Xs(v,z),R;if(S===null){for(;z<w.length;z++)S=h(v,w[z],C),S!==null&&(y=s(S,y,z),M===null?R=S:M.sibling=S,M=S);return ze&&Xs(v,z),R}for(S=r(v,S);z<w.length;z++)V=m(S,v,z,w[z],C),V!==null&&(n&&V.alternate!==null&&S.delete(V.key===null?z:V.key),y=s(V,y,z),M===null?R=V:M.sibling=V,M=V);return n&&S.forEach(function(T){return e(v,T)}),ze&&Xs(v,z),R}function b(v,y,w,C){var R=Xc(w);if(typeof R!="function")throw Error(W(150));if(w=R.call(w),w==null)throw Error(W(151));for(var M=R=null,S=y,z=y=0,V=null,U=w.next();S!==null&&!U.done;z++,U=w.next()){S.index>z?(V=S,S=null):V=S.sibling;var T=f(v,S,U.value,C);if(T===null){S===null&&(S=V);break}n&&S&&T.alternate===null&&e(v,S),y=s(T,y,z),M===null?R=T:M.sibling=T,M=T,S=V}if(U.done)return t(v,S),ze&&Xs(v,z),R;if(S===null){for(;!U.done;z++,U=w.next())U=h(v,U.value,C),U!==null&&(y=s(U,y,z),M===null?R=U:M.sibling=U,M=U);return ze&&Xs(v,z),R}for(S=r(v,S);!U.done;z++,U=w.next())U=m(S,v,z,U.value,C),U!==null&&(n&&U.alternate!==null&&S.delete(U.key===null?z:U.key),y=s(U,y,z),M===null?R=U:M.sibling=U,M=U);return n&&S.forEach(function(D){return e(v,D)}),ze&&Xs(v,z),R}function E(v,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xf:e:{for(var R=w.key,M=y;M!==null;){if(M.key===R){if(R=w.type,R===Wo){if(M.tag===7){t(v,M.sibling),y=i(M,w.props.children),y.return=v,v=y;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===qi&&hw(R)===M.type){t(v,M.sibling),y=i(M,w.props),y.ref=Zc(v,M,w),y.return=v,v=y;break e}t(v,M);break}else e(v,M);M=M.sibling}w.type===Wo?(y=mo(w.props.children,v.mode,C,w.key),y.return=v,v=y):(C=Tp(w.type,w.key,w.props,null,v.mode,C),C.ref=Zc(v,y,w),C.return=v,v=C)}return a(v);case Vo:e:{for(M=w.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=Av(w,v.mode,C),y.return=v,v=y}return a(v);case qi:return M=w._init,E(v,y,M(w._payload),C)}if(cu(w))return g(v,y,w,C);if(Xc(w))return b(v,y,w,C);sp(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(v,y.sibling),y=i(y,w),y.return=v,v=y):(t(v,y),y=Ev(w,v.mode,C),y.return=v,v=y),a(v)):t(v,y)}return E}var Mc=QA(!0),JA=QA(!1),fm=Os(null),pm=null,Zo=null,Cb=null;function kb(){Cb=Zo=pm=null}function Tb(n){var e=fm.current;Ie(fm),n._currentValue=e}function cx(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ll(n,e){pm=n,Cb=Zo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(nn=!0),n.firstContext=null)}function Hn(n){var e=n._currentValue;if(Cb!==n)if(n={context:n,memoizedValue:e,next:null},Zo===null){if(pm===null)throw Error(W(308));Zo=n,pm.dependencies={lanes:0,firstContext:n}}else Zo=Zo.next=n;return e}var na=null;function Pb(n){na===null?na=[n]:na.push(n)}function ZA(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Pb(e)):(t.next=i.next,i.next=t),e.interleaved=t,Di(n,r)}function Di(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Xi=!1;function Rb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ti(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Di(n,t)}return i=r.interleaved,i===null?(e.next=e,Pb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Di(n,t)}function Ep(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mb(n,t)}}function fw(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function mm(n,e,t,r){var i=n.updateQueue;Xi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,b=o;switch(f=e,m=t,b.tag){case 1:if(g=b.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Ve({},h,f);break e;case 2:Xi=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yo|=a,n.lanes=a,n.memoizedState=h}}function pw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Mf={},Br=Os(Mf),Ju=Os(Mf),Zu=Os(Mf);function ra(n){if(n===Mf)throw Error(W(174));return n}function Lb(n,e){switch(Ne(Zu,e),Ne(Ju,n),Ne(Br,Mf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$v(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$v(e,n)}Ie(Br),Ne(Br,e)}function Dc(){Ie(Br),Ie(Ju),Ie(Zu)}function t_(n){ra(Zu.current);var e=ra(Br.current),t=$v(e,n.type);e!==t&&(Ne(Ju,n),Ne(Br,t))}function Nb(n){Ju.current===n&&(Ie(Br),Ie(Ju))}var He=Os(0);function gm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gv=[];function Mb(){for(var n=0;n<gv.length;n++)gv[n]._workInProgressVersionPrimary=null;gv.length=0}var Ap=ji.ReactCurrentDispatcher,vv=ji.ReactCurrentBatchConfig,xo=0,$e=null,at=null,pt=null,vm=!1,Mu=!1,ed=0,FT=0;function Lt(){throw Error(W(321))}function Db(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ur(n[t],e[t]))return!1;return!0}function Ib(n,e,t,r,i,s){if(xo=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ap.current=n===null||n.memoizedState===null?BT:UT,n=t(r,i),Mu){s=0;do{if(Mu=!1,ed=0,25<=s)throw Error(W(301));s+=1,pt=at=null,e.updateQueue=null,Ap.current=HT,n=t(r,i)}while(Mu)}if(Ap.current=xm,e=at!==null&&at.next!==null,xo=0,pt=at=$e=null,vm=!1,e)throw Error(W(300));return n}function Fb(){var n=ed!==0;return ed=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?$e.memoizedState=pt=n:pt=pt.next=n,pt}function $n(){if(at===null){var n=$e.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var e=pt===null?$e.memoizedState:pt.next;if(e!==null)pt=e,at=n;else{if(n===null)throw Error(W(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?$e.memoizedState=pt=n:pt=pt.next=n}return pt}function td(n,e){return typeof e=="function"?e(n):e}function xv(n){var e=$n(),t=e.queue;if(t===null)throw Error(W(311));t.lastRenderedReducer=n;var r=at,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((xo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,$e.lanes|=d,yo|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ur(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,$e.lanes|=s,yo|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yv(n){var e=$n(),t=e.queue;if(t===null)throw Error(W(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);ur(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function n_(){}function r_(n,e){var t=$e,r=$n(),i=e(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,jb(a_.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(t.flags|=2048,nd(9,s_.bind(null,t,r,i,e),void 0,null),mt===null)throw Error(W(349));xo&30||i_(t,e,i)}return i}function i_(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function s_(n,e,t,r){e.value=t,e.getSnapshot=r,o_(e)&&l_(n)}function a_(n,e,t){return t(function(){o_(e)&&l_(n)})}function o_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ur(n,t)}catch{return!0}}function l_(n){var e=Di(n,1);e!==null&&cr(e,n,1,-1)}function mw(n){var e=xr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:n},e.queue=n,n=n.dispatch=zT.bind(null,$e,n),[e.memoizedState,n]}function nd(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function c_(){return $n().memoizedState}function _p(n,e,t,r){var i=xr();$e.flags|=n,i.memoizedState=nd(1|e,t,void 0,r===void 0?null:r)}function b0(n,e,t,r){var i=$n();r=r===void 0?null:r;var s=void 0;if(at!==null){var a=at.memoizedState;if(s=a.destroy,r!==null&&Db(r,a.deps)){i.memoizedState=nd(e,t,s,r);return}}$e.flags|=n,i.memoizedState=nd(1|e,t,s,r)}function gw(n,e){return _p(8390656,8,n,e)}function jb(n,e){return b0(2048,8,n,e)}function u_(n,e){return b0(4,2,n,e)}function d_(n,e){return b0(4,4,n,e)}function h_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function f_(n,e,t){return t=t!=null?t.concat([n]):null,b0(4,4,h_.bind(null,e,n),t)}function Ob(){}function p_(n,e){var t=$n();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function m_(n,e){var t=$n();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function g_(n,e,t){return xo&21?(ur(t,e)||(t=wA(),$e.lanes|=t,yo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=t)}function jT(n,e){var t=Ce;Ce=t!==0&&4>t?t:4,n(!0);var r=vv.transition;vv.transition={};try{n(!1),e()}finally{Ce=t,vv.transition=r}}function v_(){return $n().memoizedState}function OT(n,e,t){var r=Ns(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},x_(n))y_(e,t);else if(t=ZA(n,e,t,r),t!==null){var i=qt();cr(t,n,r,i),b_(t,e,r)}}function zT(n,e,t){var r=Ns(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(x_(n))y_(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,ur(o,a)){var l=e.interleaved;l===null?(i.next=i,Pb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=ZA(n,e,i,r),t!==null&&(i=qt(),cr(t,n,r,i),b_(t,e,r))}}function x_(n){var e=n.alternate;return n===$e||e!==null&&e===$e}function y_(n,e){Mu=vm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function b_(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mb(n,t)}}var xm={readContext:Hn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},BT={readContext:Hn,useCallback:function(n,e){return xr().memoizedState=[n,e===void 0?null:e],n},useContext:Hn,useEffect:gw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_p(4194308,4,h_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _p(4194308,4,n,e)},useInsertionEffect:function(n,e){return _p(4,2,n,e)},useMemo:function(n,e){var t=xr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=xr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=OT.bind(null,$e,n),[r.memoizedState,n]},useRef:function(n){var e=xr();return n={current:n},e.memoizedState=n},useState:mw,useDebugValue:Ob,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=mw(!1),e=n[0];return n=jT.bind(null,n[1]),xr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=$e,i=xr();if(ze){if(t===void 0)throw Error(W(407));t=t()}else{if(t=e(),mt===null)throw Error(W(349));xo&30||i_(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,gw(a_.bind(null,r,s,n),[n]),r.flags|=2048,nd(9,s_.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=xr(),e=mt.identifierPrefix;if(ze){var t=ki,r=Ci;t=(r&~(1<<32-lr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ed++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=FT++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},UT={readContext:Hn,useCallback:p_,useContext:Hn,useEffect:jb,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:xv,useRef:c_,useState:function(){return xv(td)},useDebugValue:Ob,useDeferredValue:function(n){var e=$n();return g_(e,at.memoizedState,n)},useTransition:function(){var n=xv(td)[0],e=$n().memoizedState;return[n,e]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1},HT={readContext:Hn,useCallback:p_,useContext:Hn,useEffect:jb,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:d_,useMemo:m_,useReducer:yv,useRef:c_,useState:function(){return yv(td)},useDebugValue:Ob,useDeferredValue:function(n){var e=$n();return at===null?e.memoizedState=n:g_(e,at.memoizedState,n)},useTransition:function(){var n=yv(td)[0],e=$n().memoizedState;return[n,e]},useMutableSource:n_,useSyncExternalStore:r_,useId:v_,unstable_isNewReconciler:!1};function Gn(n,e){if(n&&n.defaultProps){e=Ve({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function ux(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ve({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var w0={isMounted:function(n){return(n=n._reactInternals)?ko(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=qt(),i=Ns(n),s=Ti(r,i);s.payload=e,t!=null&&(s.callback=t),e=Rs(n,s,i),e!==null&&(cr(e,n,i,r),Ep(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=qt(),i=Ns(n),s=Ti(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Rs(n,s,i),e!==null&&(cr(e,n,i,r),Ep(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=qt(),r=Ns(n),i=Ti(t,r);i.tag=2,e!=null&&(i.callback=e),e=Rs(n,i,r),e!==null&&(cr(e,n,r,t),Ep(e,n,r))}};function vw(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xu(t,r)||!Xu(i,s):!0}function w_(n,e,t){var r=!1,i=Is,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=an(e)?go:zt.current,r=e.contextTypes,s=(r=r!=null)?Lc(n,i):Is),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=w0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function xw(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&w0.enqueueReplaceState(e,e.state,null)}function dx(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Rb(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=an(e)?go:zt.current,i.context=Lc(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ux(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&w0.enqueueReplaceState(i,i.state,null),mm(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ic(n,e){try{var t="",r=e;do t+=g2(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function bv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var $T=typeof WeakMap=="function"?WeakMap:Map;function E_(n,e,t){t=Ti(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){bm||(bm=!0,Ex=r),hx(n,e)},t}function A_(n,e,t){t=Ti(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){hx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){hx(n,e),typeof r!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function yw(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new $T;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=rP.bind(null,n,e,t),e.then(n,n))}function bw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ww(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ti(-1,1),e.tag=2,Rs(t,e,1))),t.lanes|=1),n)}var VT=ji.ReactCurrentOwner,nn=!1;function Wt(n,e,t,r){e.child=n===null?JA(e,null,t,r):Mc(e,n.child,t,r)}function Ew(n,e,t,r,i){t=t.render;var s=e.ref;return ll(e,i),r=Ib(n,e,t,r,s,i),t=Fb(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(ze&&t&&Ab(e),e.flags|=1,Wt(n,e,r,i),e.child)}function Aw(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Gb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,__(n,e,s,r,i)):(n=Tp(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Xu,t(a,r)&&n.ref===e.ref)return Ii(n,e,i)}return e.flags|=1,n=Ms(s,r),n.ref=e.ref,n.return=e,e.child=n}function __(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Xu(s,r)&&n.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(nn=!0);else return e.lanes=n.lanes,Ii(n,e,i)}return fx(n,e,t,r,i)}function S_(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(tl,bn),bn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ne(tl,bn),bn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Ne(tl,bn),bn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ne(tl,bn),bn|=r;return Wt(n,e,i,t),e.child}function C_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function fx(n,e,t,r,i){var s=an(t)?go:zt.current;return s=Lc(e,s),ll(e,i),t=Ib(n,e,t,r,s,i),r=Fb(),n!==null&&!nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ii(n,e,i)):(ze&&r&&Ab(e),e.flags|=1,Wt(n,e,t,i),e.child)}function _w(n,e,t,r,i){if(an(t)){var s=!0;um(e)}else s=!1;if(ll(e,i),e.stateNode===null)Sp(n,e),w_(e,t,r),dx(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=an(t)?go:zt.current,u=Lc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&xw(e,a,r,u),Xi=!1;var f=e.memoizedState;a.state=f,mm(e,r,a,i),l=e.memoizedState,o!==r||f!==l||sn.current||Xi?(typeof d=="function"&&(ux(e,t,d,r),l=e.memoizedState),(o=Xi||vw(e,t,o,r,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,e_(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Gn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=an(t)?go:zt.current,l=Lc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&xw(e,a,r,l),Xi=!1,f=e.memoizedState,a.state=f,mm(e,r,a,i);var g=e.memoizedState;o!==h||f!==g||sn.current||Xi?(typeof m=="function"&&(ux(e,t,m,r),g=e.memoizedState),(u=Xi||vw(e,t,u,r,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return px(n,e,t,r,s,i)}function px(n,e,t,r,i,s){C_(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&cw(e,t,!1),Ii(n,e,s);r=e.stateNode,VT.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Mc(e,n.child,null,s),e.child=Mc(e,null,o,s)):Wt(n,e,o,s),e.memoizedState=r.state,i&&cw(e,t,!0),e.child}function k_(n){var e=n.stateNode;e.pendingContext?lw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(n,e.context,!1),Lb(n,e.containerInfo)}function Sw(n,e,t,r,i){return Nc(),Sb(i),e.flags|=256,Wt(n,e,t,r),e.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function gx(n){return{baseLanes:n,cachePool:null,transitions:null}}function T_(n,e,t){var r=e.pendingProps,i=He.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ne(He,i&1),n===null)return lx(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=_0(a,r,0,null),n=mo(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=gx(t),e.memoizedState=mx,n):zb(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return WT(n,e,a,r,o,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ms(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ms(o,s):(s=mo(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?gx(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=mx,r}return s=n.child,n=s.sibling,r=Ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function zb(n,e){return e=_0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ap(n,e,t,r){return r!==null&&Sb(r),Mc(e,n.child,null,t),n=zb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function WT(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=bv(Error(W(422))),ap(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_0({mode:"visible",children:r.children},i,0,null),s=mo(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mc(e,n.child,null,a),e.child.memoizedState=gx(a),e.memoizedState=mx,s);if(!(e.mode&1))return ap(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(W(419)),r=bv(s,r,void 0),ap(n,e,a,r)}if(o=(a&n.childLanes)!==0,nn||o){if(r=mt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(n,i),cr(r,n,i,-1))}return Wb(),r=bv(Error(W(421))),ap(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=iP.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,wn=Ps(i.nextSibling),En=e,ze=!0,or=null,n!==null&&(Fn[jn++]=Ci,Fn[jn++]=ki,Fn[jn++]=vo,Ci=n.id,ki=n.overflow,vo=e),e=zb(e,r.children),e.flags|=4096,e)}function Cw(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),cx(n.return,e,t)}function wv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function P_(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(n,e,r.children,t),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cw(n,t,e);else if(n.tag===19)Cw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ne(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&gm(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),wv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&gm(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}wv(e,!0,t,null,s);break;case"together":wv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ii(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(W(153));if(e.child!==null){for(n=e.child,t=Ms(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ms(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function GT(n,e,t){switch(e.tag){case 3:k_(e),Nc();break;case 5:t_(e);break;case 1:an(e.type)&&um(e);break;case 4:Lb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(fm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(He,He.current&1),e.flags|=128,null):t&e.child.childLanes?T_(n,e,t):(Ne(He,He.current&1),n=Ii(n,e,t),n!==null?n.sibling:null);Ne(He,He.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return P_(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,S_(n,e,t)}return Ii(n,e,t)}var R_,vx,L_,N_;R_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};vx=function(){};L_=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ra(Br.current);var s=null;switch(t){case"input":i=zv(n,i),r=zv(n,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Hv(n,i),r=Hv(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=lm)}Vv(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};N_=function(n,e,t,r){t!==r&&(e.flags|=4)};function eu(n,e){if(!ze)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Nt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function qT(n,e,t){var r=e.pendingProps;switch(_b(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return an(e.type)&&cm(),Nt(e),null;case 3:return r=e.stateNode,Dc(),Ie(sn),Ie(zt),Mb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ip(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Sx(or),or=null))),vx(n,e),Nt(e),null;case 5:Nb(e);var i=ra(Zu.current);if(t=e.type,n!==null&&e.stateNode!=null)L_(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Nt(e),null}if(n=ra(Br.current),ip(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[Qu]=s,n=(e.mode&1)!==0,t){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<du.length;i++)Me(du[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":I1(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":j1(r,s),Me("invalid",r)}Vv(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,o,n),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&rp(r.textContent,o,n),i=["children",""+o]):Uu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Me("scroll",r)}switch(t){case"input":Kf(r),F1(r,s,!0);break;case"textarea":Kf(r),O1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=aA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Or]=e,n[Qu]=r,R_(n,e,!1,!1),e.stateNode=n;e:{switch(a=Wv(t,r),t){case"dialog":Me("cancel",n),Me("close",n),i=r;break;case"iframe":case"object":case"embed":Me("load",n),i=r;break;case"video":case"audio":for(i=0;i<du.length;i++)Me(du[i],n);i=r;break;case"source":Me("error",n),i=r;break;case"img":case"image":case"link":Me("error",n),Me("load",n),i=r;break;case"details":Me("toggle",n),i=r;break;case"input":I1(n,r),i=zv(n,r),Me("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Me("invalid",n);break;case"textarea":j1(n,r),i=Hv(n,r),Me("invalid",n);break;default:i=r}Vv(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?cA(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oA(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hu(n,l):typeof l=="number"&&Hu(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",n):l!=null&&cb(n,s,l,a))}switch(t){case"input":Kf(n),F1(n,r,!1);break;case"textarea":Kf(n),O1(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ds(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?il(n,!!r.multiple,s,!1):r.defaultValue!=null&&il(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=lm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(n&&e.stateNode!=null)N_(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(t=ra(Zu.current),ra(Br.current),ip(e)){if(r=e.stateNode,t=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==t)&&(n=En,n!==null))switch(n.tag){case 3:rp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rp(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Nt(e),null;case 13:if(Ie(He),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ze&&wn!==null&&e.mode&1&&!(e.flags&128))YA(),Nc(),e.flags|=98560,s=!1;else if(s=ip(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Or]=e}else Nc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else or!==null&&(Sx(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||He.current&1?lt===0&&(lt=3):Wb())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Dc(),vx(n,e),n===null&&Ku(e.stateNode.containerInfo),Nt(e),null;case 10:return Tb(e.type._context),Nt(e),null;case 17:return an(e.type)&&cm(),Nt(e),null;case 19:if(Ie(He),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)eu(s,!1);else{if(lt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=gm(n),a!==null){for(e.flags|=128,eu(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ne(He,He.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ke()>Fc&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304)}else{if(!r)if(n=gm(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),eu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ze)return Nt(e),null}else 2*Ke()-s.renderingStartTime>Fc&&t!==1073741824&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,t=He.current,Ne(He,r?t&1|2:t&1),e):(Nt(e),null);case 22:case 23:return Vb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function XT(n,e){switch(_b(e),e.tag){case 1:return an(e.type)&&cm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Dc(),Ie(sn),Ie(zt),Mb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Nb(e),null;case 13:if(Ie(He),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Nc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ie(He),null;case 4:return Dc(),null;case 10:return Tb(e.type._context),null;case 22:case 23:return Vb(),null;case 24:return null;default:return null}}var op=!1,Ft=!1,KT=typeof WeakSet=="function"?WeakSet:Set,Y=null;function el(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Ge(n,e,r)}else t.current=null}function xx(n,e,t){try{t()}catch(r){Ge(n,e,r)}}var kw=!1;function YT(n,e){if(tx=sm,n=jA(),Eb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===t&&++u===i&&(o=a),f===s&&++d===r&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(nx={focusedElem:n,selectionRange:t},sm=!1,Y=e;Y!==null;)if(e=Y,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Y=n;else for(;Y!==null;){e=Y;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,E=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?b:Gn(e.type,b),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){Ge(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}return g=kw,kw=!1,g}function Du(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&xx(e,t,s)}i=i.next}while(i!==r)}}function E0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function yx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function M_(n){var e=n.alternate;e!==null&&(n.alternate=null,M_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Or],delete e[Qu],delete e[sx],delete e[NT],delete e[MT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function D_(n){return n.tag===5||n.tag===3||n.tag===4}function Tw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||D_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=lm));else if(r!==4&&(n=n.child,n!==null))for(bx(n,e,t),n=n.sibling;n!==null;)bx(n,e,t),n=n.sibling}function wx(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(wx(n,e,t),n=n.sibling;n!==null;)wx(n,e,t),n=n.sibling}var Tt=null,sr=!1;function Hi(n,e,t){for(t=t.child;t!==null;)I_(n,e,t),t=t.sibling}function I_(n,e,t){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(p0,t)}catch{}switch(t.tag){case 5:Ft||el(t,e);case 6:var r=Tt,i=sr;Tt=null,Hi(n,e,t),Tt=r,sr=i,Tt!==null&&(sr?(n=Tt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Tt.removeChild(t.stateNode));break;case 18:Tt!==null&&(sr?(n=Tt,t=t.stateNode,n.nodeType===8?pv(n.parentNode,t):n.nodeType===1&&pv(n,t),Gu(n)):pv(Tt,t.stateNode));break;case 4:r=Tt,i=sr,Tt=t.stateNode.containerInfo,sr=!0,Hi(n,e,t),Tt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&xx(t,e,a),i=i.next}while(i!==r)}Hi(n,e,t);break;case 1:if(!Ft&&(el(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){Ge(t,e,o)}Hi(n,e,t);break;case 21:Hi(n,e,t);break;case 22:t.mode&1?(Ft=(r=Ft)||t.memoizedState!==null,Hi(n,e,t),Ft=r):Hi(n,e,t);break;default:Hi(n,e,t)}}function Pw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new KT),e.forEach(function(r){var i=sP.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Vn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tt=o.stateNode,sr=!1;break e;case 3:Tt=o.stateNode.containerInfo,sr=!0;break e;case 4:Tt=o.stateNode.containerInfo,sr=!0;break e}o=o.return}if(Tt===null)throw Error(W(160));I_(s,a,i),Tt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F_(e,n),e=e.sibling}function F_(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vn(e,n),gr(n),r&4){try{Du(3,n,n.return),E0(3,n)}catch(b){Ge(n,n.return,b)}try{Du(5,n,n.return)}catch(b){Ge(n,n.return,b)}}break;case 1:Vn(e,n),gr(n),r&512&&t!==null&&el(t,t.return);break;case 5:if(Vn(e,n),gr(n),r&512&&t!==null&&el(t,t.return),n.flags&32){var i=n.stateNode;try{Hu(i,"")}catch(b){Ge(n,n.return,b)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&iA(i,s),Wv(o,a);var u=Wv(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?cA(i,h):d==="dangerouslySetInnerHTML"?oA(i,h):d==="children"?Hu(i,h):cb(i,d,h,u)}switch(o){case"input":Bv(i,s);break;case"textarea":sA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?il(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?il(i,!!s.multiple,s.defaultValue,!0):il(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qu]=s}catch(b){Ge(n,n.return,b)}}break;case 6:if(Vn(e,n),gr(n),r&4){if(n.stateNode===null)throw Error(W(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(b){Ge(n,n.return,b)}}break;case 3:if(Vn(e,n),gr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Gu(e.containerInfo)}catch(b){Ge(n,n.return,b)}break;case 4:Vn(e,n),gr(n);break;case 13:Vn(e,n),gr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hb=Ke())),r&4&&Pw(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ft=(u=Ft)||d,Vn(e,n),Ft=u):Vn(e,n),gr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Y=n,d=n.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Du(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){Ge(r,t,b)}}break;case 5:el(f,f.return);break;case 22:if(f.memoizedState!==null){Lw(h);continue}}m!==null?(m.return=f,Y=m):Lw(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lA("display",a))}catch(b){Ge(n,n.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Ge(n,n.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(e,n),gr(n),r&4&&Pw(n);break;case 21:break;default:Vn(e,n),gr(n)}}function gr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(D_(t)){var r=t;break e}t=t.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hu(i,""),r.flags&=-33);var s=Tw(n);wx(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Tw(n);bx(n,o,a);break;default:throw Error(W(161))}}catch(l){Ge(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function QT(n,e,t){Y=n,j_(n)}function j_(n,e,t){for(var r=(n.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||op;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ft;o=op;var u=Ft;if(op=a,(Ft=l)&&!u)for(Y=i;Y!==null;)a=Y,l=a.child,a.tag===22&&a.memoizedState!==null?Nw(i):l!==null?(l.return=a,Y=l):Nw(i);for(;s!==null;)Y=s,j_(s),s=s.sibling;Y=i,op=o,Ft=u}Rw(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):Rw(n)}}function Rw(n){for(;Y!==null;){var e=Y;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||E0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Gn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pw(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}pw(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ft||e.flags&512&&yx(e)}catch(f){Ge(e,e.return,f)}}if(e===n){Y=null;break}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}}function Lw(n){for(;Y!==null;){var e=Y;if(e===n){Y=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Y=t;break}Y=e.return}}function Nw(n){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{E0(4,e)}catch(l){Ge(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{yx(e)}catch(l){Ge(e,s,l)}break;case 5:var a=e.return;try{yx(e)}catch(l){Ge(e,a,l)}}}catch(l){Ge(e,e.return,l)}if(e===n){Y=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Y=o;break}Y=e.return}}var JT=Math.ceil,ym=ji.ReactCurrentDispatcher,Bb=ji.ReactCurrentOwner,Un=ji.ReactCurrentBatchConfig,Ee=0,mt=null,Je=null,Pt=0,bn=0,tl=Os(0),lt=0,rd=null,yo=0,A0=0,Ub=0,Iu=null,tn=null,Hb=0,Fc=1/0,qr=null,bm=!1,Ex=null,Ls=null,lp=!1,Ss=null,wm=0,Fu=0,Ax=null,Cp=-1,kp=0;function qt(){return Ee&6?Ke():Cp!==-1?Cp:Cp=Ke()}function Ns(n){return n.mode&1?Ee&2&&Pt!==0?Pt&-Pt:IT.transition!==null?(kp===0&&(kp=wA()),kp):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:TA(n.type)),n):1}function cr(n,e,t,r){if(50<Fu)throw Fu=0,Ax=null,Error(W(185));Rf(n,t,r),(!(Ee&2)||n!==mt)&&(n===mt&&(!(Ee&2)&&(A0|=t),lt===4&&Yi(n,Pt)),on(n,r),t===1&&Ee===0&&!(e.mode&1)&&(Fc=Ke()+500,y0&&zs()))}function on(n,e){var t=n.callbackNode;I2(n,e);var r=im(n,n===mt?Pt:0);if(r===0)t!==null&&U1(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&U1(t),e===1)n.tag===0?DT(Mw.bind(null,n)):qA(Mw.bind(null,n)),RT(function(){!(Ee&6)&&zs()}),t=null;else{switch(EA(r)){case 1:t=pb;break;case 4:t=yA;break;case 16:t=rm;break;case 536870912:t=bA;break;default:t=rm}t=W_(t,O_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function O_(n,e){if(Cp=-1,kp=0,Ee&6)throw Error(W(327));var t=n.callbackNode;if(cl()&&n.callbackNode!==t)return null;var r=im(n,n===mt?Pt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Em(n,r);else{e=r;var i=Ee;Ee|=2;var s=B_();(mt!==n||Pt!==e)&&(qr=null,Fc=Ke()+500,po(n,e));do try{tP();break}catch(o){z_(n,o)}while(!0);kb(),ym.current=s,Ee=i,Je!==null?e=0:(mt=null,Pt=0,e=lt)}if(e!==0){if(e===2&&(i=Yv(n),i!==0&&(r=i,e=_x(n,i))),e===1)throw t=rd,po(n,0),Yi(n,r),on(n,Ke()),t;if(e===6)Yi(n,r);else{if(i=n.current.alternate,!(r&30)&&!ZT(i)&&(e=Em(n,r),e===2&&(s=Yv(n),s!==0&&(r=s,e=_x(n,s))),e===1))throw t=rd,po(n,0),Yi(n,r),on(n,Ke()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ks(n,tn,qr);break;case 3:if(Yi(n,r),(r&130023424)===r&&(e=Hb+500-Ke(),10<e)){if(im(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){qt(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ix(Ks.bind(null,n,tn,qr),e);break}Ks(n,tn,qr);break;case 4:if(Yi(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-lr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JT(r/1960))-r,10<r){n.timeoutHandle=ix(Ks.bind(null,n,tn,qr),r);break}Ks(n,tn,qr);break;case 5:Ks(n,tn,qr);break;default:throw Error(W(329))}}}return on(n,Ke()),n.callbackNode===t?O_.bind(null,n):null}function _x(n,e){var t=Iu;return n.current.memoizedState.isDehydrated&&(po(n,e).flags|=256),n=Em(n,e),n!==2&&(e=tn,tn=t,e!==null&&Sx(e)),n}function Sx(n){tn===null?tn=n:tn.push.apply(tn,n)}function ZT(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ur(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(n,e){for(e&=~Ub,e&=~A0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-lr(e),r=1<<t;n[t]=-1,e&=~r}}function Mw(n){if(Ee&6)throw Error(W(327));cl();var e=im(n,0);if(!(e&1))return on(n,Ke()),null;var t=Em(n,e);if(n.tag!==0&&t===2){var r=Yv(n);r!==0&&(e=r,t=_x(n,r))}if(t===1)throw t=rd,po(n,0),Yi(n,e),on(n,Ke()),t;if(t===6)throw Error(W(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ks(n,tn,qr),on(n,Ke()),null}function $b(n,e){var t=Ee;Ee|=1;try{return n(e)}finally{Ee=t,Ee===0&&(Fc=Ke()+500,y0&&zs())}}function bo(n){Ss!==null&&Ss.tag===0&&!(Ee&6)&&cl();var e=Ee;Ee|=1;var t=Un.transition,r=Ce;try{if(Un.transition=null,Ce=1,n)return n()}finally{Ce=r,Un.transition=t,Ee=e,!(Ee&6)&&zs()}}function Vb(){bn=tl.current,Ie(tl)}function po(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,PT(t)),Je!==null)for(t=Je.return;t!==null;){var r=t;switch(_b(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cm();break;case 3:Dc(),Ie(sn),Ie(zt),Mb();break;case 5:Nb(r);break;case 4:Dc();break;case 13:Ie(He);break;case 19:Ie(He);break;case 10:Tb(r.type._context);break;case 22:case 23:Vb()}t=t.return}if(mt=n,Je=n=Ms(n.current,null),Pt=bn=e,lt=0,rd=null,Ub=A0=yo=0,tn=Iu=null,na!==null){for(e=0;e<na.length;e++)if(t=na[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}na=null}return n}function z_(n,e){do{var t=Je;try{if(kb(),Ap.current=xm,vm){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vm=!1}if(xo=0,pt=at=$e=null,Mu=!1,ed=0,Bb.current=null,t===null||t.return===null){lt=1,rd=e,Je=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Pt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bw(a);if(m!==null){m.flags&=-257,ww(m,a,o,s,e),m.mode&1&&yw(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){yw(s,u,e),Wb();break e}l=Error(W(426))}}else if(ze&&o.mode&1){var E=bw(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ww(E,a,o,s,e),Sb(Ic(l,o));break e}}s=l=Ic(l,o),lt!==4&&(lt=2),Iu===null?Iu=[s]:Iu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=E_(s,l,e);fw(s,v);break e;case 1:o=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ls===null||!Ls.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=A_(s,o,e);fw(s,C);break e}}s=s.return}while(s!==null)}H_(t)}catch(R){e=R,Je===t&&t!==null&&(Je=t=t.return);continue}break}while(!0)}function B_(){var n=ym.current;return ym.current=xm,n===null?xm:n}function Wb(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(yo&268435455)&&!(A0&268435455)||Yi(mt,Pt)}function Em(n,e){var t=Ee;Ee|=2;var r=B_();(mt!==n||Pt!==e)&&(qr=null,po(n,e));do try{eP();break}catch(i){z_(n,i)}while(!0);if(kb(),Ee=t,ym.current=r,Je!==null)throw Error(W(261));return mt=null,Pt=0,lt}function eP(){for(;Je!==null;)U_(Je)}function tP(){for(;Je!==null&&!C2();)U_(Je)}function U_(n){var e=V_(n.alternate,n,bn);n.memoizedProps=n.pendingProps,e===null?H_(n):Je=e,Bb.current=null}function H_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=XT(t,e),t!==null){t.flags&=32767,Je=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lt=6,Je=null;return}}else if(t=qT(t,e,bn),t!==null){Je=t;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=n}while(e!==null);lt===0&&(lt=5)}function Ks(n,e,t){var r=Ce,i=Un.transition;try{Un.transition=null,Ce=1,nP(n,e,t,r)}finally{Un.transition=i,Ce=r}return null}function nP(n,e,t,r){do cl();while(Ss!==null);if(Ee&6)throw Error(W(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(W(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(F2(n,s),n===mt&&(Je=mt=null,Pt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||lp||(lp=!0,W_(rm,function(){return cl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var a=Ce;Ce=1;var o=Ee;Ee|=4,Bb.current=null,YT(n,t),F_(t,n),ET(nx),sm=!!tx,nx=tx=null,n.current=t,QT(t),k2(),Ee=o,Ce=a,Un.transition=s}else n.current=t;if(lp&&(lp=!1,Ss=n,wm=i),s=n.pendingLanes,s===0&&(Ls=null),R2(t.stateNode),on(n,Ke()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(bm)throw bm=!1,n=Ex,Ex=null,n;return wm&1&&n.tag!==0&&cl(),s=n.pendingLanes,s&1?n===Ax?Fu++:(Fu=0,Ax=n):Fu=0,zs(),null}function cl(){if(Ss!==null){var n=EA(wm),e=Un.transition,t=Ce;try{if(Un.transition=null,Ce=16>n?16:n,Ss===null)var r=!1;else{if(n=Ss,Ss=null,wm=0,Ee&6)throw Error(W(331));var i=Ee;for(Ee|=4,Y=n.current;Y!==null;){var s=Y,a=s.child;if(Y.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Du(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(M_(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Y=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Y=a;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Du(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Y=v;break e}Y=s.return}}var y=n.current;for(Y=y;Y!==null;){a=Y;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Y=w;else e:for(a=y;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:E0(9,o)}}catch(R){Ge(o,o.return,R)}if(o===a){Y=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,Y=C;break e}Y=o.return}}if(Ee=i,zs(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(p0,n)}catch{}r=!0}return r}finally{Ce=t,Un.transition=e}}return!1}function Dw(n,e,t){e=Ic(t,e),e=E_(n,e,1),n=Rs(n,e,1),e=qt(),n!==null&&(Rf(n,1,e),on(n,e))}function Ge(n,e,t){if(n.tag===3)Dw(n,n,t);else for(;e!==null;){if(e.tag===3){Dw(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ls===null||!Ls.has(r))){n=Ic(t,n),n=A_(e,n,1),e=Rs(e,n,1),n=qt(),e!==null&&(Rf(e,1,n),on(e,n));break}}e=e.return}}function rP(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=qt(),n.pingedLanes|=n.suspendedLanes&t,mt===n&&(Pt&t)===t&&(lt===4||lt===3&&(Pt&130023424)===Pt&&500>Ke()-Hb?po(n,0):Ub|=t),on(n,e)}function $_(n,e){e===0&&(n.mode&1?(e=Jf,Jf<<=1,!(Jf&130023424)&&(Jf=4194304)):e=1);var t=qt();n=Di(n,e),n!==null&&(Rf(n,e,t),on(n,t))}function iP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),$_(n,t)}function sP(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),$_(n,t)}var V_;V_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||sn.current)nn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return nn=!1,GT(n,e,t);nn=!!(n.flags&131072)}else nn=!1,ze&&e.flags&1048576&&XA(e,hm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sp(n,e),n=e.pendingProps;var i=Lc(e,zt.current);ll(e,t),i=Ib(null,e,r,n,i,t);var s=Fb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,um(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rb(e),i.updater=w0,e.stateNode=i,i._reactInternals=e,dx(e,r,n,t),e=px(null,e,r,!0,s,t)):(e.tag=0,ze&&s&&Ab(e),Wt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Sp(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oP(r),n=Gn(r,n),i){case 0:e=fx(null,e,r,n,t);break e;case 1:e=_w(null,e,r,n,t);break e;case 11:e=Ew(null,e,r,n,t);break e;case 14:e=Aw(null,e,r,Gn(r.type,n),t);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),fx(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),_w(n,e,r,i,t);case 3:e:{if(k_(e),n===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,e_(n,e),mm(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ic(Error(W(423)),e),e=Sw(n,e,r,t,i);break e}else if(r!==i){i=Ic(Error(W(424)),e),e=Sw(n,e,r,t,i);break e}else for(wn=Ps(e.stateNode.containerInfo.firstChild),En=e,ze=!0,or=null,t=JA(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Nc(),r===i){e=Ii(n,e,t);break e}Wt(n,e,r,t)}e=e.child}return e;case 5:return t_(e),n===null&&lx(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,rx(r,i)?a=null:s!==null&&rx(r,s)&&(e.flags|=32),C_(n,e),Wt(n,e,a,t),e.child;case 6:return n===null&&lx(e),null;case 13:return T_(n,e,t);case 4:return Lb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Mc(e,null,r,t):Wt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Ew(n,e,r,i,t);case 7:return Wt(n,e,e.pendingProps,t),e.child;case 8:return Wt(n,e,e.pendingProps.children,t),e.child;case 12:return Wt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ne(fm,r._currentValue),r._currentValue=a,s!==null)if(ur(s.value,a)){if(s.children===i.children&&!sn.current){e=Ii(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ti(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),cx(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(W(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),cx(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Wt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ll(e,t),i=Hn(i),r=r(i),e.flags|=1,Wt(n,e,r,t),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),Aw(n,e,r,i,t);case 15:return __(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Sp(n,e),e.tag=1,an(r)?(n=!0,um(e)):n=!1,ll(e,t),w_(e,r,i),dx(e,r,i,t),px(null,e,r,!0,n,t);case 19:return P_(n,e,t);case 22:return S_(n,e,t)}throw Error(W(156,e.tag))};function W_(n,e){return xA(n,e)}function aP(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,e,t,r){return new aP(n,e,t,r)}function Gb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oP(n){if(typeof n=="function")return Gb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===db)return 11;if(n===hb)return 14}return 2}function Ms(n,e){var t=n.alternate;return t===null?(t=Bn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Tp(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")Gb(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Wo:return mo(t.children,i,s,e);case ub:a=8,i|=8;break;case Iv:return n=Bn(12,t,e,i|2),n.elementType=Iv,n.lanes=s,n;case Fv:return n=Bn(13,t,e,i),n.elementType=Fv,n.lanes=s,n;case jv:return n=Bn(19,t,e,i),n.elementType=jv,n.lanes=s,n;case tA:return _0(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ZE:a=10;break e;case eA:a=9;break e;case db:a=11;break e;case hb:a=14;break e;case qi:a=16,r=null;break e}throw Error(W(130,n==null?n:typeof n,""))}return e=Bn(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function mo(n,e,t,r){return n=Bn(7,n,r,e),n.lanes=t,n}function _0(n,e,t,r){return n=Bn(22,n,r,e),n.elementType=tA,n.lanes=t,n.stateNode={isHidden:!1},n}function Ev(n,e,t){return n=Bn(6,n,null,e),n.lanes=t,n}function Av(n,e,t){return e=Bn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function lP(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rv(0),this.expirationTimes=rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qb(n,e,t,r,i,s,a,o,l){return n=new lP(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rb(s),n}function cP(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function G_(n){if(!n)return Is;n=n._reactInternals;e:{if(ko(n)!==n||n.tag!==1)throw Error(W(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(n.tag===1){var t=n.type;if(an(t))return GA(n,t,e)}return e}function q_(n,e,t,r,i,s,a,o,l){return n=qb(t,r,!0,n,i,s,a,o,l),n.context=G_(null),t=n.current,r=qt(),i=Ns(t),s=Ti(r,i),s.callback=e??null,Rs(t,s,i),n.current.lanes=i,Rf(n,i,r),on(n,r),n}function S0(n,e,t,r){var i=e.current,s=qt(),a=Ns(i);return t=G_(t),e.context===null?e.context=t:e.pendingContext=t,e=Ti(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Rs(i,e,a),n!==null&&(cr(n,i,a,s),Ep(n,i,a)),a}function Am(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Iw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Xb(n,e){Iw(n,e),(n=n.alternate)&&Iw(n,e)}function uP(){return null}var X_=typeof reportError=="function"?reportError:function(n){console.error(n)};function Kb(n){this._internalRoot=n}C0.prototype.render=Kb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(W(409));S0(n,e,null,null)};C0.prototype.unmount=Kb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;bo(function(){S0(null,n,null,null)}),e[Mi]=null}};function C0(n){this._internalRoot=n}C0.prototype.unstable_scheduleHydration=function(n){if(n){var e=SA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ki.length&&e!==0&&e<Ki[t].priority;t++);Ki.splice(t,0,n),t===0&&kA(n)}};function Yb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function k0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function dP(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Am(a);s.call(u)}}var a=q_(e,r,n,0,null,!1,!1,"",Fw);return n._reactRootContainer=a,n[Mi]=a.current,Ku(n.nodeType===8?n.parentNode:n),bo(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Am(l);o.call(u)}}var l=qb(n,0,!1,null,null,!1,!1,"",Fw);return n._reactRootContainer=l,n[Mi]=l.current,Ku(n.nodeType===8?n.parentNode:n),bo(function(){S0(e,l,t,r)}),l}function T0(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Am(a);o.call(l)}}S0(e,a,n,i)}else a=dP(t,e,n,i,r);return Am(a)}AA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=uu(e.pendingLanes);t!==0&&(mb(e,t|1),on(e,Ke()),!(Ee&6)&&(Fc=Ke()+500,zs()))}break;case 13:bo(function(){var r=Di(n,1);if(r!==null){var i=qt();cr(r,n,1,i)}}),Xb(n,1)}};gb=function(n){if(n.tag===13){var e=Di(n,134217728);if(e!==null){var t=qt();cr(e,n,134217728,t)}Xb(n,134217728)}};_A=function(n){if(n.tag===13){var e=Ns(n),t=Di(n,e);if(t!==null){var r=qt();cr(t,n,e,r)}Xb(n,e)}};SA=function(){return Ce};CA=function(n,e){var t=Ce;try{return Ce=n,e()}finally{Ce=t}};qv=function(n,e,t){switch(e){case"input":if(Bv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=x0(r);if(!i)throw Error(W(90));rA(r),Bv(r,i)}}}break;case"textarea":sA(n,t);break;case"select":e=t.value,e!=null&&il(n,!!t.multiple,e,!1)}};hA=$b;fA=bo;var hP={usingClientEntryPoint:!1,Events:[Nf,Ko,x0,uA,dA,$b]},tu={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fP={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gA(n),n===null?null:n.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||uP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{p0=cp.inject(fP),zr=cp}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;_n.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yb(e))throw Error(W(200));return cP(n,e,null,t)};_n.createRoot=function(n,e){if(!Yb(n))throw Error(W(299));var t=!1,r="",i=X_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qb(n,1,!1,null,null,t,!1,r,i),n[Mi]=e.current,Ku(n.nodeType===8?n.parentNode:n),new Kb(e)};_n.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(W(188)):(n=Object.keys(n).join(","),Error(W(268,n)));return n=gA(e),n=n===null?null:n.stateNode,n};_n.flushSync=function(n){return bo(n)};_n.hydrate=function(n,e,t){if(!k0(e))throw Error(W(200));return T0(null,n,e,!0,t)};_n.hydrateRoot=function(n,e,t){if(!Yb(n))throw Error(W(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=X_;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=q_(e,null,n,1,t??null,i,!1,s,a),n[Mi]=e.current,Ku(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new C0(e)};_n.render=function(n,e,t){if(!k0(e))throw Error(W(200));return T0(null,n,e,!1,t)};_n.unmountComponentAtNode=function(n){if(!k0(n))throw Error(W(40));return n._reactRootContainer?(bo(function(){T0(null,null,n,!1,function(){n._reactRootContainer=null,n[Mi]=null})}),!0):!1};_n.unstable_batchedUpdates=$b;_n.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!k0(t))throw Error(W(200));if(n==null||n._reactInternals===void 0)throw Error(W(38));return T0(n,e,t,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function K_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K_)}catch(n){console.error(n)}}K_(),KE.exports=_n;var Qb=KE.exports;const pP=nb(Qb),mP=jE({__proto__:null,default:pP},[Qb]);var jw=Qb;Mv.createRoot=jw.createRoot,Mv.hydrateRoot=jw.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ue.apply(this,arguments)}var Xe;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Xe||(Xe={}));const Ow="popstate";function gP(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return id("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:wo(i)}return xP(e,t,null,n)}function ue(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vP(){return Math.random().toString(36).substr(2,8)}function zw(n,e){return{usr:n.state,key:n.key,idx:e}}function id(n,e,t,r){return t===void 0&&(t=null),Ue({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Oi(e):e,{state:t,key:e&&e.key||r||vP()})}function wo(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Oi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function xP(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Xe.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Ue({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Xe.Pop;let E=d(),v=E==null?null:E-u;u=E,l&&l({action:o,location:b.location,delta:v})}function f(E,v){o=Xe.Push;let y=id(b.location,E,v);u=d()+1;let w=zw(y,u),C=b.createHref(y);try{a.pushState(w,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}s&&l&&l({action:o,location:b.location,delta:1})}function m(E,v){o=Xe.Replace;let y=id(b.location,E,v);u=d();let w=zw(y,u),C=b.createHref(y);a.replaceState(w,"",C),s&&l&&l({action:o,location:b.location,delta:0})}function g(E){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:wo(E);return y=y.replace(/ $/,"%20"),ue(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let b={get action(){return o},get location(){return n(i,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ow,h),l=E,()=>{i.removeEventListener(Ow,h),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let v=g(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(E){return a.go(E)}};return b}var Oe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Oe||(Oe={}));const yP=new Set(["lazy","caseSensitive","path","id","index","children"]);function bP(n){return n.index===!0}function Cx(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let a=[...t,s],o=typeof i.id=="string"?i.id:a.join("-");if(ue(i.index!==!0||!i.children,"Cannot specify children on an index route"),ue(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),bP(i)){let l=Ue({},i,e(i),{id:o});return r[o]=l,l}else{let l=Ue({},i,e(i),{id:o,children:void 0});return r[o]=l,i.children&&(l.children=Cx(i.children,e,a,r)),l}})}function nl(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Oi(e):e,i=Fi(r.pathname||"/",t);if(i==null)return null;let s=Y_(n);EP(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let l=MP(i);a=LP(s[o],l)}return a}function wP(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function Y_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pi([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Y_(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PP(u,s.index),routesMeta:d})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Q_(s.path))i(s,a,l)}),e}function Q_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Q_(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function EP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const AP=/^:[\w-]+$/,_P=3,SP=2,CP=1,kP=10,TP=-2,Bw=n=>n==="*";function PP(n,e){let t=n.split("/"),r=t.length;return t.some(Bw)&&(r+=TP),e&&(r+=SP),t.filter(i=>!Bw(i)).reduce((i,s)=>i+(AP.test(s)?_P:s===""?CP:kP),r)}function RP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function LP(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let a=0;a<t.length;++a){let o=t[a],l=a===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kx({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=o.route;s.push({params:r,pathname:Pi([i,d.pathname]),pathnameBase:FP(Pi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Pi([i,d.pathnameBase]))}return s}function kx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let b=o[h]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function NP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),jc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Fi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function DP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Oi(n):n;return{pathname:t?t.startsWith("/")?t:IP(t,e):e,search:jP(r),hash:OP(i)}}function IP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function _v(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jb(n,e){let t=J_(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Zb(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Oi(n):(i=Ue({},n),ue(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=DP(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Pi=n=>n.join("/").replace(/\/\/+/g,"/"),FP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class e1{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function t1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Z_=["post","put","patch","delete"],zP=new Set(Z_),BP=["get",...Z_],UP=new Set(BP),HP=new Set([301,302,303,307,308]),$P=new Set([307,308]),Sv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WP=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),eS="remix-router-transitions";function GP(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ue(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let I=n.detectErrorBoundary;i=B=>({hasErrorBoundary:I(B)})}else i=WP;let s={},a=Cx(n.routes,i,void 0,s),o,l=n.basename||"/",u=n.unstable_dataStrategy||YP,d=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),h=null,f=new Set,m=null,g=null,b=null,E=n.hydrationData!=null,v=nl(a,n.history.location,l),y=null;if(v==null){let I=Dn(404,{pathname:n.history.location.pathname}),{matches:B,route:H}=Yw(a);v=B,y={[H.id]:I}}let w,C=v.some(I=>I.route.lazy),R=v.some(I=>I.route.loader);if(C)w=!1;else if(!R)w=!0;else if(d.v7_partialHydration){let I=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null,H=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:I&&I[q.route.id]!==void 0||B&&B[q.route.id]!==void 0:!0;if(B){let q=v.findIndex(Q=>B[Q.route.id]!==void 0);w=v.slice(0,q+1).every(H)}else w=v.every(H)}else w=n.hydrationData!=null;let M,S={historyAction:n.history.action,location:n.history.location,matches:v,initialized:w,navigation:Sv,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||y,fetchers:new Map,blockers:new Map},z=Xe.Pop,V=!1,U,T=!1,D=new Map,L=null,k=!1,P=!1,j=[],O=[],F=new Map,$=0,G=-1,K=new Map,X=new Set,re=new Map,me=new Map,Ae=new Set,ne=new Map,le=new Map,dr=!1;function Hr(){if(h=n.history.listen(I=>{let{action:B,location:H,delta:q}=I;if(dr){dr=!1;return}jc(le.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=S1({currentLocation:S.location,nextLocation:H,historyAction:B});if(Q&&q!=null){dr=!0,n.history.go(q*-1),$f(Q,{state:"blocked",location:H,proceed(){$f(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),n.history.go(q)},reset(){let de=new Map(S.blockers);de.set(Q,nu),Ze({blockers:de})}});return}return ve(B,H)}),t){lR(e,D);let I=()=>cR(e,D);e.addEventListener("pagehide",I),L=()=>e.removeEventListener("pagehide",I)}return S.initialized||ve(Xe.Pop,S.location,{initialHydration:!0}),M}function Fe(){h&&h(),L&&L(),f.clear(),U&&U.abort(),S.fetchers.forEach((I,B)=>No(B)),S.blockers.forEach((I,B)=>_1(B))}function Hs(I){return f.add(I),()=>f.delete(I)}function Ze(I,B){B===void 0&&(B={}),S=Ue({},S,I);let H=[],q=[];d.v7_fetcherPersist&&S.fetchers.forEach((Q,de)=>{Q.state==="idle"&&(Ae.has(de)?q.push(de):H.push(de))}),[...f].forEach(Q=>Q(S,{deletedFetchers:q,unstable_viewTransitionOpts:B.viewTransitionOpts,unstable_flushSync:B.flushSync===!0})),d.v7_fetcherPersist&&(H.forEach(Q=>S.fetchers.delete(Q)),q.forEach(Q=>No(Q)))}function et(I,B,H){var q,Q;let{flushSync:de}=H===void 0?{}:H,ee=S.actionData!=null&&S.navigation.formMethod!=null&&ar(S.navigation.formMethod)&&S.navigation.state==="loading"&&((q=I.state)==null?void 0:q._isRedirect)!==!0,J;B.actionData?Object.keys(B.actionData).length>0?J=B.actionData:J=null:ee?J=S.actionData:J=null;let he=B.loaderData?Xw(S.loaderData,B.loaderData,B.matches||[],B.errors):S.loaderData,ce=S.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((ae,je)=>ce.set(je,nu)));let vt=V===!0||S.navigation.formMethod!=null&&ar(S.navigation.formMethod)&&((Q=I.state)==null?void 0:Q._isRedirect)!==!0;o&&(a=o,o=void 0),k||z===Xe.Pop||(z===Xe.Push?n.history.push(I,I.state):z===Xe.Replace&&n.history.replace(I,I.state));let xt;if(z===Xe.Pop){let ae=D.get(S.location.pathname);ae&&ae.has(I.pathname)?xt={currentLocation:S.location,nextLocation:I}:D.has(I.pathname)&&(xt={currentLocation:I,nextLocation:S.location})}else if(T){let ae=D.get(S.location.pathname);ae?ae.add(I.pathname):(ae=new Set([I.pathname]),D.set(S.location.pathname,ae)),xt={currentLocation:S.location,nextLocation:I}}Ze(Ue({},B,{actionData:J,loaderData:he,historyAction:z,location:I,initialized:!0,navigation:Sv,revalidation:"idle",restoreScrollPosition:k1(I,B.matches||S.matches),preventScrollReset:vt,blockers:ce}),{viewTransitionOpts:xt,flushSync:de===!0}),z=Xe.Pop,V=!1,T=!1,k=!1,P=!1,j=[],O=[]}async function cn(I,B){if(typeof I=="number"){n.history.go(I);return}let H=Tx(S.location,S.matches,l,d.v7_prependBasename,I,d.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:q,submission:Q,error:de}=Uw(d.v7_normalizeFormMethod,!1,H,B),ee=S.location,J=id(S.location,q,B&&B.state);J=Ue({},J,n.history.encodeLocation(J));let he=B&&B.replace!=null?B.replace:void 0,ce=Xe.Push;he===!0?ce=Xe.Replace:he===!1||Q!=null&&ar(Q.formMethod)&&Q.formAction===S.location.pathname+S.location.search&&(ce=Xe.Replace);let vt=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,xt=(B&&B.unstable_flushSync)===!0,ae=S1({currentLocation:ee,nextLocation:J,historyAction:ce});if(ae){$f(ae,{state:"blocked",location:J,proceed(){$f(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),cn(I,B)},reset(){let je=new Map(S.blockers);je.set(ae,nu),Ze({blockers:je})}});return}return await ve(ce,J,{submission:Q,pendingError:de,preventScrollReset:vt,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition,flushSync:xt})}function hr(){if(Wc(),Ze({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){ve(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}ve(z||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function ve(I,B,H){U&&U.abort(),U=null,z=I,k=(H&&H.startUninterruptedRevalidation)===!0,Ik(S.location,S.matches),V=(H&&H.preventScrollReset)===!0,T=(H&&H.enableViewTransition)===!0;let q=o||a,Q=H&&H.overrideNavigation,de=nl(q,B,l),ee=(H&&H.flushSync)===!0;if(!de){let ae=Dn(404,{pathname:B.pathname}),{matches:je,route:ct}=Yw(q);Y0(),et(B,{matches:je,loaderData:{},errors:{[ct.id]:ae}},{flushSync:ee});return}if(S.initialized&&!P&&nR(S.location,B)&&!(H&&H.submission&&ar(H.submission.formMethod))){et(B,{matches:de},{flushSync:ee});return}U=new AbortController;let J=jo(n.history,B,U.signal,H&&H.submission),he;if(H&&H.pendingError)he=[ju(de).route.id,{type:Oe.error,error:H.pendingError}];else if(H&&H.submission&&ar(H.submission.formMethod)){let ae=await gt(J,B,H.submission,de,{replace:H.replace,flushSync:ee});if(ae.shortCircuited)return;he=ae.pendingActionResult,Q=Cv(B,H.submission),ee=!1,J=jo(n.history,J.url,J.signal)}let{shortCircuited:ce,loaderData:vt,errors:xt}=await un(J,B,de,Q,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,ee,he);ce||(U=null,et(B,Ue({matches:de},Kw(he),{loaderData:vt,errors:xt})))}async function gt(I,B,H,q,Q){Q===void 0&&(Q={}),Wc();let de=aR(B,H);Ze({navigation:de},{flushSync:Q.flushSync===!0});let ee,J=Rx(q,B);if(!J.route.action&&!J.route.lazy)ee={type:Oe.error,error:Dn(405,{method:I.method,pathname:B.pathname,routeId:J.route.id})};else if(ee=(await Vs("action",I,[J],q))[0],I.signal.aborted)return{shortCircuited:!0};if(sa(ee)){let he;return Q&&Q.replace!=null?he=Q.replace:he=Ww(ee.response.headers.get("Location"),new URL(I.url),l)===S.location.pathname+S.location.search,await $s(I,ee,{submission:H,replace:he}),{shortCircuited:!0}}if(ia(ee))throw Dn(400,{type:"defer-action"});if(On(ee)){let he=ju(q,J.route.id);return(Q&&Q.replace)!==!0&&(z=Xe.Push),{pendingActionResult:[he.route.id,ee]}}return{pendingActionResult:[J.route.id,ee]}}async function un(I,B,H,q,Q,de,ee,J,he,ce){let vt=q||Cv(B,Q),xt=Q||de||Zw(vt),ae=o||a,[je,ct]=Hw(n.history,S,H,xt,B,d.v7_partialHydration&&J===!0,d.unstable_skipActionErrorRevalidation,P,j,O,Ae,re,X,ae,l,ce);if(Y0(xe=>!(H&&H.some(Bt=>Bt.route.id===xe))||je&&je.some(Bt=>Bt.route.id===xe)),G=++$,je.length===0&&ct.length===0){let xe=E1();return et(B,Ue({matches:H,loaderData:{},errors:ce&&On(ce[1])?{[ce[0]]:ce[1].error}:null},Kw(ce),xe?{fetchers:new Map(S.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(!k&&(!d.v7_partialHydration||!J)){ct.forEach(Bt=>{let kn=S.fetchers.get(Bt.key),yt=ru(void 0,kn?kn.data:void 0);S.fetchers.set(Bt.key,yt)});let xe;ce&&!On(ce[1])?xe={[ce[0]]:ce[1].data}:S.actionData&&(Object.keys(S.actionData).length===0?xe=null:xe=S.actionData),Ze(Ue({navigation:vt},xe!==void 0?{actionData:xe}:{},ct.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:he})}ct.forEach(xe=>{F.has(xe.key)&&Cn(xe.key),xe.controller&&F.set(xe.key,xe.controller)});let Gc=()=>ct.forEach(xe=>Cn(xe.key));U&&U.signal.addEventListener("abort",Gc);let{loaderResults:Ui,fetcherResults:Mo}=await Ws(S.matches,H,je,ct,I);if(I.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Gc),ct.forEach(xe=>F.delete(xe.key));let Do=Qw([...Ui,...Mo]);if(Do){if(Do.idx>=je.length){let xe=ct[Do.idx-je.length].key;X.add(xe)}return await $s(I,Do.result,{replace:ee}),{shortCircuited:!0}}let{loaderData:Io,errors:mr}=qw(S,H,je,Ui,ce,ct,Mo,ne);ne.forEach((xe,Bt)=>{xe.subscribe(kn=>{(kn||xe.done)&&ne.delete(Bt)})}),d.v7_partialHydration&&J&&S.errors&&Object.entries(S.errors).filter(xe=>{let[Bt]=xe;return!je.some(kn=>kn.route.id===Bt)}).forEach(xe=>{let[Bt,kn]=xe;mr=Object.assign(mr||{},{[Bt]:kn})});let Vf=E1(),Wf=A1(G),Gf=Vf||Wf||ct.length>0;return Ue({loaderData:Io,errors:mr},Gf?{fetchers:new Map(S.fetchers)}:{})}function fr(I,B,H,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(I)&&Cn(I);let Q=(q&&q.unstable_flushSync)===!0,de=o||a,ee=Tx(S.location,S.matches,l,d.v7_prependBasename,H,d.v7_relativeSplatPath,B,q==null?void 0:q.relative),J=nl(de,ee,l);if(!J){Gs(I,B,Dn(404,{pathname:ee}),{flushSync:Q});return}let{path:he,submission:ce,error:vt}=Uw(d.v7_normalizeFormMethod,!0,ee,q);if(vt){Gs(I,B,vt,{flushSync:Q});return}let xt=Rx(J,he);if(V=(q&&q.preventScrollReset)===!0,ce&&ar(ce.formMethod)){Lo(I,B,he,xt,J,Q,ce);return}re.set(I,{routeId:B,path:he}),K0(I,B,he,xt,J,Q,ce)}async function Lo(I,B,H,q,Q,de,ee){if(Wc(),re.delete(I),!q.route.action&&!q.route.lazy){let yt=Dn(405,{method:ee.formMethod,pathname:H,routeId:B});Gs(I,B,yt,{flushSync:de});return}let J=S.fetchers.get(I);pr(I,oR(ee,J),{flushSync:de});let he=new AbortController,ce=jo(n.history,H,he.signal,ee);F.set(I,he);let vt=$,ae=(await Vs("action",ce,[q],Q))[0];if(ce.signal.aborted){F.get(I)===he&&F.delete(I);return}if(d.v7_fetcherPersist&&Ae.has(I)){if(sa(ae)||On(ae)){pr(I,$i(void 0));return}}else{if(sa(ae))if(F.delete(I),G>vt){pr(I,$i(void 0));return}else return X.add(I),pr(I,ru(ee)),$s(ce,ae,{fetcherSubmission:ee});if(On(ae)){Gs(I,B,ae.error);return}}if(ia(ae))throw Dn(400,{type:"defer-action"});let je=S.navigation.location||S.location,ct=jo(n.history,je,he.signal),Gc=o||a,Ui=S.navigation.state!=="idle"?nl(Gc,S.navigation.location,l):S.matches;ue(Ui,"Didn't find any matches after fetcher action");let Mo=++$;K.set(I,Mo);let Do=ru(ee,ae.data);S.fetchers.set(I,Do);let[Io,mr]=Hw(n.history,S,Ui,ee,je,!1,d.unstable_skipActionErrorRevalidation,P,j,O,Ae,re,X,Gc,l,[q.route.id,ae]);mr.filter(yt=>yt.key!==I).forEach(yt=>{let qc=yt.key,T1=S.fetchers.get(qc),jk=ru(void 0,T1?T1.data:void 0);S.fetchers.set(qc,jk),F.has(qc)&&Cn(qc),yt.controller&&F.set(qc,yt.controller)}),Ze({fetchers:new Map(S.fetchers)});let Vf=()=>mr.forEach(yt=>Cn(yt.key));he.signal.addEventListener("abort",Vf);let{loaderResults:Wf,fetcherResults:Gf}=await Ws(S.matches,Ui,Io,mr,ct);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Vf),K.delete(I),F.delete(I),mr.forEach(yt=>F.delete(yt.key));let xe=Qw([...Wf,...Gf]);if(xe){if(xe.idx>=Io.length){let yt=mr[xe.idx-Io.length].key;X.add(yt)}return $s(ct,xe.result)}let{loaderData:Bt,errors:kn}=qw(S,S.matches,Io,Wf,void 0,mr,Gf,ne);if(S.fetchers.has(I)){let yt=$i(ae.data);S.fetchers.set(I,yt)}A1(Mo),S.navigation.state==="loading"&&Mo>G?(ue(z,"Expected pending action"),U&&U.abort(),et(S.navigation.location,{matches:Ui,loaderData:Bt,errors:kn,fetchers:new Map(S.fetchers)})):(Ze({errors:kn,loaderData:Xw(S.loaderData,Bt,Ui,kn),fetchers:new Map(S.fetchers)}),P=!1)}async function K0(I,B,H,q,Q,de,ee){let J=S.fetchers.get(I);pr(I,ru(ee,J?J.data:void 0),{flushSync:de});let he=new AbortController,ce=jo(n.history,H,he.signal);F.set(I,he);let vt=$,ae=(await Vs("loader",ce,[q],Q))[0];if(ia(ae)&&(ae=await iS(ae,ce.signal,!0)||ae),F.get(I)===he&&F.delete(I),!ce.signal.aborted){if(Ae.has(I)){pr(I,$i(void 0));return}if(sa(ae))if(G>vt){pr(I,$i(void 0));return}else{X.add(I),await $s(ce,ae);return}if(On(ae)){Gs(I,B,ae.error);return}ue(!ia(ae),"Unhandled fetcher deferred data"),pr(I,$i(ae.data))}}async function $s(I,B,H){let{submission:q,fetcherSubmission:Q,replace:de}=H===void 0?{}:H;B.response.headers.has("X-Remix-Revalidate")&&(P=!0);let ee=B.response.headers.get("Location");ue(ee,"Expected a Location header on the redirect Response"),ee=Ww(ee,new URL(I.url),l);let J=id(S.location,ee,{_isRedirect:!0});if(t){let je=!1;if(B.response.headers.has("X-Remix-Reload-Document"))je=!0;else if(n1.test(ee)){const ct=n.history.createURL(ee);je=ct.origin!==e.location.origin||Fi(ct.pathname,l)==null}if(je){de?e.location.replace(ee):e.location.assign(ee);return}}U=null;let he=de===!0?Xe.Replace:Xe.Push,{formMethod:ce,formAction:vt,formEncType:xt}=S.navigation;!q&&!Q&&ce&&vt&&xt&&(q=Zw(S.navigation));let ae=q||Q;if($P.has(B.response.status)&&ae&&ar(ae.formMethod))await ve(he,J,{submission:Ue({},ae,{formAction:ee}),preventScrollReset:V});else{let je=Cv(J,q);await ve(he,J,{overrideNavigation:je,fetcherSubmission:Q,preventScrollReset:V})}}async function Vs(I,B,H,q){try{let Q=await QP(u,I,B,H,q,s,i);return await Promise.all(Q.map((de,ee)=>{if(rR(de)){let J=de.result;return{type:Oe.redirect,response:eR(J,B,H[ee].route.id,q,l,d.v7_relativeSplatPath)}}return ZP(de)}))}catch(Q){return H.map(()=>({type:Oe.error,error:Q}))}}async function Ws(I,B,H,q,Q){let[de,...ee]=await Promise.all([H.length?Vs("loader",Q,H,B):[],...q.map(J=>{if(J.matches&&J.match&&J.controller){let he=jo(n.history,J.path,J.controller.signal);return Vs("loader",he,[J.match],J.matches).then(ce=>ce[0])}else return Promise.resolve({type:Oe.error,error:Dn(404,{pathname:J.path})})})]);return await Promise.all([Jw(I,H,de,de.map(()=>Q.signal),!1,S.loaderData),Jw(I,q.map(J=>J.match),ee,q.map(J=>J.controller?J.controller.signal:null),!0)]),{loaderResults:de,fetcherResults:ee}}function Wc(){P=!0,j.push(...Y0()),re.forEach((I,B)=>{F.has(B)&&(O.push(B),Cn(B))})}function pr(I,B,H){H===void 0&&(H={}),S.fetchers.set(I,B),Ze({fetchers:new Map(S.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function Gs(I,B,H,q){q===void 0&&(q={});let Q=ju(S.matches,B);No(I),Ze({errors:{[Q.route.id]:H},fetchers:new Map(S.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Hf(I){return d.v7_fetcherPersist&&(me.set(I,(me.get(I)||0)+1),Ae.has(I)&&Ae.delete(I)),S.fetchers.get(I)||VP}function No(I){let B=S.fetchers.get(I);F.has(I)&&!(B&&B.state==="loading"&&K.has(I))&&Cn(I),re.delete(I),K.delete(I),X.delete(I),Ae.delete(I),S.fetchers.delete(I)}function Bi(I){if(d.v7_fetcherPersist){let B=(me.get(I)||0)-1;B<=0?(me.delete(I),Ae.add(I)):me.set(I,B)}else No(I);Ze({fetchers:new Map(S.fetchers)})}function Cn(I){let B=F.get(I);ue(B,"Expected fetch controller: "+I),B.abort(),F.delete(I)}function $r(I){for(let B of I){let H=Hf(B),q=$i(H.data);S.fetchers.set(B,q)}}function E1(){let I=[],B=!1;for(let H of X){let q=S.fetchers.get(H);ue(q,"Expected fetcher: "+H),q.state==="loading"&&(X.delete(H),I.push(H),B=!0)}return $r(I),B}function A1(I){let B=[];for(let[H,q]of K)if(q<I){let Q=S.fetchers.get(H);ue(Q,"Expected fetcher: "+H),Q.state==="loading"&&(Cn(H),K.delete(H),B.push(H))}return $r(B),B.length>0}function Mk(I,B){let H=S.blockers.get(I)||nu;return le.get(I)!==B&&le.set(I,B),H}function _1(I){S.blockers.delete(I),le.delete(I)}function $f(I,B){let H=S.blockers.get(I)||nu;ue(H.state==="unblocked"&&B.state==="blocked"||H.state==="blocked"&&B.state==="blocked"||H.state==="blocked"&&B.state==="proceeding"||H.state==="blocked"&&B.state==="unblocked"||H.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+B.state);let q=new Map(S.blockers);q.set(I,B),Ze({blockers:q})}function S1(I){let{currentLocation:B,nextLocation:H,historyAction:q}=I;if(le.size===0)return;le.size>1&&jc(!1,"A router only supports one blocker at a time");let Q=Array.from(le.entries()),[de,ee]=Q[Q.length-1],J=S.blockers.get(de);if(!(J&&J.state==="proceeding")&&ee({currentLocation:B,nextLocation:H,historyAction:q}))return de}function Y0(I){let B=[];return ne.forEach((H,q)=>{(!I||I(q))&&(H.cancel(),B.push(q),ne.delete(q))}),B}function Dk(I,B,H){if(m=I,b=B,g=H||null,!E&&S.navigation===Sv){E=!0;let q=k1(S.location,S.matches);q!=null&&Ze({restoreScrollPosition:q})}return()=>{m=null,b=null,g=null}}function C1(I,B){return g&&g(I,B.map(q=>wP(q,S.loaderData)))||I.key}function Ik(I,B){if(m&&b){let H=C1(I,B);m[H]=b()}}function k1(I,B){if(m){let H=C1(I,B),q=m[H];if(typeof q=="number")return q}return null}function Fk(I){s={},o=Cx(I,i,void 0,s)}return M={get basename(){return l},get future(){return d},get state(){return S},get routes(){return a},get window(){return e},initialize:Hr,subscribe:Hs,enableScrollRestoration:Dk,navigate:cn,fetch:fr,revalidate:hr,createHref:I=>n.history.createHref(I),encodeLocation:I=>n.history.encodeLocation(I),getFetcher:Hf,deleteFetcher:Bi,dispose:Fe,getBlocker:Mk,deleteBlocker:_1,_internalFetchControllers:F,_internalActiveDeferreds:ne,_internalSetRoutes:Fk},M}function qP(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Tx(n,e,t,r,i,s,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let d=Zb(i||".",Jb(l,s),Fi(n.pathname,t)||n.pathname,o==="path");return i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!r1(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Pi([t,d.pathname])),wo(d)}function Uw(n,e,t,r){if(!r||!qP(r))return{path:t};if(r.formMethod&&!sR(r.formMethod))return{path:t,error:Dn(405,{method:r.formMethod})};let i=()=>({path:t,error:Dn(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=n?s.toUpperCase():s.toLowerCase(),o=nS(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ar(a))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[b,E]=g;return""+m+b+"="+E+`
`},""):String(r.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ar(a))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ue(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Px(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Px(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Gw(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Gw(l)}catch{return i()}let d={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ar(d.formMethod))return{path:t,submission:d};let h=Oi(t);return e&&h.search&&r1(h.search)&&l.append("index",""),h.search="?"+l,{path:wo(h),submission:d}}function XP(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function Hw(n,e,t,r,i,s,a,o,l,u,d,h,f,m,g,b){let E=b?On(b[1])?b[1].error:b[1].data:void 0,v=n.createURL(e.location),y=n.createURL(i),w=b&&On(b[1])?b[0]:void 0,C=w?XP(t,w):t,R=b?b[1].statusCode:void 0,M=a&&R&&R>=400,S=C.filter((V,U)=>{let{route:T}=V;if(T.lazy)return!0;if(T.loader==null)return!1;if(s)return typeof T.loader!="function"||T.loader.hydrate?!0:e.loaderData[T.id]===void 0&&(!e.errors||e.errors[T.id]===void 0);if(KP(e.loaderData,e.matches[U],V)||l.some(k=>k===V.route.id))return!0;let D=e.matches[U],L=V;return $w(V,Ue({currentUrl:v,currentParams:D.params,nextUrl:y,nextParams:L.params},r,{actionResult:E,unstable_actionStatus:R,defaultShouldRevalidate:M?!1:o||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||tS(D,L)}))}),z=[];return h.forEach((V,U)=>{if(s||!t.some(P=>P.route.id===V.routeId)||d.has(U))return;let T=nl(m,V.path,g);if(!T){z.push({key:U,routeId:V.routeId,path:V.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(U),L=Rx(T,V.path),k=!1;f.has(U)?k=!1:u.includes(U)?k=!0:D&&D.state!=="idle"&&D.data===void 0?k=o:k=$w(L,Ue({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},r,{actionResult:E,unstable_actionStatus:R,defaultShouldRevalidate:M?!1:o})),k&&z.push({key:U,routeId:V.routeId,path:V.path,matches:T,match:L,controller:new AbortController})}),[S,z]}function KP(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function tS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function $w(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function Vw(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ue(i,"No route found in manifest");let s={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";jc(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!yP.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,Ue({},e(i),{lazy:void 0}))}function YP(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function QP(n,e,t,r,i,s,a,o){let l=r.reduce((h,f)=>h.add(f.route.id),new Set),u=new Set,d=await n({matches:i.map(h=>{let f=l.has(h.route.id);return Ue({},h,{shouldLoad:f,resolve:g=>(u.add(h.route.id),f?JP(e,t,h,s,a,g,o):Promise.resolve({type:Oe.data,result:void 0}))})}),request:t,params:i[0].params,context:o});return i.forEach(h=>ue(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,f)=>l.has(i[f].route.id))}async function JP(n,e,t,r,i,s,a){let o,l,u=d=>{let h,f=new Promise((b,E)=>h=E);l=()=>h(),e.signal.addEventListener("abort",l);let m=b=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),g;return s?g=s(b=>m(b)):g=(async()=>{try{return{type:"data",result:await m()}}catch(b){return{type:"error",result:b}}})(),Promise.race([g,f])};try{let d=t.route[n];if(t.route.lazy)if(d){let h,[f]=await Promise.all([u(d).catch(m=>{h=m}),Vw(t.route,i,r)]);if(h!==void 0)throw h;o=f}else if(await Vw(t.route,i,r),d=t.route[n],d)o=await u(d);else if(n==="action"){let h=new URL(e.url),f=h.pathname+h.search;throw Dn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:Oe.data,result:void 0};else if(d)o=await u(d);else{let h=new URL(e.url),f=h.pathname+h.search;throw Dn(404,{pathname:f})}ue(o.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Oe.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function ZP(n){let{result:e,type:t,status:r}=n;if(rS(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:Oe.error,error:o}}return t===Oe.error?{type:Oe.error,error:new e1(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:Oe.data,data:a,statusCode:e.status,headers:e.headers}}if(t===Oe.error)return{type:Oe.error,error:e,statusCode:t1(e)?e.status:r};if(iR(e)){var i,s;return{type:Oe.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Oe.data,data:e,statusCode:r}}function eR(n,e,t,r,i,s){let a=n.headers.get("Location");if(ue(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!n1.test(a)){let o=r.slice(0,r.findIndex(l=>l.route.id===t)+1);a=Tx(new URL(e.url),o,i,!0,a,s),n.headers.set("Location",a)}return n}function Ww(n,e,t){if(n1.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Fi(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function jo(n,e,t,r){let i=n.createURL(nS(e)).toString(),s={signal:t};if(r&&ar(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=Px(r.formData):s.body=r.formData}return new Request(i,s)}function Px(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Gw(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function tR(n,e,t,r,i,s){let a={},o=null,l,u=!1,d={},h=r&&On(r[1])?r[1].error:void 0;return t.forEach((f,m)=>{let g=e[m].route.id;if(ue(!sa(f),"Cannot handle redirect results in processLoaderData"),On(f)){let b=f.error;h!==void 0&&(b=h,h=void 0),o=o||{};{let E=ju(n,g);o[E.route.id]==null&&(o[E.route.id]=b)}a[g]=void 0,u||(u=!0,l=t1(f.error)?f.error.status:500),f.headers&&(d[g]=f.headers)}else ia(f)?(i.set(g,f.deferredData),a[g]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[g]=f.headers)):(a[g]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[g]=f.headers))}),h!==void 0&&r&&(o={[r[0]]:h},a[r[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:d}}function qw(n,e,t,r,i,s,a,o){let{loaderData:l,errors:u}=tR(e,t,r,i,o);for(let d=0;d<s.length;d++){let{key:h,match:f,controller:m}=s[d];ue(a!==void 0&&a[d]!==void 0,"Did not find corresponding fetcher result");let g=a[d];if(!(m&&m.signal.aborted))if(On(g)){let b=ju(n.matches,f==null?void 0:f.route.id);u&&u[b.route.id]||(u=Ue({},u,{[b.route.id]:g.error})),n.fetchers.delete(h)}else if(sa(g))ue(!1,"Unhandled fetcher revalidation redirect");else if(ia(g))ue(!1,"Unhandled fetcher deferred data");else{let b=$i(g.data);n.fetchers.set(h,b)}}return{loaderData:l,errors:u}}function Xw(n,e,t,r){let i=Ue({},e);for(let s of t){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):n[a]!==void 0&&s.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function Kw(n){return n?On(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ju(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Yw(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dn(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,a="Unknown Server Error",o="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&t&&r?o="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?o="defer() is not supported in actions":s==="invalid-body"&&(o="Unable to encode submission body")):n===403?(a="Forbidden",o='Route "'+r+'" does not match URL "'+t+'"'):n===404?(a="Not Found",o='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",i&&t&&r?o="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new e1(n||500,a,new Error(o),!0)}function Qw(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(sa(t))return{result:t,idx:e}}}function nS(n){let e=typeof n=="string"?Oi(n):n;return wo(Ue({},e,{hash:""}))}function nR(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function rR(n){return rS(n.result)&&HP.has(n.result.status)}function ia(n){return n.type===Oe.deferred}function On(n){return n.type===Oe.error}function sa(n){return(n&&n.type)===Oe.redirect}function iR(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function sR(n){return UP.has(n.toLowerCase())}function ar(n){return zP.has(n.toLowerCase())}async function Jw(n,e,t,r,i,s){for(let a=0;a<t.length;a++){let o=t[a],l=e[a];if(!l)continue;let u=n.find(h=>h.route.id===l.route.id),d=u!=null&&!tS(u,l)&&(s&&s[l.route.id])!==void 0;if(ia(o)&&(i||d)){let h=r[a];ue(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await iS(o,h,i).then(f=>{f&&(t[a]=f||t[a])})}}}async function iS(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Oe.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Oe.error,error:i}}return{type:Oe.data,data:n.deferredData.data}}}function r1(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Rx(n,e){let t=typeof e=="string"?Oi(e).search:e.search;if(n[n.length-1].route.index&&r1(t||""))return n[n.length-1];let r=J_(n);return r[r.length-1]}function Zw(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:a}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function Cv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aR(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ru(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oR(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function $i(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function lR(n,e){try{let t=n.sessionStorage.getItem(eS);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function cR(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(eS,JSON.stringify(t))}catch(r){jc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sd.apply(this,arguments)}const Df=N.createContext(null),i1=N.createContext(null),Bs=N.createContext(null),P0=N.createContext(null),zi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=N.createContext(null);function uR(n,e){let{relative:t}=e===void 0?{}:e;If()||ue(!1);let{basename:r,navigator:i}=N.useContext(Bs),{hash:s,pathname:a,search:o}=L0(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Pi([r,a])),i.createHref({pathname:l,search:o,hash:s})}function If(){return N.useContext(P0)!=null}function Ff(){return If()||ue(!1),N.useContext(P0).location}function aS(n){N.useContext(Bs).static||N.useLayoutEffect(n)}function R0(){let{isDataRoute:n}=N.useContext(zi);return n?AR():dR()}function dR(){If()||ue(!1);let n=N.useContext(Df),{basename:e,future:t,navigator:r}=N.useContext(Bs),{matches:i}=N.useContext(zi),{pathname:s}=Ff(),a=JSON.stringify(Jb(i,t.v7_relativeSplatPath)),o=N.useRef(!1);return aS(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=Zb(u,JSON.parse(a),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Pi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,s,n])}const oS=N.createContext(null);function hR(){return N.useContext(oS)}function fR(n){let e=N.useContext(zi).outlet;return e&&N.createElement(oS.Provider,{value:n},e)}function lS(){let{matches:n}=N.useContext(zi),e=n[n.length-1];return e?e.params:{}}function L0(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=N.useContext(Bs),{matches:i}=N.useContext(zi),{pathname:s}=Ff(),a=JSON.stringify(Jb(i,r.v7_relativeSplatPath));return N.useMemo(()=>Zb(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function pR(n,e){return cS(n,e)}function cS(n,e,t,r){If()||ue(!1);let{navigator:i}=N.useContext(Bs),{matches:s}=N.useContext(zi),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ff(),d;if(e){var h;let E=typeof e=="string"?Oi(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ue(!1),d=E}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=nl(n,{pathname:m}),b=yR(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Pi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Pi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,t,r);return e&&b?N.createElement(P0.Provider,{value:{location:sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xe.Pop}},b):b}function mR(){let n=ER(),e=t1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:i},t):null,null)}const gR=N.createElement(mR,null);class vR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(zi.Provider,{value:this.props.routeContext},N.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xR(n){let{routeContext:e,match:t,children:r}=n,i=N.useContext(Df);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(zi.Provider,{value:e},r)}function yR(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ue(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=t,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,g=!1,b=null,E=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||gR,l&&(u<0&&f===0?(_R("route-fallback"),g=!0,E=null):u===f&&(g=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),y=()=>{let w;return m?w=b:g?w=E:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,N.createElement(xR,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(vR,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var uS=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(uS||{}),Oc=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Oc||{});function bR(n){let e=N.useContext(Df);return e||ue(!1),e}function dS(n){let e=N.useContext(i1);return e||ue(!1),e}function wR(n){let e=N.useContext(zi);return e||ue(!1),e}function s1(n){let e=wR(),t=e.matches[e.matches.length-1];return t.route.id||ue(!1),t.route.id}function N0(){let n=dS(Oc.UseLoaderData),e=s1(Oc.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function ER(){var n;let e=N.useContext(sS),t=dS(Oc.UseRouteError),r=s1(Oc.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function AR(){let{router:n}=bR(uS.UseNavigateStable),e=s1(Oc.UseNavigateStable),t=N.useRef(!1);return aS(()=>{t.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,sd({fromRouteId:e},s)))},[n,e])}const eE={};function _R(n,e,t){eE[n]||(eE[n]=!0)}function SR(n){return fR(n.context)}function Lx(n){ue(!1)}function CR(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Xe.Pop,navigator:s,static:a=!1,future:o}=n;If()&&ue(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:a,future:sd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Oi(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,b=N.useMemo(()=>{let E=Fi(d,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:m,key:g},navigationType:i}},[l,d,h,f,m,g,i]);return b==null?null:N.createElement(Bs.Provider,{value:u},N.createElement(P0.Provider,{children:t,value:b}))}function kR(n){let{children:e,location:t}=n;return pR(Nx(e),t)}new Promise(()=>{});function Nx(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){t.push.apply(t,Nx(r.props.children,s));return}r.type!==Lx&&ue(!1),!r.props.index||!r.props.children||ue(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Nx(r.props.children,s)),t.push(a)}),t}function TR(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:N.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zc.apply(this,arguments)}function hS(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function PR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RR(n,e){return n.button===0&&(!e||e==="_self")&&!PR(n)}const LR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NR=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],MR="6";try{window.__reactRouterVersion=MR}catch{}function DR(n,e){return GP({basename:void 0,future:zc({},void 0,{v7_prependBasename:!0}),history:gP({window:void 0}),hydrationData:IR(),routes:n,mapRouteProperties:TR,unstable_dataStrategy:void 0,window:void 0}).initialize()}function IR(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=zc({},e,{errors:FR(e.errors)})),e}function FR(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new e1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",t[r]=a}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const fS=N.createContext({isTransitioning:!1}),jR=N.createContext(new Map),OR="startTransition",tE=r2[OR],zR="flushSync",nE=mP[zR];function BR(n){tE?tE(n):n()}function iu(n){nE?nE(n):n()}class UR{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function HR(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=N.useState(t.state),[a,o]=N.useState(),[l,u]=N.useState({isTransitioning:!1}),[d,h]=N.useState(),[f,m]=N.useState(),[g,b]=N.useState(),E=N.useRef(new Map),{v7_startTransition:v}=r||{},y=N.useCallback(S=>{v?BR(S):S()},[v]),w=N.useCallback((S,z)=>{let{deletedFetchers:V,unstable_flushSync:U,unstable_viewTransitionOpts:T}=z;V.forEach(L=>E.current.delete(L)),S.fetchers.forEach((L,k)=>{L.data!==void 0&&E.current.set(k,L.data)});let D=t.window==null||typeof t.window.document.startViewTransition!="function";if(!T||D){U?iu(()=>s(S)):y(()=>s(S));return}if(U){iu(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let L=t.window.document.startViewTransition(()=>{iu(()=>s(S))});L.finished.finally(()=>{iu(()=>{h(void 0),m(void 0),o(void 0),u({isTransitioning:!1})})}),iu(()=>m(L));return}f?(d&&d.resolve(),f.skipTransition(),b({state:S,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(o(S),u({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[t.window,f,d,E,y]);N.useLayoutEffect(()=>t.subscribe(w),[t,w]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new UR)},[l]),N.useEffect(()=>{if(d&&a&&t.window){let S=a,z=d.promise,V=t.window.document.startViewTransition(async()=>{y(()=>s(S)),await z});V.finished.finally(()=>{h(void 0),m(void 0),o(void 0),u({isTransitioning:!1})}),m(V)}},[y,a,d,t.window]),N.useEffect(()=>{d&&a&&i.location.key===a.location.key&&d.resolve()},[d,f,i.location,a]),N.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),b(void 0))},[l.isTransitioning,g]),N.useEffect(()=>{},[]);let C=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,z,V)=>t.navigate(S,{state:z,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(S,z,V)=>t.navigate(S,{replace:!0,state:z,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[t]),R=t.basename||"/",M=N.useMemo(()=>({router:t,navigator:C,static:!1,basename:R}),[t,C,R]);return N.createElement(N.Fragment,null,N.createElement(Df.Provider,{value:M},N.createElement(i1.Provider,{value:i},N.createElement(jR.Provider,{value:E.current},N.createElement(fS.Provider,{value:l},N.createElement(CR,{basename:R,location:i.location,navigationType:i.historyAction,navigator:C,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?N.createElement($R,{routes:t.routes,future:t.future,state:i}):e))))),null)}function $R(n){let{routes:e,future:t,state:r}=n;return cS(e,void 0,r,t)}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a1=N.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=hS(e,LR),{basename:m}=N.useContext(Bs),g,b=!1;if(typeof u=="string"&&WR.test(u)&&(g=u,VR))try{let w=new URL(window.location.href),C=u.startsWith("//")?new URL(w.protocol+u):new URL(u),R=Fi(C.pathname,m);C.origin===w.origin&&R!=null?u=R+C.search+C.hash:b=!0}catch{}let E=uR(u,{relative:i}),v=qR(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function y(w){r&&r(w),w.defaultPrevented||v(w)}return N.createElement("a",zc({},f,{href:g||E,onClick:b||s?r:y,ref:t,target:l}))}),zn=N.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,unstable_viewTransition:u,children:d}=e,h=hS(e,NR),f=L0(l,{relative:h.relative}),m=Ff(),g=N.useContext(i1),{navigator:b,basename:E}=N.useContext(Bs),v=g!=null&&XR(f)&&u===!0,y=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,w=m.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(w=w.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&E&&(C=Fi(C,E)||C);const R=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=w===y||!a&&w.startsWith(y)&&w.charAt(R)==="/",S=C!=null&&(C===y||!a&&C.startsWith(y)&&C.charAt(y.length)==="/"),z={isActive:M,isPending:S,isTransitioning:v},V=M?r:void 0,U;typeof s=="function"?U=s(z):U=[s,M?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(z):o;return N.createElement(a1,zc({},h,{"aria-current":V,className:U,ref:t,style:T,to:l,unstable_viewTransition:u}),typeof d=="function"?d(z):d)});var Mx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Mx||(Mx={}));var rE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rE||(rE={}));function GR(n){let e=N.useContext(Df);return e||ue(!1),e}function qR(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=R0(),u=Ff(),d=L0(n,{relative:a});return N.useCallback(h=>{if(RR(h,t)){h.preventDefault();let f=r!==void 0?r:wo(u)===wo(d);l(n,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,d,r,i,t,n,s,a,o])}function XR(n,e){e===void 0&&(e={});let t=N.useContext(fS);t==null&&ue(!1);let{basename:r}=GR(Mx.useViewTransitionState),i=L0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Fi(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Fi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return kx(i.pathname,a)!=null||kx(i.pathname,s)!=null}const Vc="/assets/sevenBrew_Secondary-trtCIEtf.png";function KR({setToken:n}){const[e,t]=N.useState(""),[r,i]=N.useState(""),s=R0();async function a(o){o.preventDefault();const l=await fetch("http://localhost:3000/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:r})}),u=await l.json();l.status===200?(console.log(u),localStorage.setItem("jwt-token",u.token),n(u.token),s("/"),location.reload()):(alert("The username or password is incorrect"),console.log(u.response))}return p.jsx("div",{children:p.jsxs("form",{onSubmit:a,className:"flex flex-col items-center justify-center",children:[p.jsx("figure",{className:"flex size-1/3 m-2 md:size-28",children:p.jsx("img",{src:Vc,alt:"7 Brew Logo"})}),p.jsx("h1",{className:"text-4xl m-3",children:"Log In"}),p.jsxs("label",{className:"form-control w-full max-w-xs",children:[p.jsx("span",{className:"text-3xl m-4",children:"Email:"}),p.jsx("input",{type:"text",placeholder:"Email",className:" input input-bordered w-full max-w-xs text-3xl",onChange:o=>t(o.target.value)})]}),p.jsxs("label",{className:"form-control w-full max-w-xs",children:[p.jsx("span",{className:"text-3xl m-4",children:"Password:"}),p.jsx("input",{placeholder:"Password",type:"password",className:" input input-bordered w-full max-w-xs",onChange:o=>i(o.target.value)})]}),p.jsx("button",{className:"btn btn-secondary text-white text-2xl m-4",children:p.jsx("a",{href:"http://localhost:5173/user/email",children:"Forgot your password?"})}),p.jsx("button",{className:"btn btn-wide btn-primary m-3 text-2xl",type:"submit",children:"Submit"})]})})}function M0(){return p.jsxs("div",{className:"flex bg-secondary sticky z-10 bottom-0 md:w-screen",children:[p.jsx("figure",{className:"flex size-1/3 m-2 md:size-28",children:p.jsx("img",{src:Vc,alt:"7 Brew Logo"})}),p.jsxs("div",{className:"flex card-body",children:[p.jsx("div",{className:"card-title flex justify-end text-accent",children:"info@7Brew.com"}),p.jsx("div",{className:"card-title flex justify-end text-accent",children:"479-358-9274"})]})]})}function YR(){const[n,e]=N.useState(localStorage.getItem("jwt-token"));return p.jsxs("div",{className:"flex flex-col justify-between h-screen overflow-y-auto",children:[p.jsx(KR,{setToken:e}),p.jsx(M0,{})]})}function QR(){return p.jsx(zn,{to:"/",className:"btn bg-neutral text-accent hover:bg-primary hover:text-accent rounded-xl mx-8",onClick:()=>{localStorage.removeItem("jwt-token")},reloadDocument:!0,children:"Log Out"})}function JR(){const[n,e]=N.useState([]);N.useEffect(()=>{(async()=>{try{const a=await(await fetch("http://localhost:3000/user/role",{method:"GET",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")}})).json();e(a)}catch(s){console.log(s)}})()},[]);const t=n.map(i=>i.firstName),r=n.map(i=>i.role);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:["Hello ",t]}),r[0]==="Admin"||r[0]==="Manager"||r[0]==="Regional Manager"?p.jsxs(p.Fragment,{children:[p.jsx(zn,{to:"addadmin",children:"Add Manager"}),p.jsx(zn,{to:"addemployee",children:"Add Employee"}),p.jsx(zn,{to:"allusers",children:"View All Users"}),p.jsx(zn,{to:"testResults",children:"Employee Test Results"}),p.jsx(zn,{to:"recipes",children:"Recipe Creation"})]}):p.jsx(p.Fragment,{})]})}function ZR(){return p.jsx(p.Fragment,{children:p.jsx(zn,{to:"edit",children:"Edit Profile"})})}function eL(){const[n,e]=N.useState(localStorage.getItem("theme")?localStorage.getItem("theme"):"light"),t=r=>{r.target.checked?e("dark"):e("light")};return N.useEffect(()=>{localStorage.setItem("theme",n);const r=localStorage.getItem("theme");document.querySelector("html").setAttribute("data-theme",r)},[n]),p.jsxs("div",{className:"flex justify-between bg-primary sticky z-10 top-0  max-w-full md:w-screen",children:[p.jsx("figure",{className:"flex size-0 m-1 md:size-28",children:p.jsx("img",{src:Vc,alt:"7 Brew Logo"})}),p.jsxs("label",{className:"swap swap-rotate text-accent",children:[p.jsx("input",{type:"checkbox",onChange:t}),p.jsx("svg",{className:"swap-on fill-current w-10 h-10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),p.jsx("svg",{className:"swap-off fill-current w-10 h-10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]}),p.jsxs("div",{className:"navbar bg-primary",children:[p.jsx("div",{className:"navbar bg-primary lg:flex",children:p.jsxs("div",{className:"dropdown dropdown-bottom dropdown-start",children:[p.jsx("div",{tabIndex:"0",role:"button",className:"btn btn-square btn-white hover:bg-neutral hover:text-accent m-1",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),p.jsxs("ul",{tabIndex:"0",className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 border-2 border-primary",children:[p.jsx("li",{children:p.jsx(JR,{})}),p.jsx("li",{children:p.jsx(ZR,{})}),p.jsx("li",{children:p.jsx(QR,{children:"Log Out"})})]})]})}),p.jsxs("div",{className:" navbar text-accent flex justify-evenly md:justify-space-between",children:[p.jsx(zn,{className:"btn hover:bg-neutral hover:text-accent m-1",to:"/",children:"Daily News"}),p.jsx(zn,{className:"btn hover:bg-neutral hover:text-accent m-1",to:"/Allrecipes",children:"Recipes"}),p.jsx(zn,{className:"btn hover:bg-neutral hover:text-accent m-1",to:"/flashcards",end:!0,children:"Study"}),p.jsx(zn,{className:"btn hover:bg-neutral hover:text-accent m-1",to:"/quiz",end:!0,children:"Testing"})]})]})]})}function Dx(){async function n(e){const t=new FormData(e.target);let r={};for(let[a,o]of t.entries())o.trim()!==""&&(r[a]=o);var i=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,s=r.email;if(e.preventDefault(),i.test(s)){const a=await fetch("http://localhost:3000/forgotPassword",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:s})}),o=await a.json();a.status===200?(console.log(o),alert("Recovery email has been sent to "+s)):console.log(o.response)}else alert("Please enter a valid Email Address")}return p.jsxs("div",{children:[p.jsxs("form",{name:"userEmail",onSubmit:n,className:"flex flex-col h-max items-center justify-center",children:[p.jsx("figure",{className:"flex size-1/3 m-2 md:size-44",children:p.jsx("img",{src:Vc,alt:"7 Brew Logo"})}),p.jsxs("label",{className:"flex form-control m-3 p-3 gap-5 items-center",children:[p.jsx("span",{children:"Please enter email to recieve link to reset password"}),p.jsx("input",{type:"text",placeholder:"Email",className:" input input-bordered w-full max-w-xs text-3xl",name:"email"}),p.jsx("button",{className:"btn btn-wide btn-primary m-3 text-2xl",type:"submit",children:"Submit"})]})]}),p.jsx("div",{className:"flex bg-secondary absolute z-10 bottom-0 md:w-screen",children:p.jsx(M0,{})})]})}function tL(){const[n,e]=N.useState(localStorage.getItem("jwt-token")),[t,r]=N.useState({});async function i(){const a=await(await fetch("http://localhost:3000/user",{method:"GET",headers:{"Content-type":"application/json",authorization:n}})).json();r(a.userInfo)}return n&&Object.keys(t).length===0&&i(),p.jsx(p.Fragment,{children:n?p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col h-screen overflow-y-auto",children:[p.jsx(eL,{}),p.jsx("div",{className:"flex flex-col h-full overflow-y-auto",children:p.jsx(SR,{context:{userInfo:t}})}),p.jsx(M0,{})]})}):p.jsx(p.Fragment,{children:p.jsx(YR,{setToken:e})})})}function nL(){const[n,e]=N.useState([]),[t,r]=N.useState([]),[i,s]=N.useState([]),[a,o]=N.useState({all:!0,"recipe-quick":!1,"customer-questions":!1,"company-culture":!1,"brewista-positions":!1,"brewista-terms":!1,"recipe-prep":!1,"recipe-dairy":!1,"recipe-tea":!1,"recipe-questions":!1});N.useEffect(()=>{async function f(){const g=await(await fetch("http://localhost:3000/flashcards")).json();e(g),r(g)}f()},[]),N.useEffect(()=>{if(i.length>0){let f=n.filter(m=>i.includes(m.category));r(f)}else r(n)},[i]);function l(f){f.preventDefault();let m=[...t],g=m.shift();m.push(g),r(m)}function u(f){f.preventDefault();let m=[...t],g=m.pop();m.unshift(g),r(m)}function d(f){let m=Object.values(a);if(m.shift(),f==="all")if(a.all)m.includes(!0)?o({...a,all:!1}):o({...a,all:!0});else{let g={...a};for(let b in a)b!=="all"&&(g={...g,[`${b}`]:!1});o({...g,all:!0}),s([])}else{let g={...a};if(m.includes(!0)||(g={...g,all:!1}),a[f]){const b=[...i],E=i.findIndex(()=>f);b.splice(E,1),s(b),b.length===0&&(g={...g,all:!0})}else{const b=[...i,f];s(b)}o({...g,[`${f}`]:!a[f]})}}function h(f){f.target.title!==t[0].cardNumber&&f.preventDefault()}return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("div",{className:"self-center text-6xl m-7",children:"Flashcards"}),p.jsxs("div",{className:"m-7 flex justify-center",children:[p.jsxs("fieldset",{className:"mr-5",children:[p.jsx("legend",{children:"Category"}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"all",name:"category",value:a.all,onChange:()=>d("all"),checked:a.all}),p.jsx("label",{htmlFor:"all",children:"All"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"recipe-quick",name:"category",value:a["recipe-quick"],onChange:()=>d("recipe-quick"),checked:a["recipe-quick"]}),p.jsx("label",{htmlFor:"recipe-quick",children:"Quick Recipe"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"customer-questions",name:"category",value:a["customer-questions"],onChange:()=>d("customer-questions"),checked:a["customer-questions"]}),p.jsx("label",{htmlFor:"customer-questions",children:"Customer Questions"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"company-culture",name:"category",value:a["company-culture"],onChange:()=>d("company-culture"),checked:a["company-culture"]}),p.jsx("label",{htmlFor:"company-culture",children:"Company Culture"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"brewista-positions",name:"category",value:a["brewista-positions"],onChange:()=>d("brewista-positions"),checked:a["brewista-positions"]}),p.jsx("label",{htmlFor:"brewista-positions",children:"Brewista Positions"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"brewista-terms",name:"category",value:a["brewista-terms"],onChange:()=>d("brewista-terms"),checked:a["brewista-terms"]}),p.jsx("label",{htmlFor:"brewista-terms",children:"Brewista Terms"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"recipe-prep",name:"category",value:a["recipe-prep"],onChange:()=>d("recipe-prep"),checked:a["recipe-prep"]}),p.jsx("label",{htmlFor:"recipe-prep",children:"Drink Prep"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"recipe-dairy",name:"category",value:a["recipe-dairy"],onChange:()=>d("recipe-dairy"),checked:a["recipe-dairy"]}),p.jsx("label",{htmlFor:"recipe-dairy",children:"Dairy"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"recipe-tea",name:"category",value:a["recipe-tea"],onChange:()=>d("recipe-tea"),checked:a["recipe-tea"]}),p.jsx("label",{htmlFor:"recipe-tea",children:"Tea"})]}),p.jsxs("div",{children:[p.jsx("input",{type:"checkbox",id:"recipe-questions",name:"category",value:a["recipe-questions"],onChange:()=>d("recipe-questions"),checked:a["recipe-questions"]}),p.jsx("label",{htmlFor:"recipe-questions",children:"Recipe Questions"})]})]}),p.jsxs("div",{className:"w-2/4 flex flex-col content-center gap-y-7",children:[p.jsx("div",{className:"stack",children:t.map(f=>p.jsxs("label",{className:"swap swap-flip",children:[p.jsx("input",{type:"checkbox",title:f.cardNumber,onClick:h}),p.jsx("div",{className:"card w-96 h-72 shadow-md bg-primary text-primary-content flex-col justify-center swap-off",children:p.jsx("div",{className:"card-body flex-col justify-center",children:p.jsx("div",{className:"w-full h-full card-title justify-center",children:f.question})})}),p.jsx("div",{className:"card w-96 h-72 shadow-md bg-primary text-primary-content flex-col justify-center swap-on",children:p.jsx("div",{className:"card-body flex-col max-h-full justify-center",children:f.answer.length<238?p.jsx("div",{className:"w-full h-full card-title justify-center",children:f.answer}):p.jsx("div",{className:"w-full h-full card-title justify-center text-base",children:f.answer})})})]},f.cardNumber))}),p.jsxs("div",{className:"flex justify-around",children:[p.jsx("button",{className:"btn btn-neutral w-1/4",onClick:u,children:"Previous"}),p.jsx("button",{className:"btn btn-neutral w-1/4",onClick:l,children:"Next"})]})]})]})]})}function rL(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pS={exports:{}};const iL={},hu=Object.freeze(Object.defineProperty({__proto__:null,default:iL},Symbol.toStringTag,{value:"Module"})),sL=Uk(hu);(function(n){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,t){typeof rL=="function"&&n&&n.exports?n.exports=t():(e.dcodeIO=e.dcodeIO||{}).bcrypt=t()})(Bk,function(){var e={},t=null;function r(T){if(n&&n.exports)try{return sL.randomBytes(T)}catch{}try{var D;return(self.crypto||self.msCrypto).getRandomValues(D=new Uint32Array(T)),Array.prototype.slice.call(D)}catch{}if(!t)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return t(T)}var i=!1;try{r(1),i=!0}catch{}t=null,e.setRandomFallback=function(T){t=T},e.genSaltSync=function(T,D){if(T=T||b,typeof T!="number")throw Error("Illegal arguments: "+typeof T+", "+typeof D);T<4?T=4:T>31&&(T=31);var L=[];return L.push("$2a$"),T<10&&L.push("0"),L.push(T.toString()),L.push("$"),L.push(h(r(g),g)),L.join("")},e.genSalt=function(T,D,L){if(typeof D=="function"&&(L=D,D=void 0),typeof T=="function"&&(L=T,T=void 0),typeof T>"u")T=b;else if(typeof T!="number")throw Error("illegal arguments: "+typeof T);function k(P){a(function(){try{P(null,e.genSaltSync(T))}catch(j){P(j)}})}if(L){if(typeof L!="function")throw Error("Illegal callback: "+typeof L);k(L)}else return new Promise(function(P,j){k(function(O,F){if(O){j(O);return}P(F)})})},e.hashSync=function(T,D){if(typeof D>"u"&&(D=b),typeof D=="number"&&(D=e.genSaltSync(D)),typeof T!="string"||typeof D!="string")throw Error("Illegal arguments: "+typeof T+", "+typeof D);return U(T,D)},e.hash=function(T,D,L,k){function P(j){typeof T=="string"&&typeof D=="number"?e.genSalt(D,function(O,F){U(T,F,j,k)}):typeof T=="string"&&typeof D=="string"?U(T,D,j,k):a(j.bind(this,Error("Illegal arguments: "+typeof T+", "+typeof D)))}if(L){if(typeof L!="function")throw Error("Illegal callback: "+typeof L);P(L)}else return new Promise(function(j,O){P(function(F,$){if(F){O(F);return}j($)})})};function s(T,D){for(var L=0,k=0,P=0,j=T.length;P<j;++P)T.charCodeAt(P)===D.charCodeAt(P)?++L:++k;return L<0?!1:k===0}e.compareSync=function(T,D){if(typeof T!="string"||typeof D!="string")throw Error("Illegal arguments: "+typeof T+", "+typeof D);return D.length!==60?!1:s(e.hashSync(T,D.substr(0,D.length-31)),D)},e.compare=function(T,D,L,k){function P(j){if(typeof T!="string"||typeof D!="string"){a(j.bind(this,Error("Illegal arguments: "+typeof T+", "+typeof D)));return}if(D.length!==60){a(j.bind(this,null,!1));return}e.hash(T,D.substr(0,29),function(O,F){O?j(O):j(null,s(F,D))},k)}if(L){if(typeof L!="function")throw Error("Illegal callback: "+typeof L);P(L)}else return new Promise(function(j,O){P(function(F,$){if(F){O(F);return}j($)})})},e.getRounds=function(T){if(typeof T!="string")throw Error("Illegal arguments: "+typeof T);return parseInt(T.split("$")[2],10)},e.getSalt=function(T){if(typeof T!="string")throw Error("Illegal arguments: "+typeof T);if(T.length!==60)throw Error("Illegal hash length: "+T.length+" != 60");return T.substring(0,29)};var a=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function o(T){var D=[],L=0;return m.encodeUTF16toUTF8(function(){return L>=T.length?null:T.charCodeAt(L++)},function(k){D.push(k)}),D}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function h(T,D){var L=0,k=[],P,j;if(D<=0||D>T.length)throw Error("Illegal len: "+D);for(;L<D;){if(P=T[L++]&255,k.push(l[P>>2&63]),P=(P&3)<<4,L>=D){k.push(l[P&63]);break}if(j=T[L++]&255,P|=j>>4&15,k.push(l[P&63]),P=(j&15)<<2,L>=D){k.push(l[P&63]);break}j=T[L++]&255,P|=j>>6&3,k.push(l[P&63]),k.push(l[j&63])}return k.join("")}function f(T,D){var L=0,k=T.length,P=0,j=[],O,F,$,G,K,X;if(D<=0)throw Error("Illegal len: "+D);for(;L<k-1&&P<D&&(X=T.charCodeAt(L++),O=X<u.length?u[X]:-1,X=T.charCodeAt(L++),F=X<u.length?u[X]:-1,!(O==-1||F==-1||(K=O<<2>>>0,K|=(F&48)>>4,j.push(d(K)),++P>=D||L>=k)||(X=T.charCodeAt(L++),$=X<u.length?u[X]:-1,$==-1)||(K=(F&15)<<4>>>0,K|=($&60)>>2,j.push(d(K)),++P>=D||L>=k)));)X=T.charCodeAt(L++),G=X<u.length?u[X]:-1,K=($&3)<<6>>>0,K|=G,j.push(d(K)),++P;var re=[];for(L=0;L<P;L++)re.push(j[L].charCodeAt(0));return re}var m=function(){var T={};return T.MAX_CODEPOINT=1114111,T.encodeUTF8=function(D,L){var k=null;for(typeof D=="number"&&(k=D,D=function(){return null});k!==null||(k=D())!==null;)k<128?L(k&127):k<2048?(L(k>>6&31|192),L(k&63|128)):k<65536?(L(k>>12&15|224),L(k>>6&63|128),L(k&63|128)):(L(k>>18&7|240),L(k>>12&63|128),L(k>>6&63|128),L(k&63|128)),k=null},T.decodeUTF8=function(D,L){for(var k,P,j,O,F=function($){$=$.slice(0,$.indexOf(null));var G=Error($.toString());throw G.name="TruncatedError",G.bytes=$,G};(k=D())!==null;)if(!(k&128))L(k);else if((k&224)===192)(P=D())===null&&F([k,P]),L((k&31)<<6|P&63);else if((k&240)===224)((P=D())===null||(j=D())===null)&&F([k,P,j]),L((k&15)<<12|(P&63)<<6|j&63);else if((k&248)===240)((P=D())===null||(j=D())===null||(O=D())===null)&&F([k,P,j,O]),L((k&7)<<18|(P&63)<<12|(j&63)<<6|O&63);else throw RangeError("Illegal starting byte: "+k)},T.UTF16toUTF8=function(D,L){for(var k,P=null;(k=P!==null?P:D())!==null;){if(k>=55296&&k<=57343&&(P=D())!==null&&P>=56320&&P<=57343){L((k-55296)*1024+P-56320+65536),P=null;continue}L(k)}P!==null&&L(P)},T.UTF8toUTF16=function(D,L){var k=null;for(typeof D=="number"&&(k=D,D=function(){return null});k!==null||(k=D())!==null;)k<=65535?L(k):(k-=65536,L((k>>10)+55296),L(k%1024+56320)),k=null},T.encodeUTF16toUTF8=function(D,L){T.UTF16toUTF8(D,function(k){T.encodeUTF8(k,L)})},T.decodeUTF8toUTF16=function(D,L){T.decodeUTF8(D,function(k){T.UTF8toUTF16(k,L)})},T.calculateCodePoint=function(D){return D<128?1:D<2048?2:D<65536?3:4},T.calculateUTF8=function(D){for(var L,k=0;(L=D())!==null;)k+=T.calculateCodePoint(L);return k},T.calculateUTF16asUTF8=function(D){var L=0,k=0;return T.UTF16toUTF8(D,function(P){++L,k+=T.calculateCodePoint(P)}),[L,k]},T}();Date.now=Date.now||function(){return+new Date};var g=16,b=10,E=16,v=100,y=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],w=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],C=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function R(T,D,L,k){var P,j=T[D],O=T[D+1];return j^=L[0],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[1],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[2],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[3],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[4],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[5],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[6],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[7],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[8],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[9],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[10],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[11],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[12],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[13],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[14],P=k[j>>>24],P+=k[256|j>>16&255],P^=k[512|j>>8&255],P+=k[768|j&255],O^=P^L[15],P=k[O>>>24],P+=k[256|O>>16&255],P^=k[512|O>>8&255],P+=k[768|O&255],j^=P^L[16],T[D]=O^L[E+1],T[D+1]=j,T}function M(T,D){for(var L=0,k=0;L<4;++L)k=k<<8|T[D]&255,D=(D+1)%T.length;return{key:k,offp:D}}function S(T,D,L){for(var k=0,P=[0,0],j=D.length,O=L.length,F,$=0;$<j;$++)F=M(T,k),k=F.offp,D[$]=D[$]^F.key;for($=0;$<j;$+=2)P=R(P,0,D,L),D[$]=P[0],D[$+1]=P[1];for($=0;$<O;$+=2)P=R(P,0,D,L),L[$]=P[0],L[$+1]=P[1]}function z(T,D,L,k){for(var P=0,j=[0,0],O=L.length,F=k.length,$,G=0;G<O;G++)$=M(D,P),P=$.offp,L[G]=L[G]^$.key;for(P=0,G=0;G<O;G+=2)$=M(T,P),P=$.offp,j[0]^=$.key,$=M(T,P),P=$.offp,j[1]^=$.key,j=R(j,0,L,k),L[G]=j[0],L[G+1]=j[1];for(G=0;G<F;G+=2)$=M(T,P),P=$.offp,j[0]^=$.key,$=M(T,P),P=$.offp,j[1]^=$.key,j=R(j,0,L,k),k[G]=j[0],k[G+1]=j[1]}function V(T,D,L,k,P){var j=C.slice(),O=j.length,F;if(L<4||L>31)if(F=Error("Illegal number of rounds (4-31): "+L),k){a(k.bind(this,F));return}else throw F;if(D.length!==g)if(F=Error("Illegal salt length: "+D.length+" != "+g),k){a(k.bind(this,F));return}else throw F;L=1<<L>>>0;var $,G,K=0,X;Int32Array?($=new Int32Array(y),G=new Int32Array(w)):($=y.slice(),G=w.slice()),z(D,T,$,G);function re(){if(P&&P(K/L),K<L)for(var Ae=Date.now();K<L&&(K=K+1,S(T,$,G),S(D,$,G),!(Date.now()-Ae>v)););else{for(K=0;K<64;K++)for(X=0;X<O>>1;X++)R(j,X<<1,$,G);var ne=[];for(K=0;K<O;K++)ne.push((j[K]>>24&255)>>>0),ne.push((j[K]>>16&255)>>>0),ne.push((j[K]>>8&255)>>>0),ne.push((j[K]&255)>>>0);if(k){k(null,ne);return}else return ne}k&&a(re)}if(typeof k<"u")re();else for(var me;;)if(typeof(me=re())<"u")return me||[]}function U(T,D,L,k){var P;if(typeof T!="string"||typeof D!="string")if(P=Error("Invalid string / salt: Not a string"),L){a(L.bind(this,P));return}else throw P;var j,O;if(D.charAt(0)!=="$"||D.charAt(1)!=="2")if(P=Error("Invalid salt version: "+D.substring(0,2)),L){a(L.bind(this,P));return}else throw P;if(D.charAt(2)==="$")j="\0",O=3;else{if(j=D.charAt(2),j!=="a"&&j!=="b"&&j!=="y"||D.charAt(3)!=="$")if(P=Error("Invalid salt revision: "+D.substring(2,4)),L){a(L.bind(this,P));return}else throw P;O=4}if(D.charAt(O+2)>"$")if(P=Error("Missing salt rounds"),L){a(L.bind(this,P));return}else throw P;var F=parseInt(D.substring(O,O+1),10)*10,$=parseInt(D.substring(O+1,O+2),10),G=F+$,K=D.substring(O+3,O+25);T+=j>="a"?"\0":"";var X=o(T),re=f(K,g);function me(Ae){var ne=[];return ne.push("$2"),j>="a"&&ne.push(j),ne.push("$"),G<10&&ne.push("0"),ne.push(G.toString()),ne.push("$"),ne.push(h(re,re.length)),ne.push(h(Ae,C.length*4-1)),ne.join("")}if(typeof L>"u")return me(V(X,re,G));V(X,re,G,function(Ae,ne){Ae?L(Ae,null):L(null,me(ne))},k)}return e.encodeBase64=h,e.decodeBase64=f,e})})(pS);var o1=pS.exports;function aL(){const[n,e]=N.useState(""),[t,r]=N.useState(""),[i,s]=N.useState(""),[a,o]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState(""),g=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;function b(){o1.hash(f,10,async(E,v)=>{if(E)console.log(E);else if(g.test(d)){const y=await fetch("http://localhost:3000/addEmployee",{method:"POST",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify({firstName:n,middleName:t,lastName:i,role:a,storeLocation:l,email:d,password:v})}),w=await y.json();y.status===200?console.log(w):console.log(w.message)}else alert("Please enter a valid email address!")})}return p.jsx("div",{className:"flex justify-center",children:p.jsxs("form",{onSubmit:b,className:"prose flex flex-col m-5 card border-2 border-black shadow-2xl p-6",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("h1",{className:"text-primary",children:"Add Employee"})}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Email:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Email",onChange:E=>h(E.target.value.trim().toLowerCase())})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"First Name:"}),p.jsx("input",{className:"border-2 border-secondary",placeholder:"First Name",onChange:E=>e(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Middle Name:"}),p.jsx("input",{className:"border-2 border-secondary  w-11/12",placeholder:"Middle Name",onChange:E=>r(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Last Name:"}),p.jsx("input",{className:"border-2 border-secondary",placeholder:"Last Name",onChange:E=>s(E.target.value)})]})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Store Location:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Store Location",onChange:E=>u(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-left text-neutral",children:"Role:"}),p.jsxs("select",{className:"bg-primary text-neutral w-full border-2 border-secondary",onChange:E=>o(E.target.value),children:[p.jsx("option",{value:"",children:"Please choose an option"}),p.jsx("option",{children:"Brewista"}),p.jsx("option",{children:"Shift Leader"})]})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Password:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Password",type:"password",onChange:E=>m(E.target.value)})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-10",children:"Submit"})]})})}function oL(){const[n,e]=N.useState(""),[t,r]=N.useState(""),[i,s]=N.useState(""),[a,o]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(""),[f,m]=N.useState(""),g=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;function b(){o1.hash(f,10,async(E,v)=>{if(E)console.log(E);else if(g.test(d)){const y=await fetch("http://localhost:3000/addAdmin",{method:"POST",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify({firstName:n,middleName:t,lastName:i,role:a,storeLocation:l,email:d,password:v})}),w=await y.json();y.status===200?console.log("Admin has been created"):console.log(w.message)}else alert("Please enter a valid email address")})}return p.jsx("div",{className:"flex justify-center m-5  overflow-y-auto  h-1/8",children:p.jsxs("form",{onSubmit:b,className:"prose flex flex-col card border-2 border-secondary shadow-2xl p-6 overflow-y-auto",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("h1",{className:"text-primary",children:"Add Manager"})}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Email:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Email",onChange:E=>h(E.target.value.trim().toLowerCase())})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"First Name:"}),p.jsx("input",{className:"border-2 border-secondary",placeholder:"First Name",onChange:E=>e(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Middle Name:"}),p.jsx("input",{className:"border-2 border-secondary w-11/12",placeholder:"Middle Name",onChange:E=>r(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Last Name:"}),p.jsx("input",{className:"border-2 border-secondary",placeholder:"Last Name",onChange:E=>s(E.target.value)})]})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Store Location:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Store Location",onChange:E=>u(E.target.value)})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-left text-neutral",children:"Role:"}),p.jsxs("select",{className:"bg-primary text-neutral w-full border-2 border-secondary",onChange:E=>o(E.target.value),children:[p.jsx("option",{value:"",children:"Please choose an option"}),p.jsx("option",{children:"Admin"}),p.jsx("option",{children:"Regional Manager"}),p.jsx("option",{children:"Manager"})]})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Password:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Password",type:"password",onChange:E=>m(E.target.value)})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-10",children:"Submit"})]})})}async function lL({params:n}){return{quiz:await(await fetch(`http://localhost:3000/quiz/test/${n.quizParam.toLowerCase()}`)).json()}}function cL(){const{quiz:n}=N0(),{userInfo:e}=hR(),[t,r]=N.useState([]),[i,s]=N.useState(!1),a=R0();async function o(d){if(d.preventDefault(),s(!0),n.length!==t.length){alert("All questions must be answered."),n.forEach(y=>{y.unanswered=t.some(w=>w.question!==y.question)});return}let h=0,f=0;t.forEach(y=>{y.isCorrect?h++:f++});let m=[];t.forEach(y=>{m.push({question:y.question,chosenAnswer:y.chosenAnswerText,correctAnswer:y.correctAnswerText,isCorrect:y.isCorrect})});const g=h/n.length*100,v=(await(await fetch("http://localhost:3000/quiz/results",{method:"GET",headers:{"Content-type":"application/json",authorization:localStorage.getItem("jwt-token")}})).json()).find(y=>y.quizParam===n[0].quizParam);if(v){if(g>v.score){const y={score:g,numCorrect:h,numIncorrect:f,questions:m};console.log(y);const w=await fetch(`http://localhost:3000/quiz/${v.resultId}`,{method:"POST",headers:{"Content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(y)});if(!w.ok){console.log(w),console.error("Failed to upload test results to database");return}}}else{const y={user:{firstName:e.firstName,lastName:e.lastName,email:e.email,userId:e.userId},quiz:{quizName:n[0].quizName,quizParam:n[0].quizParam},numCorrect:h,numIncorrect:f,questions:m,score:g},w=await fetch("http://localhost:3000/quiz",{method:"POST",headers:{"Content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(y)}),C=await w.json();if(!w.ok){console.error(C.message);return}}a("/quiz")}function l(d,h){const f=h.question,m=h.answer,g=d.target.value,b=m.map(y=>y=h.answerChoices[y]);let E=[],v;if(!t.some(y=>y.question===f))E.push(h.answerChoices[g]),v=h.answer.every(y=>[g].includes(y)),r([...t,{question:f,chosenAnswer:[g],chosenAnswerText:E,correctAnswerText:b,isCorrect:v}]);else{let y=t;const w=y.findIndex(C=>C.question===f);if(y[w].chosenAnswer.includes(g)){const C=y[w].chosenAnswer.findIndex(R=>R===g);y[w].chosenAnswer.splice(C,1),y[w].chosenAnswerText.splice(C,1)}else y[w].chosenAnswer.push(g),y[w].chosenAnswerText.push(h.answerChoices[g]);y[w].isCorrect=h.answer.every(C=>y[w].chosenAnswer.includes(C)),r(y)}}function u(d,h){const f=h.question,m=h.answer,g=d.target.value,b=h.answerChoices[m];let E,v;if(!t.some(y=>y.question===f))E=h.answerChoices[g],v=h.answerChoices[g]===h.answerChoices[m],r([...t,{question:f,chosenAnswer:g,chosenAnswerText:E,correctAnswerText:b,isCorrect:v}]);else{let y=t;const w=y.findIndex(C=>C.question===f);y[w].chosenAnswer=g,y.chosenAnswerText=h.answerChoices[g],y[w].isCorrect=h.answerChoices[g]===h.answerChoices[m],r(y)}}return p.jsxs("div",{className:"flex flex-col items-center m-5",children:[p.jsx("div",{className:"text-5xl m-7",children:n[0].quizName}),p.jsxs("form",{onSubmit:o,children:[p.jsx("div",{className:"m-5",children:n.map((d,h)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex gap-4 content-center",children:[p.jsx("div",{className:"text-2xl mt-4",children:d.question}),i&&d.unanswered?p.jsxs("div",{className:"mt-5 flex gap-2",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"red",className:"size-7",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18"})}),"Please answer all questions!"]}):p.jsx(p.Fragment,{})]}),d.questionType==="selectAll"?p.jsx(p.Fragment,{children:Object.keys(d.answerChoices).map((f,m)=>p.jsx("div",{className:"form-control flex-row",children:p.jsxs("label",{className:"label cursor-pointer",children:[p.jsx("input",{type:"checkbox",name:`checkbox-${h}`,value:f,onChange:g=>l(g,d),className:"checkbox m-3"}),p.jsx("span",{className:"text-lg",children:d.answerChoices[f]})]})},m))}):p.jsx(p.Fragment,{children:Object.keys(d.answerChoices).map((f,m)=>p.jsx("div",{className:"form-control flex-row",children:p.jsxs("label",{className:"label cursor-pointer",children:[p.jsx("input",{type:"radio",name:`radio-${h}`,value:f,onChange:g=>u(g,d),className:"radio m-3"}),p.jsx("span",{children:d.answerChoices[f]})]})},m))})]},h))}),p.jsxs("div",{className:"flex justify-around w-full",children:[p.jsx("button",{className:"btn btn-neutral",children:p.jsx(a1,{to:"../quiz",children:"Cancel"})}),p.jsx("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})]})}async function uL(){const n=await fetch("http://localhost:3000/quiz"),e=await fetch("http://localhost:3000/quiz/results",{method:"GET",headers:{"Content-type":"application/json",authorization:localStorage.getItem("jwt-token")}}),t=await n.json(),r=await e.json();return t.forEach(i=>{const s=r.findIndex(a=>a.quizParam===i.quizParam);s>=0?(i.score=r[s].score,i.isPassing=r[s].isPassing):(i.score=void 0,i.isPassing=void 0)}),{quizList:t}}function dL(){const{quizList:n}=N0(),e=n.length*100;let t=0;n.forEach(i=>{i.score&&(t+=i.score)});const r=Math.trunc(t/e*100);return p.jsxs("div",{className:"flex flex-col items-center m-5",children:[p.jsxs("div",{className:"flex w-8/12 justify-around items-center",children:[p.jsx("div",{className:"text-6xl mb-7",children:"Quizzes"}),p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("div",{className:"text-xl",children:"Total Progress:"}),p.jsxs("div",{className:"radial-progress text-primary text-2xl m-4",style:{"--value":r,"--size":"12rem","--thickness":"1rem"},role:"progressbar",children:[r,"%"]})]})]}),p.jsx("ul",{className:"menu flex flex-col bg-base-200 w-3/5 h-full rounded-box items-center",children:n.map((i,s)=>p.jsxs("div",{className:"m-4 w-11/12 flex justify-between overflow-visible",children:[p.jsx(a1,{to:`${i.quizParam}`,className:"p-2 text-2xl rounded-lg hover:bg-neutral-300",children:i.quizName}),p.jsx("div",{className:"w-1/5 flex justify-between items-center",children:i.score?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[i.score,"%"]}),i.isPassing?p.jsx(p.Fragment,{children:i.score===100?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"green",className:"size-10",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"darkorange",className:"size-10",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"red",className:"size-10",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{children:"-%"}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-10",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})})]})})]},s))})]})}function Ix(){const[n,e]=N.useState(""),[t,r]=N.useState(""),i=R0();let{_id:s}=lS();async function a(o){o.preventDefault(),console.log(n),console.log(t),n===t?o1.hash(n,10,async(l,u)=>{if(l)console.log(l);else{console.log("test",s);const d=await fetch(`http://localhost:3000/resetPassword/${s}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({password:u})});console.log("test3",d);const h=await d.json();d.status===200?(console.log("test2",h),i("/",{replace:!0})):console.log("test4",h.response)}}):(alert("Passwords do not match"),console.log("test5"),response.status(500).send({message:"Passwords do not match"}))}return p.jsxs("div",{children:[p.jsxs("form",{name:"userPassword",onSubmit:a,className:"flex flex-col items-center justify-center",children:[p.jsx("figure",{className:"flex size-1/3 m-2 md:size-44",children:p.jsx("img",{src:Vc,alt:"7 Brew Logo"})}),p.jsxs("label",{className:"flex form-control items-center justify-center gap-4 h-fit",children:[p.jsx("span",{children:"Please enter new password to reset password"}),p.jsx("input",{name:"new password",type:"password",placeholder:"New Password",className:" input input-bordered w-full max-w-xs text-2xl",onChange:o=>e(o.target.value)}),p.jsx("input",{name:"confirm password",type:"password",placeholder:"Re-enter New Password",className:" input input-bordered w-full max-w-xs text-2xl",onChange:o=>r(o.target.value)}),p.jsx("button",{className:"btn btn-wide btn-primary m-3 text-2xl",type:"submit",children:"Submit"})]})]}),p.jsx("div",{className:"flex bg-secondary absolute z-10 bottom-0 md:w-screen",children:p.jsx(M0,{})})]})}function iE({list:n}){async function e(r){const i=new FormData(r.target);let s={};//!TODO: If user sends in data that already exists it will still send it to the database (this shouldn't be happen ideally)
let a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,o=s.email;for(let[l,u]of i.entries())u.trim()!==""&&(a.test(u)?s[l]=u.trim().toLowerCase():s[l]=u.trim());if(o===void 0){const l=await fetch(`http://localhost:3000/allusers/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),u=await l.json();l.status===200?console.log("User has been updated"):console.log(u.message)}else if(a.test(o)){const l=await fetch(`http://localhost:3000/allusers/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),u=await l.json();l.status===200?console.log("User has been updated"):console.log(u.message)}else alert("Please enter a valid Email Address");location.reload()}function t(){document.getElementById(n._id+"edit").close()}return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"edit").showModal(),children:"Edit"}),p.jsx("dialog",{id:n._id+"edit",className:"modal",list:n,children:p.jsxs("div",{className:"modal-box",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit ",n.firstName," ",n.lastName]}),p.jsx("div",{className:"mb-0.5",children:"Please edit only the fields you would like to be changed:"}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:t,children:"✕"}),p.jsxs("form",{method:"dialog",className:"flex flex-col",onSubmit:e,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"First Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"First Name",name:"firstName"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Middle Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Middle Name",name:"middleName"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Last Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Last Name",name:"lastName"})]})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Email:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Email",name:"email"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Store Location:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Store Location",name:"storeLocation"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-left text-neutral",children:"Role:"}),p.jsxs("select",{className:"bg-primary text-neutral w-full border-2 border-secondary",name:"role",children:[p.jsx("option",{value:"",children:"Please choose an option"}),p.jsx("option",{children:"Admin"}),p.jsx("option",{children:"Regional Manager"}),p.jsx("option",{children:"Manager"}),p.jsx("option",{children:"Shift Leader"}),p.jsx("option",{children:"Brewista"})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"Submit"})]}),p.jsx("p",{className:"py-4",children:"Submit your edit, or click the X to close"})]})]})})]})}function sE({list:n}){const[e,t]=N.useState("");async function r(){if(e==="DELETE"){const s=await fetch(`http://localhost:3000/allusers/${n._id}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:null}),a=await s.json();s.status===200?console.log("User has been deleted"):console.log(a.message),location.reload()}else console.log("To delete a user please type: DELETE")}function i(){document.getElementById(n._id+"delete").close()}return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"delete").showModal(),children:"Delete"}),p.jsx("dialog",{id:n._id+"delete",className:"modal",list:n,children:p.jsxs("div",{className:"modal-box",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Delete ",n.firstName," ",n.lastName]}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:i,children:"✕"}),p.jsxs("form",{method:"dialog",className:"flex flex-col items-center",onSubmit:r,children:[p.jsx("label",{className:"font-bold",children:"Type DELETE to confirm your deletion:"}),p.jsx("input",{placeholder:"DELETE",className:"border-2 border-secondary",onChange:s=>t(s.target.value)}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"DELETE"})]}),p.jsx("p",{className:"py-4",children:"Press ESC key or click on ✕ button to close"})]})]})})]})}function hL(){const[n,e]=N.useState([]),[t,r]=N.useState("--Select Location--");N.useEffect(()=>{fetch("http://localhost:3000/allusers",{headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")}}).then(o=>o.json()).then(o=>e(o)).catch(o=>console.log(o))},[t]);const i=n.filter(o=>o.storeLocation===t),s=n.map(o=>o.storeLocation),a=[...new Set(s)];return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col justify-center items-center overflow-y-auto h-full",children:[p.jsx("div",{className:"text-6xl font-bold text-primary mb-[12px]",children:"All Employees"}),p.jsx("div",{className:"border-2 border-secondary mb-[16px] w-[30rem]"}),p.jsxs("div",{className:"flex flex-col w-72",children:[p.jsx("label",{className:"text-secondary text-lg font-bold flex justify-center",children:"Choose a store location:"}),p.jsxs("select",{className:"mb-[16px] border-2 border-secondary",onChange:o=>{r(o.target.value)},children:[p.jsx("option",{value:"--Select Location--",children:"--Select Location--"}),a.map(o=>p.jsx("option",{children:o},o))]})]}),p.jsx("div",{className:"overflow-y-auto border-2 border-secondary mb-12",children:p.jsxs("table",{className:"table",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-primary text-primary sticky top-0 bg-zinc-500",children:[p.jsx("th",{children:"First Name"}),p.jsx("th",{children:"Middle Name"}),p.jsx("th",{children:"Last Name"}),p.jsx("th",{children:"Email"}),p.jsx("th",{children:"Role"}),p.jsx("th",{children:"Store Location"}),p.jsx("th",{children:"Created By"}),p.jsx("th",{children:"Edit User"}),p.jsx("th",{children:"Delete User"}),p.jsx("th",{})]})}),p.jsx("tbody",{children:t==="--Select Location--"?n.map((o,l)=>p.jsxs("tr",{className:"border-secondary text-neutral",children:[p.jsx("td",{children:o.firstName}),p.jsx("td",{children:o.middleName}),p.jsx("td",{children:o.lastName}),p.jsx("td",{children:o.email}),p.jsx("td",{children:o.role}),p.jsx("td",{children:o.storeLocation}),p.jsx("td",{children:o.createdBy}),p.jsx("td",{children:p.jsx(iE,{list:o})}),p.jsx("td",{children:p.jsx(sE,{list:o})})]},l)):i.map((o,l)=>p.jsxs("tr",{className:"border-secondary text-neutral",children:[p.jsx("td",{children:o.firstName}),p.jsx("td",{children:o.middleName}),p.jsx("td",{children:o.lastName}),p.jsx("td",{children:o.email}),p.jsx("td",{children:o.role}),p.jsx("td",{children:o.storeLocation}),p.jsx("td",{children:o.createdBy}),p.jsx("td",{children:p.jsx(iE,{list:o})}),p.jsx("td",{children:p.jsx(sE,{list:o})})]},l))})]})})]})})}function fL({user:n}){async function e(r){const i=new FormData(r.target);let s={};for(let[l,u]of i.entries())u.trim()!==""&&(s[l]=u);const a=await fetch(`http://localhost:3000/edit/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),o=await a.json();a.status===200?console.log("User has been updated"):console.log(o.message),location.reload()}function t(){document.getElementById(n._id+"editProfileName").close()}return p.jsx(p.Fragment,{children:p.jsxs("div",{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"editProfileName").showModal(),children:"Edit"}),p.jsx("dialog",{id:n._id+"editProfileName",className:"modal",children:p.jsxs("div",{className:"modal-box",children:[p.jsx("h3",{className:"font-bold text-lg",children:"Edit Name"}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:t,children:"✕"}),p.jsxs("form",{method:"dialog",onSubmit:e,className:"flex flex-col",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"First Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"First Name",name:"firstName"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Middle Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Middle Name",name:"middleName"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Last Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Last Name",name:"lastName"})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"Submit"})]}),p.jsx("p",{className:"py-4",children:"Submit your edit, or click on ✕ button to close"})]})]})})]})})}function pL({user:n}){async function e(r){const i=new FormData(r.target);let s={};for(let[l,u]of i.entries())u.trim()!==""&&(s[l]=u.trim().toLowerCase());const a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;let o=s.email;if(o===void 0){const l=await fetch(`http://localhost:3000/edit/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),u=await l.json();l.status===200?console.log("User has been updated"):console.log(u.message),location.reload()}else if(a.test(o)){const l=await fetch(`http://localhost:3000/edit/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),u=await l.json();l.status===200?console.log("User has been updated"):console.log(u.message)}else alert("Please enter a valid Email Address");location.reload()}function t(){document.getElementById(n._id+"editProfileEmail").close()}return p.jsx(p.Fragment,{children:p.jsxs("div",{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"editProfileEmail").showModal(),children:"Edit"}),p.jsx("dialog",{id:n._id+"editProfileEmail",className:"modal",children:p.jsxs("div",{className:"modal-box",children:[p.jsx("h3",{className:"font-bold text-lg",children:"Edit Email"}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:t,children:"✕"}),p.jsxs("form",{method:"dialog",onSubmit:e,className:"flex flex-col",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-neutral",children:"Email:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Email",name:"email"})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"Submit"})]}),p.jsx("p",{className:"py-4",children:"Submit your edit, or click the X to close"})]})]})})]})})}function mL(){let{_id:n}=lS(),[e,t]=N.useState([]);return N.useEffect(()=>{fetch(`http://localhost:3000/edit/${n}`,{headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")}}).then(r=>r.json()).then(r=>t(r)).catch(r=>console.log(r))},[]),p.jsx(p.Fragment,{children:p.jsx("div",{className:"flex justify-center items-center my-20",children:p.jsx("div",{className:"card w-fit border-2 border-secondary bg-base-100 shadow-2xl",children:p.jsxs("div",{className:"card-body",children:[p.jsx("div",{className:"card-title text-primary",children:"Edit Profile"}),e.map((r,i)=>p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:["Name: ",r.firstName," ",r.middleName," ",r.lastName," "]}),p.jsx(fL,{user:r})]}),p.jsx("div",{className:"border-2 border-secondary my-4"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:["Email: ",r.email," "]}),p.jsx(pL,{user:r})]})]},i))]})})})})}function gL(){const[n,e]=N.useState(""),[t,r]=N.useState(""),[i,s]=N.useState("");async function a(o){o.preventDefault(),alert("Recipe has been added to database");const l=await fetch("http://localhost:3000/newRecipe",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:n,ingredients:t,directions:i})});console.log(l);const u=await l.json();l.status===200?(console.log(" recipe Test 2"),console.log(u)):console.log(u.response)}return p.jsx("form",{name:"newRecipe",onSubmit:a,className:"flex flex-col items-center",children:p.jsxs("label",{className:"flex form-control items-center justify-center p-2 m-2 gap-3",children:[p.jsx("span",{children:"Please enter name of new recipe"}),p.jsx("input",{type:"text",placeholder:"Name",className:" input input-bordered w-full max-w-xs text-3xl",onChange:o=>e(o.target.value)}),p.jsx("span",{children:"Please enter ingredients of new recipe"}),p.jsx("input",{type:"text",placeholder:"Ingredients",className:" input input-bordered w-full max-w-xs text-3xl",onChange:o=>r(o.target.value)}),p.jsx("span",{children:"Please enter directions for preparing new recipe"}),p.jsx("textarea",{type:"text",className:" textarea textarea-bordered w-full max-w-xs text-3xl",placeholder:"Directions",onChange:o=>s(o.target.value)}),p.jsx("button",{className:"btn btn-wide btn-primary m-3 text-2xl",type:"submit",children:"Submit"}),p.jsx(zn,{className:"btn btn-primary hover:bg-neutral hover:text-accent m-1",to:"/allRecipes",end:!0,children:"View All Recipes"})]})})}function vL({recipe:n}){async function e(r){const i=new FormData(r.target);let s={};//!TODO: If user sends in data that already exists it will still send it to the database (this shouldn't be happen ideally)
for(let[l,u]of i.entries())u.trim()!==""&&(s[l]=u.trim());const a=await fetch(`http://localhost:3000/editRecipe/${n._id}`,{method:"PUT",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:JSON.stringify(s)}),o=await a.json();a.status===200?console.log("Recipe has been updated"):console.log(o.message),location.reload()}function t(){document.getElementById(n._id+"edit").close()}return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"edit").showModal(),children:"Edit"}),p.jsx("dialog",{id:n._id+"edit",className:"modal",children:p.jsxs("div",{className:"modal-box",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Edit: ",n.name]}),p.jsx("div",{className:"mb-0.5",children:"Please edit only the fields you would like to be changed:"}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:t,children:"✕"}),p.jsxs("form",{method:"dialog",className:"flex flex-col",onSubmit:e,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("label",{children:[p.jsx("div",{className:"text-black",children:"Recipe Name:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Recipe Name",name:"name"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-black",children:" Recipe Ingredients:"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Recipe Ingredients",name:"ingredients"})]}),p.jsxs("label",{children:[p.jsx("div",{className:"text-black",children:"Recipe Directions"}),p.jsx("input",{className:"border-2 border-secondary w-full",placeholder:"Recipe Directions",name:"directions"})]})]}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"Submit"})]}),p.jsx("p",{className:"py-4",children:"Submit your edit, or click the X to close"})]})]})})]})}function xL({recipe:n}){const[e,t]=N.useState("");async function r(){if(e==="DELETE"){const s=await fetch(`http://localhost:3000/allRecipes/${n._id}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")},body:null}),a=await s.json();s.status===200?console.log("Recipe has been deleted"):console.log(a.message),location.reload()}else console.log("To delete a Recipe please type: DELETE")}function i(){document.getElementById(n._id+"delete").close()}return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn bg-primary",onClick:()=>document.getElementById(n._id+"delete").showModal(),children:"Delete"}),p.jsx("dialog",{id:n._id+"delete",className:"modal",children:p.jsxs("div",{className:"modal-box",children:[p.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Delete ",n.name," ",n.ingredients," ",n.directions]}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:i,children:"✕"}),p.jsxs("form",{method:"dialog",className:"flex flex-col items-center",onSubmit:r,children:[p.jsx("label",{className:"font-bold",children:"Type DELETE to confirm your deletion:"}),p.jsx("input",{placeholder:"DELETE",className:"border-2 border-secondary",onChange:s=>t(s.target.value)}),p.jsx("button",{type:"submit",className:"btn btn-primary mt-4",children:"DELETE"})]}),p.jsx("p",{className:"py-4",children:"Press ESC key or click on ✕ button to close"})]})]})})]})}function yL(){const[n,e]=N.useState([]);async function t(){const a=await fetch("http://localhost:3000/allRecipes",{method:"GET",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")}}),o=await a.json();a.status===200?(console.log(o),e(o)):console.log("error")}N.useEffect(()=>{t()},[]);const[r,i]=N.useState([]);N.useEffect(()=>{(async()=>{try{const l=await(await fetch("http://localhost:3000/user/role",{method:"GET",headers:{"content-type":"application/json",authorization:localStorage.getItem("jwt-token")}})).json();i(l)}catch(o){console.log(o)}})()},[]);const s=r.map(a=>a.role);return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex flex-col justify-center items-center overflow-y-auto h-full",children:[p.jsx("div",{className:"text-6xl font-bold text-primary mb-[12px]",children:"All Recipes"}),p.jsx("div",{className:"border-2 border-secondary mb-[16px] w-[30rem]"}),p.jsx("div",{className:"overflow-y-auto border-2 border-secondary mb-12 w-3/5",children:p.jsx("table",{className:"table table-pin-rows",children:p.jsx("tbody",{className:" flex-inline text-neutral",children:n.map(a=>p.jsxs("tr",{className:" flex-inline justify-center border-secondary",children:[p.jsx("td",{className:" flex justify-center text-primary",children:"Recipe Name"}),p.jsx("td",{className:" flex justify-center",children:a.name}),p.jsx("td",{className:" flex justify-center text-primary",children:"Recipe Ingredients"}),p.jsx("td",{className:" flex justify-center",children:a.ingredients}),p.jsx("td",{className:" flex justify-center text-primary",children:"Recipe Directions"}),p.jsx("td",{className:" flex justify-center",children:a.directions}),s[0]==="Admin"||s[0]==="Manager"||s[0]==="Regional Manager"?p.jsx(p.Fragment,{children:p.jsxs("td",{className:" flex justify-center gap-2",children:[p.jsx(vL,{recipe:a}),p.jsx(xL,{recipe:a})]})}):p.jsx(p.Fragment,{})]},a._id))})})})]})})}function bL(){return p.jsx(p.Fragment,{children:p.jsxs(kR,{children:[p.jsx(Lx,{path:"/email",element:p.jsx(Dx,{})}),p.jsx(Lx,{path:"/newPassword/:_id",element:p.jsx(Ix,{})})]})})}const wL=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),mS=n=>Array.isArray(n)&&n.every(e=>typeof e=="object"&&!(e instanceof Array)),EL=n=>Array.isArray(n)&&n.every(e=>Array.isArray(e)),AL=n=>Array.from(n.map(e=>Object.keys(e)).reduce((e,t)=>new Set([...e,...t]),[])),_L=(n,e)=>{e=e||AL(n);let t=e,r=e;mS(e)&&(t=e.map(s=>s.label),r=e.map(s=>s.key));const i=n.map(s=>r.map(a=>SL(a,s)));return[t,...i]},SL=(n,e)=>{const t=n.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,i,s,a){const o=r[i];if(o==null)a.splice(1);else return o},e);return t===void 0?n in e?e[n]:"":t},CL=n=>typeof n>"u"||n===null?"":n,gS=(n,e=",",t='"')=>n.filter(r=>r).map(r=>r.map(i=>CL(i)).map(i=>`${t}${i}${t}`).join(e)).join(`
`),kL=(n,e,t,r)=>gS(e?[e,...n]:n,t,r),TL=(n,e,t,r)=>gS(_L(n,e),t,r),PL=(n,e,t,r)=>e?`${e.join(t)}
${n}`:n.replace(/"/g,'""'),vS=(n,e,t,r)=>{if(mS(n))return TL(n,e,t,r);if(EL(n))return kL(n,e,t,r);if(typeof n=="string")return PL(n,e,t);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},xS=(n,e,t,r,i)=>{const s=vS(n,t,r,i),a=wL()?"application/csv":"text/csv",o=new Blob([e?"\uFEFF":"",s],{type:a}),l=`data:${a};charset=utf-8,${e?"\uFEFF":""}${s}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?l:u.createObjectURL(o)};var yS={exports:{}},RL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LL=RL,NL=LL;function bS(){}function wS(){}wS.resetWarningCache=bS;var ML=function(){function n(r,i,s,a,o,l){if(l!==NL){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wS,resetWarningCache:bS};return t.PropTypes=t,t};yS.exports=ML();var Tn=yS.exports;const ES={data:Tn.oneOfType([Tn.string,Tn.array,Tn.func]).isRequired,headers:Tn.array,target:Tn.string,separator:Tn.string,filename:Tn.string,uFEFF:Tn.bool,onClick:Tn.func,asyncOnClick:Tn.bool,enclosingCharacter:Tn.string},AS={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},DL={target:"_blank"};class aE extends f0.Component{constructor(e){super(e),this.state={}}buildURI(){return xS(...arguments)}componentDidMount(){const{data:e,headers:t,separator:r,enclosingCharacter:i,uFEFF:s,target:a,specs:o,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,s,t,r,i),a,o,l)}getWindow(){return this.state.page}render(){return null}}ie(aE,"defaultProps",Object.assign(AS,DL)),ie(aE,"propTypes",ES);var gp;let IL=(gp=class extends f0.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return xS(...arguments)}handleLegacy(e,t=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:i,separator:s,filename:a,enclosingCharacter:o,uFEFF:l}=this.props,u=t&&typeof r=="function"?r():r;let d=new Blob([l?"\uFEFF":"",vS(u,i,s,o)]);return window.navigator.msSaveBlob(d,a),!1}}handleAsyncClick(e){const t=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,t)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:t,separator:r,filename:i,uFEFF:s,children:a,onClick:o,asyncOnClick:l,enclosingCharacter:u,...d}=this.props,f=typeof window>"u"?"":this.buildURI(e,s,t,r,u);return p.jsx("a",{download:i,...d,ref:m=>this.link=m,target:"_self",href:f,onClick:this.handleClick(),children:a})}},ie(gp,"defaultProps",AS),ie(gp,"propTypes",ES),gp);const FL=IL;async function jL(){const e=await(await fetch("http://localhost:3000/quiz/results/all",{method:"GET",headers:{"Content-type":"application/json",authorization:localStorage.getItem("jwt-token")}})).json();let t=[];return e.forEach(r=>{t.push({user:{firstName:r.user.firstName,lastName:r.user.lastName,email:r.user.email},quizName:r.quiz.quizName,totalQuestions:Object.keys(r.questions).length,numCorrect:r.numCorrect,score:r.score,date:r.date})}),{resultsData:t}}function OL(){const{resultsData:n}=N0(),t="Test-Results_"+new Date().getTime(),r=[{label:"Quiz Name",key:"quizName"},{label:"First Name",key:"user.firstName"},{label:"Last Name",key:"user.lastName"},{label:"Email",key:"user.email"},{label:"Total Questions",key:"totalQuestions"},{label:"Correct Questions",key:"numCorrect"},{label:"Score",key:"score"},{label:"Test Date",key:"date"}];return p.jsxs("div",{className:"m-5 self-center flex gap-8 h-full",children:[p.jsx("div",{className:"overflow-x-auto border-2",children:p.jsxs("table",{className:"table table-zebra",children:[p.jsx("thead",{children:p.jsx("tr",{children:r.map((i,s)=>p.jsx("th",{className:"text-2xl text-primary text-center sticky top-0 bg-zinc-500",children:i.label},s))})}),p.jsx("tbody",{children:n.map((i,s)=>p.jsxs("tr",{className:"text-base text-center",children:[p.jsx("td",{children:i.quizName}),p.jsx("td",{children:i.user.firstName}),p.jsx("td",{children:i.user.lastName}),p.jsx("td",{children:i.user.email}),p.jsx("td",{children:i.totalQuestions}),p.jsx("td",{children:i.numCorrect}),p.jsx("td",{children:i.score}),p.jsx("td",{children:i.date})]},s))})]})}),p.jsxs(FL,{data:n,headers:r,filename:t,className:"btn btn-primary",target:"_blank",children:["Download",p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})]})]})}const zL="modulepreload",BL=function(n){return"/"+n},oE={},up=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(o=>{if(o=BL(o),o in oE)return;oE[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":zL,l||(d.as="script",d.crossOrigin=""),d.href=o,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Ou={};Ou.d=(n,e)=>{for(var t in e)Ou.o(e,t)&&!Ou.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Ou.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var se=globalThis.pdfjsLib={};Ou.d(se,{AbortException:()=>Po,AnnotationEditorLayer:()=>qy,AnnotationEditorParamsType:()=>oe,AnnotationEditorType:()=>ye,AnnotationEditorUIManager:()=>Ao,AnnotationLayer:()=>OM,AnnotationMode:()=>Qi,CMapCompressionType:()=>jx,ColorPicker:()=>Pm,DOMSVGFactory:()=>u1,DrawLayer:()=>Qy,FeatureTest:()=>rn,GlobalWorkerOptions:()=>Ri,ImageKind:()=>Pp,InvalidPDFException:()=>SS,MissingPDFException:()=>To,OPS:()=>qn,Outliner:()=>Ty,PDFDataRangeTransport:()=>vC,PDFDateString:()=>NS,PDFWorker:()=>dl,PasswordResponses:()=>VL,PermissionFlag:()=>$L,PixelsPerInch:()=>Fs,RenderingCancelledException:()=>d1,TextLayer:()=>km,UnexpectedResponseException:()=>j0,Util:()=>Z,VerbosityLevel:()=>D0,XfaLayer:()=>yC,build:()=>xM,createValidAbsoluteUrl:()=>XL,fetchData:()=>$0,getDocument:()=>cM,getFilenameFromUrl:()=>iN,getPdfFilenameFromUrl:()=>sN,getXfaPageViewport:()=>aN,isDataScheme:()=>h1,isPdfFile:()=>f1,noContextMenu:()=>ln,normalizeUnicode:()=>eN,renderTextLayer:()=>eM,setLayerDimensions:()=>Eo,shadow:()=>we,updateTextLayer:()=>tM,version:()=>vM});const Ot=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_S=[1,0,0,1,0,0],Fx=[.001,0,0,.001,0,0],UL=1e7,kv=1.35,In={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Qi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},HL="pdfjs_internal_editor_",ye={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},$L={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Mt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Pp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},su={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},D0={ERRORS:0,WARNINGS:1,INFOS:5},jx={NONE:0,BINARY:1},qn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},VL={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let I0=D0.WARNINGS;function WL(n){Number.isInteger(n)&&(I0=n)}function GL(){return I0}function F0(n){I0>=D0.INFOS&&console.log(`Info: ${n}`)}function fe(n){I0>=D0.WARNINGS&&console.log(`Warning: ${n}`)}function Te(n){throw new Error(n)}function ot(n,e){n||Te(e)}function qL(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function XL(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=ZL(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(qL(r))return r}catch{}return null}function we(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Us=function(){function e(t,r){this.constructor===e&&Te("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class Ox extends Us{constructor(e,t){super(e,"PasswordException"),this.code=t}}class zx extends Us{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class SS extends Us{constructor(e){super(e,"InvalidPDFException")}}class To extends Us{constructor(e){super(e,"MissingPDFException")}}class j0 extends Us{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class KL extends Us{constructor(e){super(e,"FormatError")}}class Po extends Us{constructor(e){super(e,"AbortException")}}function CS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Te("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function O0(n){typeof n!="string"&&Te("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function YL(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function l1(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function QL(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function JL(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return we(this,"isLittleEndian",QL())}static get isEvalSupported(){return we(this,"isEvalSupported",JL())}static get isOffscreenCanvasSupported(){return we(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?we(this,"platform",{isMac:navigator.platform.includes("Mac")}):we(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return we(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Tv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var pl,Rp,od,Bx;class Z{static makeHexColor(e,t,r){return`#${Tv[e]}${Tv[t]}${Tv[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,l=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,u=o+l||1,d=o-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],_(this,od,Bx).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),_(this,od,Bx).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u),u}}pl=new WeakSet,Rp=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,m=f*u,g=h*(h*(h*e+3*u*t)+3*f*r)+m*i,b=h*(h*(h*s+3*u*a)+3*f*o)+m*l;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],b)},od=new WeakSet,Bx=function(e,t,r,i,s,a,o,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&_(this,pl,Rp).call(this,e,t,r,i,s,a,o,l,-h/d,f);return}const m=d**2-4*h*u;if(m<0)return;const g=Math.sqrt(m),b=2*u;_(this,pl,Rp).call(this,e,t,r,i,s,a,o,l,(-d+g)/b,f),_(this,pl,Rp).call(this,e,t,r,i,s,a,o,l,(-d-g)/b,f)},x(Z,pl),x(Z,od);function ZL(n){return decodeURIComponent(escape(n))}let Pv=null,lE=null;function eN(n){return Pv||(Pv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lE=new Map([["ﬅ","ſt"]])),n.replaceAll(Pv,(e,t,r)=>t?t.normalize("NFKC"):lE.get(r))}function tN(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return CS(n)}const kS="pdfjs_internal_id_",Vr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class z0{constructor(){this.constructor===z0&&Te("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class B0{constructor(){this.constructor===B0&&Te("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Te("Abstract method `_createCanvas` called.")}}class U0{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===U0&&Te("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?jx.BINARY:jx.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Te("Abstract method `_fetchData` called.")}}class H0{constructor({baseUrl:e=null}){this.constructor===H0&&Te("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Te("Abstract method `_fetchData` called.")}}class c1{constructor(){this.constructor===c1&&Te("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Te("Abstract method `_createSVG` called.")}}const Gr="http://www.w3.org/2000/svg",Zs=class Zs{};ie(Zs,"CSS",96),ie(Zs,"PDF",72),ie(Zs,"PDF_TO_CSS_UNITS",Zs.CSS/Zs.PDF);let Fs=Zs;var aa,yr,Zr,Qt,Lm,oa,dt,Dt,Ji,Oo,Zi,zo,ml,Lp,Nm,TS,ld,Ux,es,Bo,la,fu,ca,pu,cd,Hx,ua,mu;class nN extends z0{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();x(this,dt);x(this,Ji);x(this,Zi);x(this,ml);x(this,Nm);x(this,ld);x(this,es);x(this,la);x(this,ca);x(this,cd);x(this,ua);x(this,aa,void 0);x(this,yr,void 0);x(this,Zr,void 0);x(this,Qt,void 0);x(this,Lm,void 0);x(this,oa,0);A(this,Zr,t),A(this,Qt,r)}addFilter(t){if(!t)return"none";let r=c(this,dt,Dt).get(t);if(r)return r;const[i,s,a]=_(this,ml,Lp).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=c(this,dt,Dt).get(o),r)return c(this,dt,Dt).set(t,r),r;const l=`g_${c(this,Zr)}_transfer_map_${dn(this,oa)._++}`,u=`url(#${l})`;c(this,dt,Dt).set(t,u),c(this,dt,Dt).set(o,u);const d=_(this,es,Bo).call(this,l);return _(this,ca,pu).call(this,i,s,a,d),u}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let a=c(this,Ji,Oo).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},c(this,Ji,Oo).set(s,a)),!t||!r))return a.url;const o=_(this,ua,mu).call(this,t);t=Z.makeHexColor(...o);const l=_(this,ua,mu).call(this,r);if(r=Z.makeHexColor(...l),c(this,Zi,zo).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let b=0;b<=255;b++){const E=b/255;u[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,Zr)}_hcm_filter`,f=a.filter=_(this,es,Bo).call(this,h);_(this,ca,pu).call(this,d,d,d,f),_(this,ld,Ux).call(this,f);const m=(b,E)=>{const v=o[b]/255,y=l[b]/255,w=new Array(E+1);for(let C=0;C<=E;C++)w[C]=v+C/E*(y-v);return w.join(",")};return _(this,ca,pu).call(this,m(0,5),m(1,5),m(2,5),f),a.url=`url(#${h})`,a.url}addAlphaFilter(t){let r=c(this,dt,Dt).get(t);if(r)return r;const[i]=_(this,ml,Lp).call(this,[t]),s=`alpha_${i}`;if(r=c(this,dt,Dt).get(s),r)return c(this,dt,Dt).set(t,r),r;const a=`g_${c(this,Zr)}_alpha_map_${dn(this,oa)._++}`,o=`url(#${a})`;c(this,dt,Dt).set(t,o),c(this,dt,Dt).set(s,o);const l=_(this,es,Bo).call(this,a);return _(this,cd,Hx).call(this,i,l),o}addLuminosityFilter(t){let r=c(this,dt,Dt).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=_(this,ml,Lp).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,dt,Dt).get(s),r)return c(this,dt,Dt).set(t,r),r;const a=`g_${c(this,Zr)}_luminosity_map_${dn(this,oa)._++}`,o=`url(#${a})`;c(this,dt,Dt).set(t,o),c(this,dt,Dt).set(s,o);const l=_(this,es,Bo).call(this,a);return _(this,Nm,TS).call(this,l),t&&_(this,cd,Hx).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var y;const o=`${r}-${i}-${s}-${a}`;let l=c(this,Ji,Oo).get(t);if((l==null?void 0:l.key)===o||(l?((y=l.filter)==null||y.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},c(this,Ji,Oo).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(_(this,ua,mu).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,g]=[s,a].map(_(this,ua,mu).bind(this));f<h&&([h,f,m,g]=[f,h,g,m]),c(this,Zi,zo).style.color="";const b=(w,C,R)=>{const M=new Array(256),S=(f-h)/R,z=w/255,V=(C-w)/(255*R);let U=0;for(let T=0;T<=R;T++){const D=Math.round(h+T*S),L=z+T*V;for(let k=U;k<=D;k++)M[k]=L;U=D+1}for(let T=U;T<256;T++)M[T]=M[U-1];return M.join(",")},E=`g_${c(this,Zr)}_hcm_${t}_filter`,v=l.filter=_(this,es,Bo).call(this,E);return _(this,ld,Ux).call(this,v),_(this,ca,pu).call(this,b(m[0],g[0],5),b(m[1],g[1],5),b(m[2],g[2],5),v),l.url=`url(#${E})`,l.url}destroy(t=!1){t&&c(this,Ji,Oo).size!==0||(c(this,yr)&&(c(this,yr).parentNode.parentNode.remove(),A(this,yr,null)),c(this,aa)&&(c(this,aa).clear(),A(this,aa,null)),A(this,oa,0))}}aa=new WeakMap,yr=new WeakMap,Zr=new WeakMap,Qt=new WeakMap,Lm=new WeakMap,oa=new WeakMap,dt=new WeakSet,Dt=function(){return c(this,aa)||A(this,aa,new Map)},Ji=new WeakSet,Oo=function(){return c(this,Lm)||A(this,Lm,new Map)},Zi=new WeakSet,zo=function(){if(!c(this,yr)){const t=c(this,Qt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,Qt).createElementNS(Gr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),A(this,yr,c(this,Qt).createElementNS(Gr,"defs")),t.append(i),i.append(c(this,yr)),c(this,Qt).body.append(t)}return c(this,yr)},ml=new WeakSet,Lp=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Nm=new WeakSet,TS=function(t){const r=c(this,Qt).createElementNS(Gr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},ld=new WeakSet,Ux=function(t){const r=c(this,Qt).createElementNS(Gr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},es=new WeakSet,Bo=function(t){const r=c(this,Qt).createElementNS(Gr,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,Zi,zo).append(r),r},la=new WeakSet,fu=function(t,r,i){const s=c(this,Qt).createElementNS(Gr,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},ca=new WeakSet,pu=function(t,r,i,s){const a=c(this,Qt).createElementNS(Gr,"feComponentTransfer");s.append(a),_(this,la,fu).call(this,a,"feFuncR",t),_(this,la,fu).call(this,a,"feFuncG",r),_(this,la,fu).call(this,a,"feFuncB",i)},cd=new WeakSet,Hx=function(t,r){const i=c(this,Qt).createElementNS(Gr,"feComponentTransfer");r.append(i),_(this,la,fu).call(this,i,"feFuncA",t)},ua=new WeakSet,mu=function(t){return c(this,Zi,zo).style.color=t,p1(getComputedStyle(c(this,Zi,zo)).getPropertyValue("color"))};class rN extends B0{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function $0(n,e="text"){if(gu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class PS extends U0{_fetchData(e,t){return $0(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):O0(r),compressionType:t}))}}class RS extends H0{_fetchData(e){return $0(e,"arraybuffer").then(t=>new Uint8Array(t))}}class u1 extends c1{_createSVG(e){return document.createElementNS(Gr,e)}}class jf{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let m,g,b,E;u===0?(m=Math.abs(l-e[1])*t+i,g=Math.abs(o-e[0])*t+s,b=(e[3]-e[1])*t,E=(e[2]-e[0])*t):(m=Math.abs(o-e[0])*t+i,g=Math.abs(l-e[1])*t+s,b=(e[2]-e[0])*t,E=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,m-u*t*o-h*t*l,g-d*t*o-f*t*l],this.width=b,this.height=E}get rawDims(){const{viewBox:e}=this;return we(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new jf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Z.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Z.applyTransform([e[0],e[1]],this.transform),r=Z.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Z.applyInverseTransform([e,t],this.transform)}}class d1 extends Us{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function h1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function f1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function iN(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function sN(n,e="document.pdf"){if(typeof n!="string")return e;if(h1(n))return fe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class cE{constructor(){ie(this,"started",Object.create(null));ie(this,"times",[])}time(e){e in this.started&&fe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||fe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function gu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ln(n){n.preventDefault()}function LS(n){console.log("Deprecated API usage: "+n)}let uE;class NS{static toDateObject(e){if(!e||typeof e!="string")return null;uE||(uE=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=uE.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}}function aN(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new jf({viewBox:s,scale:e,rotation:t})}function p1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(fe(`Not a valid color format: "${n}"`),[0,0,0])}function oN(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,p1(r))}e.remove()}function Be(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Wr(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function Eo(n,e,t=!1,r=!0){if(e instanceof jf){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=rn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=o?`round(${l}, 1px)`:`calc(${l})`,h=o?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var da,ha,br,fa,Mm,MS,Dm,DS,Im,IS,gl,Np,Fm,FS,ud,Vx;const jm=class jm{constructor(e){x(this,Dm);x(this,Im);x(this,gl);x(this,Fm);x(this,ud);x(this,da,null);x(this,ha,null);x(this,br,void 0);x(this,fa,null);A(this,br,e)}render(){const e=A(this,da,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",_(jm,Mm,MS));const t=A(this,fa,document.createElement("div"));t.className="buttons",e.append(t);const r=c(this,br).toolbarPosition;if(r){const{style:i}=e,s=c(this,br)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,Fm,FS).call(this),e}hide(){var e;c(this,da).classList.add("hidden"),(e=c(this,ha))==null||e.hideDropdown()}show(){c(this,da).classList.remove("hidden")}addAltTextButton(e){_(this,gl,Np).call(this,e),c(this,fa).prepend(e,c(this,ud,Vx))}addColorPicker(e){A(this,ha,e);const t=e.renderButton();_(this,gl,Np).call(this,t),c(this,fa).prepend(t,c(this,ud,Vx))}remove(){var e;c(this,da).remove(),(e=c(this,ha))==null||e.destroy(),A(this,ha,null)}};da=new WeakMap,ha=new WeakMap,br=new WeakMap,fa=new WeakMap,Mm=new WeakSet,MS=function(e){e.stopPropagation()},Dm=new WeakSet,DS=function(e){c(this,br)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Im=new WeakSet,IS=function(e){c(this,br)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},gl=new WeakSet,Np=function(e){e.addEventListener("focusin",_(this,Dm,DS).bind(this),{capture:!0}),e.addEventListener("focusout",_(this,Im,IS).bind(this),{capture:!0}),e.addEventListener("contextmenu",ln)},Fm=new WeakSet,FS=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,br).editorType}-button`),_(this,gl,Np).call(this,e),e.addEventListener("click",t=>{c(this,br)._uiManager.delete()}),c(this,fa).append(e)},ud=new WeakSet,Vx=function(){const e=document.createElement("div");return e.className="divider",e},x(jm,Mm);let $x=jm;var dd,pa,hd,Om,jS,zm,OS,Bm,zS;class lN{constructor(e){x(this,Om);x(this,zm);x(this,Bm);x(this,dd,null);x(this,pa,null);x(this,hd,void 0);A(this,hd,e)}show(e,t,r){const[i,s]=_(this,zm,OS).call(this,t,r),{style:a}=c(this,pa)||A(this,pa,_(this,Om,jS).call(this));e.append(c(this,pa)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,pa).remove()}}dd=new WeakMap,pa=new WeakMap,hd=new WeakMap,Om=new WeakSet,jS=function(){const e=A(this,pa,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ln);const t=A(this,dd,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Bm,zS).call(this),e},zm=new WeakSet,OS=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},Bm=new WeakSet,zS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",ln),e.addEventListener("click",()=>{c(this,hd).highlightSelection("floating_button")}),c(this,dd).append(e)};function _m(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function cN(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Um;class uN{constructor(){x(this,Um,0)}get id(){return`${HL}${dn(this,Um)._++}`}}Um=new WeakMap;var fd,Hm,Rn,pd,Gx;const y1=class y1{constructor(){x(this,pd);x(this,fd,tN());x(this,Hm,0);x(this,Rn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return we(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return _(this,pd,Gx).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return _(this,pd,Gx).call(this,e,e)}async getFromId(e){c(this,Rn)||A(this,Rn,new Map);const t=c(this,Rn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Rn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Rn)||A(this,Rn,new Map);const t=c(this,Rn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,fd)}_`)}};fd=new WeakMap,Hm=new WeakMap,Rn=new WeakMap,pd=new WeakSet,Gx=async function(e,t){c(this,Rn)||A(this,Rn,new Map);let r=c(this,Rn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,fd)}_${dn(this,Hm)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await $0(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=y1._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return c(this,Rn).set(e,r),r&&c(this,Rn).set(r.id,r),r};let Wx=y1;var ht,ts,md,ft;class dN{constructor(e=128){x(this,ht,[]);x(this,ts,!1);x(this,md,void 0);x(this,ft,-1);A(this,md,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),c(this,ts))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,ft)===-1){c(this,ht).length>0&&(c(this,ht).length=0),A(this,ft,0),c(this,ht).push(l);return}if(a&&c(this,ht)[c(this,ft)].type===s){o&&(l.undo=c(this,ht)[c(this,ft)].undo),c(this,ht)[c(this,ft)]=l;return}const u=c(this,ft)+1;u===c(this,md)?c(this,ht).splice(0,1):(A(this,ft,u),u<c(this,ht).length&&c(this,ht).splice(u)),c(this,ht).push(l)}undo(){if(c(this,ft)===-1)return;A(this,ts,!0);const{undo:e,post:t}=c(this,ht)[c(this,ft)];e(),t==null||t(),A(this,ts,!1),A(this,ft,c(this,ft)-1)}redo(){if(c(this,ft)<c(this,ht).length-1){A(this,ft,c(this,ft)+1),A(this,ts,!0);const{cmd:e,post:t}=c(this,ht)[c(this,ft)];e(),t==null||t(),A(this,ts,!1)}}hasSomethingToUndo(){return c(this,ft)!==-1}hasSomethingToRedo(){return c(this,ft)<c(this,ht).length-1}destroy(){A(this,ht,null)}}ht=new WeakMap,ts=new WeakMap,md=new WeakMap,ft=new WeakMap;var $m,BS;class Of{constructor(e){x(this,$m);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=rn.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(_(this,$m,BS).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}$m=new WeakSet,BS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Vm=class Vm{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return oN(e),we(this,"_colors",e)}convert(e){const t=p1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return Vm._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Z.makeHexColor(...t):e}};ie(Vm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qx=Vm;var pn,nt,wt,vl,ei,xl,Xn,yl,ma,wr,ti,ga,gd,vd,Er,bl,ns,Ar,Wm,rs,xd,va,yd,wl,Et,_e,ni,xa,bd,wd,Ed,Ad,_d,Sd,Cd,kd,Td,Pd,Rd,Ld,Nd,Md,is,_r,ri,Dd,El,Mp,Gm,US,qm,HS,Al,Dp,Xm,$S,Km,VS,Ym,WS,Id,Xx,Fd,Kx,jd,Yx,Od,Qx,zd,Jx,At,Ut,Sr,Vi,Qm,GS,Jm,qS,Bd,Zx,Zm,XS,ya,vu,Ud,ey;const rl=class rl{constructor(e,t,r,i,s,a,o,l,u){x(this,El);x(this,Gm);x(this,qm);x(this,Al);x(this,Xm);x(this,Km);x(this,Ym);x(this,Id);x(this,Fd);x(this,jd);x(this,Od);x(this,zd);x(this,At);x(this,Sr);x(this,Qm);x(this,Jm);x(this,Bd);x(this,Zm);x(this,ya);x(this,Ud);x(this,pn,null);x(this,nt,new Map);x(this,wt,new Map);x(this,vl,null);x(this,ei,null);x(this,xl,null);x(this,Xn,new dN);x(this,yl,0);x(this,ma,new Set);x(this,wr,null);x(this,ti,null);x(this,ga,new Set);x(this,gd,!1);x(this,vd,null);x(this,Er,null);x(this,bl,null);x(this,ns,!1);x(this,Ar,null);x(this,Wm,new uN);x(this,rs,!1);x(this,xd,!1);x(this,va,null);x(this,yd,null);x(this,wl,null);x(this,Et,ye.NONE);x(this,_e,new Set);x(this,ni,null);x(this,xa,null);x(this,bd,null);x(this,wd,this.blur.bind(this));x(this,Ed,this.focus.bind(this));x(this,Ad,this.copy.bind(this));x(this,_d,this.cut.bind(this));x(this,Sd,this.paste.bind(this));x(this,Cd,this.keydown.bind(this));x(this,kd,this.keyup.bind(this));x(this,Td,this.onEditingAction.bind(this));x(this,Pd,this.onPageChanging.bind(this));x(this,Rd,this.onScaleChanging.bind(this));x(this,Ld,_(this,qm,HS).bind(this));x(this,Nd,this.onRotationChanging.bind(this));x(this,Md,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,is,[0,0]);x(this,_r,null);x(this,ri,null);x(this,Dd,null);A(this,ri,e),A(this,Dd,t),A(this,vl,r),this._eventBus=i,this._eventBus._on("editingaction",c(this,Td)),this._eventBus._on("pagechanging",c(this,Pd)),this._eventBus._on("scalechanging",c(this,Rd)),this._eventBus._on("rotationchanging",c(this,Nd)),_(this,Xm,$S).call(this),_(this,Fd,Kx).call(this),A(this,ei,s.annotationStorage),A(this,vd,s.filterFactory),A(this,xa,a),A(this,bl,o||null),A(this,gd,l),A(this,wl,u||null),this.viewParameters={realScale:Fs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=rl.prototype,t=a=>c(a,ri).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return we(this,"_keyboardManager",new Of([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,ri).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,ri).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;_(this,jd,Yx).call(this),_(this,Id,Xx).call(this),this._eventBus._off("editingaction",c(this,Td)),this._eventBus._off("pagechanging",c(this,Pd)),this._eventBus._off("scalechanging",c(this,Rd)),this._eventBus._off("rotationchanging",c(this,Nd));for(const r of c(this,wt).values())r.destroy();c(this,wt).clear(),c(this,nt).clear(),c(this,ga).clear(),A(this,pn,null),c(this,_e).clear(),c(this,Xn).destroy(),(e=c(this,vl))==null||e.destroy(),(t=c(this,Ar))==null||t.hide(),A(this,Ar,null),c(this,Er)&&(clearTimeout(c(this,Er)),A(this,Er,null)),c(this,_r)&&(clearTimeout(c(this,_r)),A(this,_r,null)),_(this,Km,VS).call(this)}async mlGuess(e){var t;return((t=c(this,wl))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,wl)}get hcmFilter(){return we(this,"hcmFilter",c(this,xa)?c(this,vd).addHCMFilter(c(this,xa).foreground,c(this,xa).background):"none")}get direction(){return we(this,"direction",getComputedStyle(c(this,ri)).direction)}get highlightColors(){return we(this,"highlightColors",c(this,bl)?new Map(c(this,bl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return we(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){A(this,yd,e)}editAltText(e){var t;(t=c(this,vl))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){A(this,yl,e-1)}focusMainContainer(){c(this,ri).focus()}findParent(e,t){for(const r of c(this,wt).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){c(this,Dd).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ga).add(e)}removeShouldRescale(e){c(this,ga).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Fs.PDF_TO_CSS_UNITS;for(const t of c(this,ga))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),u=_(this,El,Mp).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,Et)===ye.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ye.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,wt).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,ei)&&!c(this,ei).has(e.id)&&c(this,ei).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,ns)&&(A(this,ns,!1),_(this,Al,Dp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,_e))if(t.div.contains(e)){A(this,va,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,va))return;const[e,t]=c(this,va);A(this,va,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){_(this,Fd,Kx).call(this),_(this,Od,Qx).call(this)}removeEditListeners(){_(this,jd,Yx).call(this),_(this,zd,Jx).call(this)}copy(e){var r;if(e.preventDefault(),(r=c(this,pn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,_e)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of c(this,ti))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){fe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)_(this,Bd,Zx).call(this,l);_(this,Ud,ey).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){fe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Et)!==ye.NONE&&!this.isEditorHandlingKeyboard&&rl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,ns)&&(A(this,ns,!1),_(this,Al,Dp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,Ym,WS).call(this),_(this,Od,Qx).call(this),_(this,At,Ut).call(this,{isEditing:c(this,Et)!==ye.NONE,isEmpty:_(this,ya,vu).call(this),hasSomethingToUndo:c(this,Xn).hasSomethingToUndo(),hasSomethingToRedo:c(this,Xn).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,Id,Xx).call(this),_(this,zd,Jx).call(this),_(this,At,Ut).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,ti)){A(this,ti,e);for(const t of c(this,ti))_(this,Sr,Vi).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Wm).id}get currentLayer(){return c(this,wt).get(c(this,yl))}getLayer(e){return c(this,wt).get(e)}get currentPageIndex(){return c(this,yl)}addLayer(e){c(this,wt).set(e.pageIndex,e),c(this,rs)?e.enable():e.disable()}removeLayer(e){c(this,wt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(c(this,Et)!==e){if(A(this,Et,e),e===ye.NONE){this.setEditingState(!1),_(this,Jm,qS).call(this);return}this.setEditingState(!0),_(this,Qm,GS).call(this),this.unselectAll();for(const i of c(this,wt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of c(this,nt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Et)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,ti)){switch(e){case oe.CREATE:this.currentLayer.addNewEditor();return;case oe.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,yd))==null||r.updateColor(t);break;case oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,bd)||A(this,bd,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of c(this,_e))i.updateParams(e,t);for(const i of c(this,ti))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of c(this,nt).values())a.editorType===e&&a.show(t);(((s=c(this,bd))==null?void 0:s.get(oe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,Sr,Vi).call(this,[[oe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,xd)!==e){A(this,xd,e);for(const t of c(this,wt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,nt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,nt).get(e)}addEditor(e){c(this,nt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Er)&&clearTimeout(c(this,Er)),A(this,Er,setTimeout(()=>{this.focusMainContainer(),A(this,Er,null)},0))),c(this,nt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,ma).has(e.annotationElementId))&&((t=c(this,ei))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,ma).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,ma).has(e)}removeDeletedAnnotationElement(e){c(this,ma).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,pn)!==e&&(A(this,pn,e),e&&_(this,Sr,Vi).call(this,e.propertiesToUpdate))}updateUI(e){c(this,Zm,XS)===e&&_(this,Sr,Vi).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,_e).has(e)){c(this,_e).delete(e),e.unselect(),_(this,At,Ut).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,_e).add(e),e.select(),_(this,Sr,Vi).call(this,e.propertiesToUpdate),_(this,At,Ut).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,_e))t!==e&&t.unselect();c(this,_e).clear(),c(this,_e).add(e),e.select(),_(this,Sr,Vi).call(this,e.propertiesToUpdate),_(this,At,Ut).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,_e).has(e)}get firstSelectedEditor(){return c(this,_e).values().next().value}unselect(e){e.unselect(),c(this,_e).delete(e),_(this,At,Ut).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,_e).size!==0}get isEnterHandled(){return c(this,_e).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Xn).undo(),_(this,At,Ut).call(this,{hasSomethingToUndo:c(this,Xn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,ya,vu).call(this)})}redo(){c(this,Xn).redo(),_(this,At,Ut).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Xn).hasSomethingToRedo(),isEmpty:_(this,ya,vu).call(this)})}addCommands(e){c(this,Xn).add(e),_(this,At,Ut).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,ya,vu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,_e)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)_(this,Bd,Zx).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,pn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,pn)||this.hasSelection}selectAll(){for(const e of c(this,_e))e.commit();_(this,Ud,ey).call(this,c(this,nt).values())}unselectAll(){if(!(c(this,pn)&&(c(this,pn).commitOrRemove(),c(this,Et)!==ye.NONE))&&this.hasSelection){for(const e of c(this,_e))e.unselect();c(this,_e).clear(),_(this,At,Ut).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,is)[0]+=e,c(this,is)[1]+=t;const[i,s]=c(this,is),a=[...c(this,_e)],o=1e3;c(this,_r)&&clearTimeout(c(this,_r)),A(this,_r,setTimeout(()=>{A(this,_r,null),c(this,is)[0]=c(this,is)[1]=0,this.addCommands({cmd:()=>{for(const l of a)c(this,nt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)c(this,nt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,wr,new Map);for(const e of c(this,_e))c(this,wr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,wr))return!1;this.disableUserSelect(!1);const e=c(this,wr);A(this,wr,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(c(this,nt).has(i.id)){const l=c(this,wt).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,wr))for(const r of c(this,wr).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,_e).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,pn)===e}getActive(){return c(this,pn)}getMode(){return c(this,Et)}get imageManager(){return we(this,"imageManager",new Wx)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,f)=>({x:(d-i)/a,y:1-(u+h-r)/s,width:f/a,height:h/s});break;case"180":o=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/a,width:h/s,height:f/a});break;case"270":o=(u,d,h,f)=>({x:1-(d+f-i)/a,y:(u-r)/s,width:f/a,height:h/s});break;default:o=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/a,width:h/s,height:f/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:m,width:g,height:b}of h.getClientRects())g===0||b===0||l.push(o(f,m,g,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,xl)||A(this,xl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,xl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,xl))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,ei).getRawValue(t);r&&(c(this,Et)===ye.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};pn=new WeakMap,nt=new WeakMap,wt=new WeakMap,vl=new WeakMap,ei=new WeakMap,xl=new WeakMap,Xn=new WeakMap,yl=new WeakMap,ma=new WeakMap,wr=new WeakMap,ti=new WeakMap,ga=new WeakMap,gd=new WeakMap,vd=new WeakMap,Er=new WeakMap,bl=new WeakMap,ns=new WeakMap,Ar=new WeakMap,Wm=new WeakMap,rs=new WeakMap,xd=new WeakMap,va=new WeakMap,yd=new WeakMap,wl=new WeakMap,Et=new WeakMap,_e=new WeakMap,ni=new WeakMap,xa=new WeakMap,bd=new WeakMap,wd=new WeakMap,Ed=new WeakMap,Ad=new WeakMap,_d=new WeakMap,Sd=new WeakMap,Cd=new WeakMap,kd=new WeakMap,Td=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,Nd=new WeakMap,Md=new WeakMap,is=new WeakMap,_r=new WeakMap,ri=new WeakMap,Dd=new WeakMap,El=new WeakSet,Mp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Gm=new WeakSet,US=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=_(this,El,Mp).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,Ar)||A(this,Ar,new lN(this)),c(this,Ar).show(r,i,this.direction==="ltr"))},qm=new WeakSet,HS=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){c(this,ni)&&((s=c(this,Ar))==null||s.hide(),A(this,ni,null),_(this,At,Ut).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,ni))return;if(!_(this,El,Mp).call(this,e).closest(".textLayer")){c(this,ni)&&((a=c(this,Ar))==null||a.hide(),A(this,ni,null),_(this,At,Ut).call(this,{hasSelectedText:!1}));return}if((o=c(this,Ar))==null||o.hide(),A(this,ni,t),_(this,At,Ut).call(this,{hasSelectedText:!0}),!(c(this,Et)!==ye.HIGHLIGHT&&c(this,Et)!==ye.NONE)&&(c(this,Et)===ye.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,ns,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&_(this,Al,Dp).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},Al=new WeakSet,Dp=function(e=""){c(this,Et)===ye.HIGHLIGHT?this.highlightSelection(e):c(this,gd)&&_(this,Gm,US).call(this)},Xm=new WeakSet,$S=function(){document.addEventListener("selectionchange",c(this,Ld))},Km=new WeakSet,VS=function(){document.removeEventListener("selectionchange",c(this,Ld))},Ym=new WeakSet,WS=function(){window.addEventListener("focus",c(this,Ed)),window.addEventListener("blur",c(this,wd))},Id=new WeakSet,Xx=function(){window.removeEventListener("focus",c(this,Ed)),window.removeEventListener("blur",c(this,wd))},Fd=new WeakSet,Kx=function(){window.addEventListener("keydown",c(this,Cd)),window.addEventListener("keyup",c(this,kd))},jd=new WeakSet,Yx=function(){window.removeEventListener("keydown",c(this,Cd)),window.removeEventListener("keyup",c(this,kd))},Od=new WeakSet,Qx=function(){document.addEventListener("copy",c(this,Ad)),document.addEventListener("cut",c(this,_d)),document.addEventListener("paste",c(this,Sd))},zd=new WeakSet,Jx=function(){document.removeEventListener("copy",c(this,Ad)),document.removeEventListener("cut",c(this,_d)),document.removeEventListener("paste",c(this,Sd))},At=new WeakSet,Ut=function(e){Object.entries(e).some(([r,i])=>c(this,Md)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Md),e)}),c(this,Et)===ye.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,Sr,Vi).call(this,[[oe.HIGHLIGHT_FREE,!0]]))},Sr=new WeakSet,Vi=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Qm=new WeakSet,GS=function(){if(!c(this,rs)){A(this,rs,!0);for(const e of c(this,wt).values())e.enable();for(const e of c(this,nt).values())e.enable()}},Jm=new WeakSet,qS=function(){if(this.unselectAll(),c(this,rs)){A(this,rs,!1);for(const e of c(this,wt).values())e.disable();for(const e of c(this,nt).values())e.disable()}},Bd=new WeakSet,Zx=function(e){const t=c(this,wt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Zm=new WeakSet,XS=function(){let e=null;for(e of c(this,_e));return e},ya=new WeakSet,vu=function(){if(c(this,nt).size===0)return!0;if(c(this,nt).size===1)for(const e of c(this,nt).values())return e.isEmpty();return!1},Ud=new WeakSet,ey=function(e){for(const t of c(this,_e))t.unselect();c(this,_e).clear();for(const t of e)t.isEmpty()||(c(this,_e).add(t),t.select());_(this,At,Ut).call(this,{hasSelectedEditor:this.hasSelection})},ie(rl,"TRANSLATE_SMALL",1),ie(rl,"TRANSLATE_BIG",10);let Ao=rl;var ii,si,Kn,ai,Yn,_l,oi,Hd,ty;const Xr=class Xr{constructor(e){x(this,Hd);x(this,ii,"");x(this,si,!1);x(this,Kn,null);x(this,ai,null);x(this,Yn,null);x(this,_l,!1);x(this,oi,null);A(this,oi,e)}static initialize(e){Xr._l10nPromise||(Xr._l10nPromise=e)}async render(){const e=A(this,Kn,document.createElement("button"));e.className="altText";const t=await Xr._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",ln),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),c(this,oi)._uiManager.editAltText(c(this,oi))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(A(this,_l,!0),r(i))}),await _(this,Hd,ty).call(this),e}finish(){c(this,Kn)&&(c(this,Kn).focus({focusVisible:c(this,_l)}),A(this,_l,!1))}isEmpty(){return!c(this,ii)&&!c(this,si)}get data(){return{altText:c(this,ii),decorative:c(this,si)}}set data({altText:e,decorative:t}){c(this,ii)===e&&c(this,si)===t||(A(this,ii,e),A(this,si,t),_(this,Hd,ty).call(this))}toggle(e=!1){c(this,Kn)&&(!e&&c(this,Yn)&&(clearTimeout(c(this,Yn)),A(this,Yn,null)),c(this,Kn).disabled=!e)}destroy(){var e;(e=c(this,Kn))==null||e.remove(),A(this,Kn,null),A(this,ai,null)}};ii=new WeakMap,si=new WeakMap,Kn=new WeakMap,ai=new WeakMap,Yn=new WeakMap,_l=new WeakMap,oi=new WeakMap,Hd=new WeakSet,ty=async function(){var i;const e=c(this,Kn);if(!e)return;if(!c(this,ii)&&!c(this,si)){e.classList.remove("done"),(i=c(this,ai))==null||i.remove();return}e.classList.add("done"),Xr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,ai);if(!t){A(this,ai,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,oi).id}`;e.setAttribute("aria-describedby",s);const a=100;e.addEventListener("mouseenter",()=>{A(this,Yn,setTimeout(()=>{A(this,Yn,null),c(this,ai).classList.add("show"),c(this,oi)._reportTelemetry({action:"alt_text_tooltip"})},a))}),e.addEventListener("mouseleave",()=>{var o;c(this,Yn)&&(clearTimeout(c(this,Yn)),A(this,Yn,null)),(o=c(this,ai))==null||o.classList.remove("show")})}t.innerText=c(this,si)?await Xr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,ii),t.parentNode||e.append(t);const r=c(this,oi).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ie(Xr,"_l10nPromise",null);let Sm=Xr;var Qn,Ht,Sl,ba,_t,wa,Cl,kl,It,$d,Ea,ss,Vd,Aa,li,Cr,Tl,Pl,Ln,Wd,eg,Gd,ny,qd,ry,Xd,iy,tg,KS,ng,YS,Kd,sy,Yd,ay,Qd,oy,rg,QS,ig,JS,sg,ZS,ag,eC,Jd,ly,_a,xu;const Pe=class Pe{constructor(e){x(this,Gd);x(this,Xd);x(this,tg);x(this,ng);x(this,Kd);x(this,Yd);x(this,Qd);x(this,rg);x(this,ig);x(this,sg);x(this,ag);x(this,Jd);x(this,_a);x(this,Qn,null);x(this,Ht,null);x(this,Sl,!1);x(this,ba,!1);x(this,_t,null);x(this,wa,null);x(this,Cl,this.focusin.bind(this));x(this,kl,this.focusout.bind(this));x(this,It,null);x(this,$d,"");x(this,Ea,!1);x(this,ss,null);x(this,Vd,!1);x(this,Aa,!1);x(this,li,!1);x(this,Cr,null);x(this,Tl,0);x(this,Pl,0);x(this,Ln,null);ie(this,"_initialOptions",Object.create(null));ie(this,"_isVisible",!0);ie(this,"_uiManager",null);ie(this,"_focusEventsAllowed",!0);ie(this,"_l10nPromise",null);x(this,Wd,!1);x(this,eg,Pe._zIndex++);this.constructor===Pe&&Te("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Pe.prototype._resizeWithKeyboard,t=Ao.TRANSLATE_SMALL,r=Ao.TRANSLATE_BIG;return we(this,"_resizerKeyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Pe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return we(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new hN({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Pe._l10nPromise||(Pe._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Pe._l10nPromise.set(s,e.get(s));if(Pe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Pe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Te("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Wd)}set _isDraggable(e){var t;A(this,Wd,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,eg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,_a,xu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Ea)?A(this,Ea,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){_(this,Gd,ny).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ss)||A(this,ss,[this.x,this.y]),_(this,Gd,ny).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ss)||A(this,ss,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ss)&&(c(this,ss)[0]!==this.x||c(this,ss)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Pe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:a,height:o}=this;if(a*=t,o*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(r-o,s));break;case 90:i=Math.max(0,Math.min(t-o,i)),s=Math.min(r,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(r,Math.max(o,s));break;case 270:i=Math.min(t,Math.max(o,i)),s=Math.max(0,Math.min(r-a,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return _(r=Pe,qd,ry).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return _(r=Pe,qd,ry).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return rn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,ba)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!c(this,ba)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!c(this,ba)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Ht))==null||e.finish()}async addEditToolbar(){return c(this,It)||c(this,Aa)?c(this,It):(A(this,It,new $x(this)),this.div.append(c(this,It).render()),c(this,Ht)&&c(this,It).addAltTextButton(await c(this,Ht).render()),c(this,It))}removeEditToolbar(){var e;c(this,It)&&(c(this,It).remove(),A(this,It,null),(e=c(this,Ht))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Ht)||(Sm.initialize(Pe._l10nPromise),A(this,Ht,new Sm(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Ht))==null?void 0:e.data}set altTextData(e){c(this,Ht)&&(c(this,Ht).data=e)}hasAltText(){var e;return!((e=c(this,Ht))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Sl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,Cl)),this.div.addEventListener("focusout",c(this,kl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),_m(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Ea,!0),this._isDraggable){_(this,rg,QS).call(this,e);return}_(this,Qd,oy).call(this,e)}moveInDOM(){c(this,Cr)&&clearTimeout(c(this,Cr)),A(this,Cr,setTimeout(()=>{var e;A(this,Cr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*a,m=this.width*s,g=this.height*a;switch(r){case 0:return[h+u+o,a-f-d-g+l,h+u+m+o,a-f-d+l];case 90:return[h+d+o,a-f+u+l,h+d+g+o,a-f+u+m+l];case 180:return[h-u-m+o,a-f+d+l,h-u+o,a-f+d+g+l];case 270:return[h-d-g+o,a-f-u-m+l,h-d+o,a-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){A(this,Aa,!0)}disableEditMode(){A(this,Aa,!1)}isInEditMode(){return c(this,Aa)}shouldGetKeyboardEvents(){return c(this,li)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",c(this,Cl)),(t=this.div)==null||t.addEventListener("focusout",c(this,kl))}rotate(e){}serialize(e=!1,t=null){Te("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Cl)),this.div.removeEventListener("focusout",c(this,kl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Cr)&&(clearTimeout(c(this,Cr)),A(this,Cr,null)),_(this,_a,xu).call(this),this.removeEditToolbar(),c(this,Ln)){for(const e of c(this,Ln).values())clearTimeout(e);A(this,Ln,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,tg,KS).call(this),c(this,_t).classList.remove("hidden"),_m(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,wa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,_t).children;if(!c(this,Qn)){A(this,Qn,Array.from(t));const a=_(this,ig,JS).bind(this),o=_(this,sg,ZS).bind(this);for(const l of c(this,Qn)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",a),l.addEventListener("blur",o),l.addEventListener("focus",_(this,ag,eC).bind(this,u)),Pe._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const r=c(this,Qn)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Qn).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)c(this,_t).append(c(this,_t).firstChild);else if(s>i)for(let o=0;o<s-i;o++)c(this,_t).firstChild.before(c(this,_t).lastChild);let a=0;for(const o of t){const u=c(this,Qn)[a++].getAttribute("data-resizer-name");Pe._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>o.setAttribute("aria-label",d))}}_(this,Jd,ly).call(this,0),A(this,li,!0),c(this,_t).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,li)&&_(this,Yd,ay).call(this,c(this,$d),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,_a,xu).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,It)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=c(this,It))==null||i.show())});return}(t=c(this,It))==null||t.show()}unselect(){var e,t,r,i;(e=c(this,_t))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=c(this,It))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Vd)}set isEditing(e){A(this,Vd,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,ba,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Ln)||A(this,Ln,new Map);const{action:r}=e;let i=c(this,Ln).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,Ln).delete(r),c(this,Ln).size===0&&A(this,Ln,null)},Pe._telemetryTimeout),c(this,Ln).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Sl,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Sl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Qn=new WeakMap,Ht=new WeakMap,Sl=new WeakMap,ba=new WeakMap,_t=new WeakMap,wa=new WeakMap,Cl=new WeakMap,kl=new WeakMap,It=new WeakMap,$d=new WeakMap,Ea=new WeakMap,ss=new WeakMap,Vd=new WeakMap,Aa=new WeakMap,li=new WeakMap,Cr=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,Ln=new WeakMap,Wd=new WeakMap,eg=new WeakMap,Gd=new WeakSet,ny=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},qd=new WeakSet,ry=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Xd=new WeakSet,iy=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},tg=new WeakSet,KS=function(){if(c(this,_t))return;A(this,_t,document.createElement("div")),c(this,_t).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const r=document.createElement("div");c(this,_t).append(r),r.classList.add("resizer",t),r.setAttribute("data-resizer-name",t),r.addEventListener("pointerdown",_(this,ng,YS).bind(this,t)),r.addEventListener("contextmenu",ln),r.tabIndex=-1}this.div.prepend(c(this,_t))},ng=new WeakSet,YS=function(e,t){var g;t.preventDefault();const{isMac:r}=rn.platform;if(t.button!==0||t.ctrlKey&&r)return;(g=c(this,Ht))==null||g.toggle(!1);const i=_(this,Yd,ay).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",ln);const o=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var b;this.parent.togglePointerEvents(!0),(b=c(this,Ht))==null||b.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",ln),this.parent.div.style.cursor=h,this.div.style.cursor=f,_(this,Kd,sy).call(this,o,l,u,d)};window.addEventListener("pointerup",m),window.addEventListener("blur",m)},Kd=new WeakSet,sy=function(e,t,r,i){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[u,d]=this.parentDimensions;this.setDims(u*o,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},Yd=new WeakSet,ay=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Pe.MIN_SIZE/r,d=Pe.MIN_SIZE/i,h=O=>Math.round(O*1e4)/1e4,f=_(this,Xd,iy).call(this,this.rotation),m=(O,F)=>[f[0]*O+f[2]*F,f[1]*O+f[3]*F],g=_(this,Xd,iy).call(this,360-this.rotation),b=(O,F)=>[g[0]*O+g[2]*F,g[1]*O+g[3]*F];let E,v,y=!1,w=!1;switch(e){case"topLeft":y=!0,E=(O,F)=>[0,0],v=(O,F)=>[O,F];break;case"topMiddle":E=(O,F)=>[O/2,0],v=(O,F)=>[O/2,F];break;case"topRight":y=!0,E=(O,F)=>[O,0],v=(O,F)=>[0,F];break;case"middleRight":w=!0,E=(O,F)=>[O,F/2],v=(O,F)=>[0,F/2];break;case"bottomRight":y=!0,E=(O,F)=>[O,F],v=(O,F)=>[0,0];break;case"bottomMiddle":E=(O,F)=>[O/2,F],v=(O,F)=>[O/2,0];break;case"bottomLeft":y=!0,E=(O,F)=>[0,F],v=(O,F)=>[O,0];break;case"middleLeft":w=!0,E=(O,F)=>[0,F/2],v=(O,F)=>[O,F/2];break}const C=E(o,l),R=v(o,l);let M=m(...R);const S=h(s+M[0]),z=h(a+M[1]);let V=1,U=1,[T,D]=this.screenToPageTranslation(t.movementX,t.movementY);if([T,D]=b(T/r,D/i),y){const O=Math.hypot(o,l);V=U=Math.max(Math.min(Math.hypot(R[0]-C[0]-T,R[1]-C[1]-D)/O,1/o,1/l),u/o,d/l)}else w?V=Math.max(u,Math.min(1,Math.abs(R[0]-C[0]-T)))/o:U=Math.max(d,Math.min(1,Math.abs(R[1]-C[1]-D)))/l;const L=h(o*V),k=h(l*U);M=m(...v(L,k));const P=S-M[0],j=z-M[1];this.width=L,this.height=k,this.x=P,this.y=j,this.setDims(r*L,i*k),this.fixAndSetPosition()},Qd=new WeakSet,oy=function(e){const{isMac:t}=rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},rg=new WeakSet,QS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0},A(this,Tl,e.clientX),A(this,Pl,e.clientY),i=a=>{const{clientX:o,clientY:l}=a,[u,d]=this.screenToPageTranslation(o-c(this,Tl),l-c(this,Pl));A(this,Tl,o),A(this,Pl,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),A(this,Ea,!1),this._uiManager.endDragSession()||_(this,Qd,oy).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},ig=new WeakSet,JS=function(e){Pe._resizerKeyboardManager.exec(this,e)},sg=new WeakSet,ZS=function(e){var t;c(this,li)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,_t)&&_(this,_a,xu).call(this)},ag=new WeakSet,eC=function(e){A(this,$d,c(this,li)?e:"")},Jd=new WeakSet,ly=function(e){if(c(this,Qn))for(const t of c(this,Qn))t.tabIndex=e},_a=new WeakSet,xu=function(){if(A(this,li,!1),_(this,Jd,ly).call(this,-1),c(this,wa)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,wa);_(this,Kd,sy).call(this,e,t,r,i),A(this,wa,null)}},x(Pe,qd),ie(Pe,"_borderLineWidth",-1),ie(Pe,"_colorManager",new qx),ie(Pe,"_zIndex",1),ie(Pe,"_telemetryTimeout",1e3);let Se=Pe;class hN extends Se{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const dE=3285377520,Pn=4294901760,vr=65535;class tC{constructor(e){this.h1=e?e&4294967295:dE,this.h2=e?e&4294967295:dE}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,E=e.length;b<E;b++){const v=e.charCodeAt(b);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,m=h&vr,g=f&vr;for(let b=0;b<i;b++)b&1?(o=a[b],o=o*h&Pn|o*m&vr,o=o<<15|o>>>17,o=o*f&Pn|o*g&vr,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*h&Pn|l*m&vr,l=l<<15|l>>>17,l=l*f&Pn|l*g&vr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Pn|o*m&vr,o=o<<15|o>>>17,o=o*f&Pn|o*g&vr,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Pn|e*36045&vr,t=t*4283543511&Pn|((t<<16|e>>>16)*2950163797&Pn)>>>16,e^=t>>>1,e=e*444984403&Pn|e*60499&vr,t=t*3301882366&Pn|((t<<16|e>>>16)*3120437893&Pn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const cy=Object.freeze({map:null,hash:"",transfer:void 0});var Sa,St,og,nC;class m1{constructor(){x(this,og);x(this,Sa,!1);x(this,St,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,St).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,St).get(e)}remove(e){if(c(this,St).delete(e),c(this,St).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,St).values())if(t instanceof Se)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,St).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,c(this,St).set(e,t);i&&_(this,og,nC).call(this),t instanceof Se&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,St).has(e)}getAll(){return c(this,St).size>0?l1(c(this,St)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,St).size}resetModified(){c(this,Sa)&&(A(this,Sa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rC(this)}get serializable(){if(c(this,St).size===0)return cy;const e=new Map,t=new tC,r=[],i=Object.create(null);let s=!1;for(const[a,o]of c(this,St)){const l=o instanceof Se?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:cy}get editorStats(){let e=null;const t=new Map;for(const r of c(this,St).values()){if(!(r instanceof Se))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Sa=new WeakMap,St=new WeakMap,og=new WeakSet,nC=function(){c(this,Sa)||(A(this,Sa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Zd;class rC extends m1{constructor(t){super();x(this,Zd,void 0);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);A(this,Zd,{map:a,hash:i,transfer:s})}get print(){Te("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Zd)}}Zd=new WeakMap;var Rl;class fN{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){x(this,Rl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Rl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Rl).has(e.loadedName))){if(ot(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),c(this,Rl).add(r),t==null||t(e)}catch{fe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Te("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw fe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return we(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ot||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),we(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ot(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return we(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,R){return C.charCodeAt(R)<<24|C.charCodeAt(R+1)<<16|C.charCodeAt(R+2)<<8|C.charCodeAt(R+3)&255}function i(C,R,M,S){const z=C.substring(0,R),V=C.substring(R+M);return z+S+V}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(C,R){if(++u>30){fe("Load test font never loaded."),R();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(d.bind(null,C,R))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const g=16,b=1482184792;let E=r(f,g);for(s=0,a=h.length-3;s<a;s+=4)E=E-b+r(h,s)|0;s<h.length&&(E=E-b+r(h+"XXX",s)|0),f=i(f,g,4,YL(E));const v=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(y);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const C of[e.loadedName,h]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=C,w.append(R)}this._document.body.append(w),d(h,()=>{w.remove(),t.complete()})}}Rl=new WeakMap;class pN{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=CS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){fe(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,a){};const i=[];for(let s=0,a=r.length;s<a;)switch(r[s++]){case Vr.BEZIER_CURVE_TO:{const[o,l,u,d,h,f]=r.slice(s,s+6);i.push(m=>m.bezierCurveTo(o,l,u,d,h,f)),s+=6}break;case Vr.MOVE_TO:{const[o,l]=r.slice(s,s+2);i.push(u=>u.moveTo(o,l)),s+=2}break;case Vr.LINE_TO:{const[o,l]=r.slice(s,s+2);i.push(u=>u.lineTo(o,l)),s+=2}break;case Vr.QUADRATIC_CURVE_TO:{const[o,l,u,d]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(o,l,u,d)),s+=4}break;case Vr.RESTORE:i.push(o=>o.restore());break;case Vr.SAVE:i.push(o=>o.save());break;case Vr.SCALE:ot(i.length===2,"Scale command is only valid at the third position.");break;case Vr.TRANSFORM:{const[o,l,u,d,h,f]=r.slice(s,s+6);i.push(m=>m.transform(o,l,u,d,h,f)),s+=6}break;case Vr.TRANSLATE:{const[o,l]=r.slice(s,s+2);i.push(u=>u.translate(o,l)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,u=i.length;l<u;l++)i[l](a)}}}if(Ot){var uy=Promise.withResolvers(),zu=null;(async()=>{const e=await up(()=>Promise.resolve().then(()=>hu),[]),t=await up(()=>Promise.resolve().then(()=>hu),void 0),r=await up(()=>Promise.resolve().then(()=>hu),void 0),i=await up(()=>Promise.resolve().then(()=>hu),void 0);let s,a;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:a}))})().then(e=>{zu=e,uy.resolve()},e=>{fe(`loadPackages: ${e}`),zu=new Map,uy.resolve()})}class Ur{static get promise(){return uy.promise}static get(e){return zu==null?void 0:zu.get(e)}}const iC=function(n){return Ur.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class mN extends z0{}class gN extends B0{_createCanvas(e,t){return Ur.get("canvas").createCanvas(e,t)}}class vN extends U0{_fetchData(e,t){return iC(e).then(r=>({cMapData:r,compressionType:t}))}}class xN extends H0{_fetchData(e){return iC(e)}}const Gt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dy(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class zf{constructor(){this.constructor===zf&&Te("Cannot initialize BaseShadingPattern.")}getPattern(){Te("Abstract method `getPattern` called.")}}class yN extends zf{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Gt.STROKE||i===Gt.FILL){const a=t.current.getClippedPathBoundingBox(i,Be(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Z.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),dy(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else dy(e,this._bbox),s=this._createGradient(e);return s}}function Rv(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=o,o=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=a,a=f);const m=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,b=(l[r]+e.offsetX)*e.scaleX,E=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(g>=y)return;const w=u[s],C=u[s+1],R=u[s+2],M=u[a],S=u[a+1],z=u[a+2],V=u[o],U=u[o+1],T=u[o+2],D=Math.round(g),L=Math.round(y);let k,P,j,O,F,$,G,K;for(let X=D;X<=L;X++){if(X<E){const le=X<g?0:(g-X)/(g-E);k=m-(m-b)*le,P=w-(w-M)*le,j=C-(C-S)*le,O=R-(R-z)*le}else{let le;X>y?le=1:E===y?le=0:le=(E-X)/(E-y),k=b-(b-v)*le,P=M-(M-V)*le,j=S-(S-U)*le,O=z-(z-T)*le}let re;X<g?re=0:X>y?re=1:re=(g-X)/(g-y),F=m-(m-v)*re,$=w-(w-V)*re,G=C-(C-U)*re,K=R-(R-T)*re;const me=Math.round(Math.min(k,F)),Ae=Math.round(Math.max(k,F));let ne=h*X+me*4;for(let le=me;le<=Ae;le++)re=(k-le)/(k-F),re<0?re=0:re>1&&(re=1),d[ne++]=P-(P-$)*re|0,d[ne++]=j-(j-G)*re|0,d[ne++]=O-(O-K)*re|0,d[ne++]=255}}function bN(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)Rv(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),Rv(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)Rv(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class wN extends zf{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=u/h,g=d/f,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/g},E=h+2*2,v=f+2*2,y=r.getCanvas("mesh",E,v,!1),w=y.context,C=w.createImageData(h,f);if(t){const M=C.data;for(let S=0,z=M.length;S<z;S+=4)M[S]=t[0],M[S+1]=t[1],M[S+2]=t[2],M[S+3]=255}for(const M of this._figures)bN(C,M,b);return w.putImageData(C,2,2),{canvas:y.canvas,offsetX:o-2*m,offsetY:l-2*g,scaleX:m,scaleY:g}}getPattern(e,t,r,i){dy(e,this._bbox);let s;if(i===Gt.SHADING)s=Z.singularValueDecompose2dScale(Be(e));else if(s=Z.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Z.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Gt.SHADING?null:this._background,t.cachedCanvases);return i!==Gt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class EN extends zf{getPattern(){return"hotpink"}}function AN(n){switch(n[0]){case"RadialAxial":return new yN(n);case"Mesh":return new wN(n);case"Dummy":return new EN}throw new Error(`Unknown IR type: ${n[0]}`)}const hE={COLORED:1,UNCOLORED:2},lg=class lg{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;F0("TilingType: "+o);const d=r[0],h=r[1],f=r[2],m=r[3],g=Z.singularValueDecompose2dScale(this.matrix),b=Z.singularValueDecompose2dScale(this.baseTransform),E=[g[0]*b[0],g[1]*b[1]],v=this.getSizeAndScale(i,this.ctx.canvas.width,E[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,E[1]),w=e.cachedCanvases.getCanvas("pattern",v.size,y.size,!0),C=w.context,R=u.createCanvasGraphics(C);R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,a,l);let M=d,S=h,z=f,V=m;return d<0&&(M=0,z+=Math.abs(d)),h<0&&(S=0,V+=Math.abs(h)),C.translate(-(v.scale*M),-(y.scale*S)),R.transform(v.scale,0,0,y.scale,0,0),C.save(),this.clipBbox(R,M,S,z,V),R.baseTransform=Be(R.ctx),R.executeOperatorList(t),R.endDrawing(),{canvas:w.canvas,scaleX:v.scale,scaleY:y.scale,offsetX:M,offsetY:S}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(lg.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),e.current.updateRectMinMax(Be(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case hE.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case hE.UNCOLORED:const o=Z.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new KL(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Gt.SHADING&&(s=Z.transform(s,t.baseTransform),this.matrix&&(s=Z.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};ie(lg,"MAX_PATTERN_SIZE",3e3);let hy=lg;function _N({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=rn.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let m=0;for(let g=0;g<i;g++){for(const E=e+d;e<E;e++){const v=e<f?n[e]:255;t[m++]=v&128?u:l,t[m++]=v&64?u:l,t[m++]=v&32?u:l,t[m++]=v&16?u:l,t[m++]=v&8?u:l,t[m++]=v&4?u:l,t[m++]=v&2?u:l,t[m++]=v&1?u:l}if(h===0)continue;const b=e<f?n[e++]:255;for(let E=0;E<h;E++)t[m++]=b&1<<7-E?u:l}return{srcPos:e,destPos:m}}const fE=16,pE=100,SN=15,mE=10,gE=1e3,Zt=16;function CN(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,o,l){e.transform(r,i,s,a,o,l),this.__originalTransform(r,i,s,a,o,l)},n.setTransform=function(r,i,s,a,o,l){e.setTransform(r,i,s,a,o,l),this.__originalSetTransform(r,i,s,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class kN{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function dp(n,e,t,r,i,s,a,o,l,u){const[d,h,f,m,g,b]=Be(n);if(h===0&&f===0){const y=a*d+g,w=Math.round(y),C=o*m+b,R=Math.round(C),M=(a+l)*d+g,S=Math.abs(Math.round(M)-w)||1,z=(o+u)*m+b,V=Math.abs(Math.round(z)-R)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),w,R),n.drawImage(e,t,r,i,s,0,0,S,V),n.setTransform(d,h,f,m,g,b),[S,V]}if(d===0&&m===0){const y=o*f+g,w=Math.round(y),C=a*h+b,R=Math.round(C),M=(o+u)*f+g,S=Math.abs(Math.round(M)-w)||1,z=(a+l)*h+b,V=Math.abs(Math.round(z)-R)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,w,R),n.drawImage(e,t,r,i,s,0,0,V,S),n.setTransform(d,h,f,m,g,b),[V,S]}n.drawImage(e,t,r,i,s,a,o,l,u);const E=Math.hypot(d,h),v=Math.hypot(f,m);return[E*l,v*u]}function TN(n){const{width:e,height:t}=n;if(e>gE||t>gE)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const v of n.data){let y=128;for(;y>0;)h[f++]=v&y?0:255,y>>=1}let m=0;for(f=0,h[f]!==0&&(a[0]=1,++m),l=1;l<e;l++)h[f]!==h[f+1]&&(a[l]=h[f]?2:1,++m),f++;for(h[f]!==0&&(a[l]=2,++m),o=1;o<t;o++){f=o*d,u=o*s,h[f-d]!==h[f]&&(a[u]=h[f]?1:8,++m);let v=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)v=(v>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[v]&&(a[u+l]=i[v],++m),f++;if(h[f-d]!==h[f]&&(a[u+l]=h[f]?2:4,++m),m>r)return null}for(f=d*(t-1),u=o*s,h[f]!==0&&(a[u]=8,++m),l=1;l<e;l++)h[f]!==h[f+1]&&(a[u+l]=h[f]?4:8,++m),f++;if(h[f]!==0&&(a[u+l]=4,++m),m>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(o=0;m&&o<=t;o++){let v=o*s;const y=v+e;for(;v<y&&!a[v];)v++;if(v===y)continue;b.moveTo(v%s,o);const w=v;let C=a[v];do{const R=g[C];do v+=R;while(!a[v]);const M=a[v];M!==5&&M!==10?(C=M,a[v]=0):(C=M&51*C>>4,a[v]&=C>>2|C<<2),b.lineTo(v%s,v/s|0),a[v]||--m}while(w!==v);--o}return h=null,a=null,function(v){v.save(),v.scale(1/e,-1/t),v.translate(0,-t),v.fill(b),v.beginPath(),v.restore()}}class vE{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_S,this.textMatrixScale=1,this.fontMatrix=Fx,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Mt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Z.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Z.applyTransform(t,e),i=Z.applyTransform(t.slice(2),e),s=Z.applyTransform([t[0],t[3]],e),a=Z.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){Z.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,o,l,u,d){const h=Z.bezierBoundingBox(t,r,i,s,a,o,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Gt.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gt.STROKE){t||Te("Stroke bounding box must include transform.");const i=Z.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=Z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gt.FILL,t=null){return Z.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xE(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Zt,s=(t-i)/Zt,a=i===0?s:s+1,o=n.createImageData(r,Zt);let l=0,u;const d=e.data,h=o.data;let f,m,g,b;if(e.kind===Pp.GRAYSCALE_1BPP){const E=d.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),y=v.length,w=r+7>>3,C=4294967295,R=rn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?Zt:i,u=0,m=0;m<g;m++){const M=E-l;let S=0;const z=M>w?r:M*8-7,V=z&-8;let U=0,T=0;for(;S<V;S+=8)T=d[l++],v[u++]=T&128?C:R,v[u++]=T&64?C:R,v[u++]=T&32?C:R,v[u++]=T&16?C:R,v[u++]=T&8?C:R,v[u++]=T&4?C:R,v[u++]=T&2?C:R,v[u++]=T&1?C:R;for(;S<z;S++)U===0&&(T=d[l++],U=128),v[u++]=T&U?C:R,U>>=1}for(;u<y;)v[u++]=0;n.putImageData(o,0,f*Zt)}}else if(e.kind===Pp.RGBA_32BPP){for(m=0,b=r*Zt*4,f=0;f<s;f++)h.set(d.subarray(l,l+b)),l+=b,n.putImageData(o,0,m),m+=Zt;f<a&&(b=r*i*4,h.set(d.subarray(l,l+b)),n.putImageData(o,0,m))}else if(e.kind===Pp.RGB_24BPP)for(g=Zt,b=r*g,f=0;f<a;f++){for(f>=s&&(g=i,b=r*g),u=0,m=b;m--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,f*Zt)}else throw new Error(`bad image kind: ${e.kind}`)}function yE(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Zt,s=(t-i)/Zt,a=i===0?s:s+1,o=n.createImageData(r,Zt);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const f=h<s?Zt:i;({srcPos:l}=_N({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(o,0,h*Zt)}}function au(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function hp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Ot){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function bE(n,e){if(e)return!0;const t=Z.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Fs.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const PN=["butt","round","square"],RN=["miter","round","bevel"],LN={},wE={};var eh,fy,th,py;const b1=class b1{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){x(this,eh);x(this,th);this.ctx=e,this.current=new vE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new kN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Be(this.compositeCtx))}this.ctx.save(),hp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Be(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>mE&&typeof r=="function",d=u?Date.now()+SN:0;let h=0;const f=this.commonObjs,m=this.objs;let g;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(g=a[o],g!==qn.dependency)this[g].apply(this,s[o]);else for(const b of s[o]){const E=b.startsWith("g_")?f:m;if(!E.has(b))return E.get(b,r),o}if(o++,o===l)return o;if(u&&++h>mE){if(Date.now()>d)return r(),o;h=0}}}endDrawing(){_(this,eh,fy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,th,py).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let f=o,m=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),d=this.cachedCanvases.getCanvas(u,f,m),h=d.context,h.clearRect(0,0,f,m),h.drawImage(e,0,0,o,l,0,0,f,m),e=d.canvas,o=f,l=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=Be(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const z=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(z),l||(l=new Map,this._cachedBitmapsMap.set(z,l));const V=l.get(u);if(V&&!a){const U=Math.round(Math.min(o[0],o[2])+o[4]),T=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:V,offsetX:U,offsetY:T}}d=V}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),yE(h.context,e));let f=Z.transform(o,[1/r,0,0,-1/i,0,0]);f=Z.transform(f,[1,0,0,1,0,-i]);const[m,g,b,E]=Z.getAxialAlignedBoundingBox([0,0,r,i],f),v=Math.round(b-m)||1,y=Math.round(E-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",v,y),C=w.context,R=m,M=g;C.translate(-R,-M),C.transform(...f),d||(d=this._scaleImage(h.canvas,Wr(C)),d=d.img,l&&a&&l.set(u,d)),C.imageSmoothingEnabled=bE(Be(C),e.interpolate),dp(C,d,0,0,d.width,d.height,0,0,r,i),C.globalCompositeOperation="source-in";const S=Z.transform(Wr(C),[1,0,0,1,-R,-M]);return C.fillStyle=a?s.getPattern(t,this,S,Gt.FILL):s,C.fillRect(0,0,r,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,w.canvas)),{canvas:w.canvas,offsetX:Math.round(R),offsetY:Math.round(M)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=PN[e]}setLineJoin(e){this.ctx.lineJoin=RN[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Be(this.suspendedCtx)),au(this.suspendedCtx,s),CN(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),au(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,h){let f=e.canvas,m=l-d,g=u-h;if(a){if(m<0||g<0||m+r>f.width||g+i>f.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),v=E.context;v.drawImage(f,-m,-g),a.some(y=>y!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=Z.makeHexColor(...a),v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over"),f=E.canvas,m=g=0}else if(a.some(E=>E!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(m,g,r,i),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=Z.makeHexColor(...a),e.fillRect(m,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(f,m,g,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(au(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),au(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const d=Be(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let m=0,g=0,b=e.length;m<b;m++)switch(e[m]|0){case qn.rectangle:a=t[g++],o=t[g++];const E=t[g++],v=t[g++],y=a+E,w=o+v;i.moveTo(a,o),E===0||v===0?i.lineTo(y,w):(i.lineTo(y,o),i.lineTo(y,w),i.lineTo(a,w)),h||s.updateRectMinMax(d,[a,o,y,w]),i.closePath();break;case qn.moveTo:a=t[g++],o=t[g++],i.moveTo(a,o),h||s.updatePathMinMax(d,a,o);break;case qn.lineTo:a=t[g++],o=t[g++],i.lineTo(a,o),h||s.updatePathMinMax(d,a,o);break;case qn.curveTo:l=a,u=o,a=t[g+4],o=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],a,o),s.updateCurvePathMinMax(d,l,u,t[g],t[g+1],t[g+2],t[g+3],a,o,f),g+=6;break;case qn.curveTo2:l=a,u=o,i.bezierCurveTo(a,o,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(d,l,u,a,o,t[g],t[g+1],t[g+2],t[g+3],f),a=t[g+2],o=t[g+3],g+=4;break;case qn.curveTo3:l=a,u=o,a=t[g+2],o=t[g+3],i.bezierCurveTo(t[g],t[g+1],a,o,a,o),s.updateCurvePathMinMax(d,l,u,t[g],t[g+1],a,o,a,o,f),g+=4;break;case qn.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Wr(t),Gt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Wr(t),Gt.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=LN}eoClip(){this.pendingClip=wE}beginText(){this.current.textMatrix=_S,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||Fx,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&fe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=t;t<fE?u=fE:t>pE&&(u=pE),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=l&Mt.FILL_STROKE_MASK,h=!!(l&Mt.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let m;(o.disableFontFace||h||f)&&(m=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),m(s,u),i&&s.setTransform(...i),(d===Mt.FILL||d===Mt.FILL_STROKE)&&s.fill(),(d===Mt.STROKE||d===Mt.FILL_STROKE)&&s.stroke(),s.restore()):((d===Mt.FILL||d===Mt.FILL_STROKE)&&s.fillText(e,t,r),(d===Mt.STROKE||d===Mt.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Be(s),x:t,y:r,fontSize:u,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return we(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,m=f?1:-1,g=r.defaultVMetrics,b=i*t.fontMatrix[0],E=t.textRenderingMode===Mt.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let v;if(t.patternFill){s.save();const M=t.fillColor.getPattern(s,this,Wr(s),Gt.FILL);v=Be(s),s.restore(),s.fillStyle=M}let y=t.lineWidth;const w=t.textMatrixScale;if(w===0||y===0){const M=t.textRenderingMode&Mt.FILL_STROKE_MASK;(M===Mt.STROKE||M===Mt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=w;if(a!==1&&(s.scale(a,a),y/=a),s.lineWidth=y,r.isInvalidPDFjsFont){const M=[];let S=0;for(const z of e)M.push(z.unicode),S+=z.width;s.fillText(M.join(""),0,0),t.x+=S*b*d,s.restore(),this.compose();return}let C=0,R;for(R=0;R<h;++R){const M=e[R];if(typeof M=="number"){C+=m*M*i/1e3;continue}let S=!1;const z=(M.isSpace?l:0)+o,V=M.fontChar,U=M.accent;let T,D,L=M.width;if(f){const P=M.vmetric||g,j=-(M.vmetric?P[1]:L*.5)*b,O=P[2]*b;L=P?-P[0]:L,T=j/a,D=(C+O)/a}else T=C/a,D=0;if(r.remeasure&&L>0){const P=s.measureText(V).width*1e3/i*a;if(L<P&&this.isFontSubpixelAAEnabled){const j=L/P;S=!0,s.save(),s.scale(j,1),T/=j}else L!==P&&(T+=(L-P)/2e3*i/a)}if(this.contentVisible&&(M.isInFont||r.missingFile)){if(E&&!U)s.fillText(V,T,D);else if(this.paintChar(V,T,D,v),U){const P=T+i*U.offset.x/a,j=D-i*U.offset.y/a;this.paintChar(U.fontChar,P,j,v)}}const k=f?L*b-z*u:L*b+z*u;C+=k,S&&s.restore()}f?t.y-=C:t.x+=C*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*a,h=r.fontMatrix||Fx,f=e.length,m=r.textRenderingMode===Mt.INVISIBLE;let g,b,E,v;if(!(m||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,a),g=0;g<f;++g){if(b=e[g],typeof b=="number"){v=o*b*s/1e3,this.ctx.translate(v,0),r.x+=v*d;continue}const y=(b.isSpace?u:0)+l,w=i.charProcOperatorList[b.operatorListId];if(!w){fe(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(w),this.restore()),E=Z.applyTransform([b.width,0],h)[0]*s+y,t.translate(E,0),r.x+=E*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Be(this.ctx),s={createCanvasGraphics:a=>new b1(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new hy(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=Z.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=Z.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=AN(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Wr(t),Gt.SHADING);const i=Wr(t);if(i){const{width:s,height:a}=t.canvas,[o,l,u,d]=Z.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,u-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Te("Should not call beginInlineImage")}beginImageData(){Te("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Be(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Be(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||F0("TODO: Support non-isolated groups."),e.knockout&&fe("Knockout groups not supported.");const r=Be(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Z.getAxialAlignedBoundingBox(e.bbox,Be(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Z.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-a,-o),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),au(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Z.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(_(this,eh,fy).call(this),hp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=Z.singularValueDecompose2dScale(Be(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),f=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),hp(this.ctx)}else hp(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new vE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,th,py).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=TN(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Be(o);o.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const f=Z.transform(l,[t,r,i,s,a[d],a[d+1]]),[m,g]=Z.applyTransform([0,0],f);o.drawImage(u.canvas,m,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const f=this.getObject(a,s);yE(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Wr(t),Gt.FILL):r,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),dp(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){fe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){fe("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Ot){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;xE(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,Wr(i));i.imageSmoothingEnabled=bE(Be(i),e.interpolate),dp(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;xE(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),dp(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===wE?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Be(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};eh=new WeakSet,fy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},th=new WeakSet,py=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ul=b1;for(const n in qn)ul.prototype[n]!==void 0&&(ul.prototype[qn[n]]=ul.prototype[n]);var nh,rh;class Ri{static get workerPort(){return c(this,nh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,nh,e)}static get workerSrc(){return c(this,rh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,rh,e)}}nh=new WeakMap,rh=new WeakMap,x(Ri,nh,null),x(Ri,rh,"");const fp={UNKNOWN:0,DATA:1,ERROR:2},Qe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Te('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Po(n.message);case"MissingPDFException":return new To(n.message);case"PasswordException":return new Ox(n.message,n.code);case"UnexpectedResponseException":return new j0(n.message,n.status);case"UnknownErrorException":return new zx(n.message,n.details);default:return new zx(n.message,n.toString())}}var cg,sC,ug,aC,Ll,Ip;class yu{constructor(e,t,r){x(this,cg);x(this,ug);x(this,Ll);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){_(this,ug,aC).call(this,s);return}if(s.callback){const o=s.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],s.callback===fp.DATA)l.resolve(s.data);else if(s.callback===fp.ERROR)l.reject(hn(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const o=this.sourceName,l=s.sourceName;new Promise(function(u){u(a(s.data))}).then(function(u){r.postMessage({sourceName:o,targetName:l,callback:fp.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:o,targetName:l,callback:fp.ERROR,callbackId:s.callbackId,reason:hn(u)})});return}if(s.streamId){_(this,cg,sC).call(this,s);return}a(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Qe.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ot(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Qe.CANCEL,streamId:s,reason:hn(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}cg=new WeakSet,sC=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Qe.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Qe.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){ot(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Qe.ERROR,streamId:t,reason:hn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Qe.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Qe.START_COMPLETE,streamId:t,reason:hn(u)})})},ug=new WeakSet,aC=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Qe.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(hn(e.reason));break;case Qe.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(hn(e.reason));break;case Qe.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Qe.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Qe.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Qe.PULL_COMPLETE,streamId:t,reason:hn(l)})});break;case Qe.ENQUEUE:if(ot(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Qe.CLOSE:if(ot(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),_(this,Ll,Ip).call(this,a,t);break;case Qe.ERROR:ot(a,"error should have stream controller"),a.controller.error(hn(e.reason)),_(this,Ll,Ip).call(this,a,t);break;case Qe.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(hn(e.reason)),_(this,Ll,Ip).call(this,a,t);break;case Qe.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,hn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Qe.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Qe.CANCEL_COMPLETE,streamId:t,reason:hn(l)})}),o.sinkCapability.reject(hn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ll=new WeakSet,Ip=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Ca,ih;class NN{constructor({parsedData:e,rawData:t}){x(this,Ca,void 0);x(this,ih,void 0);A(this,Ca,e),A(this,ih,t)}getRaw(){return c(this,ih)}get(e){return c(this,Ca).get(e)??null}getAll(){return l1(c(this,Ca))}has(e){return c(this,Ca).has(e)}}Ca=new WeakMap,ih=new WeakMap;const Wi=Symbol("INTERNAL");var sh,ah,oh,Nl;class MN{constructor(e,{name:t,intent:r,usage:i}){x(this,sh,!1);x(this,ah,!1);x(this,oh,!1);x(this,Nl,!0);A(this,sh,!!(e&In.DISPLAY)),A(this,ah,!!(e&In.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(c(this,oh))return c(this,Nl);if(!c(this,Nl))return!1;const{print:e,view:t}=this.usage;return c(this,sh)?(t==null?void 0:t.viewState)!=="OFF":c(this,ah)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Wi&&Te("Internal method `_setVisible` called."),A(this,oh,r),A(this,Nl,t)}}sh=new WeakMap,ah=new WeakMap,oh=new WeakMap,Nl=new WeakMap;var as,ke,Ml,Dl,lh,my;class DN{constructor(e,t=In.DISPLAY){x(this,lh);x(this,as,null);x(this,ke,new Map);x(this,Ml,null);x(this,Dl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Dl,e.order);for(const r of e.groups)c(this,ke).set(r.id,new MN(t,r));if(e.baseState==="OFF")for(const r of c(this,ke).values())r._setVisible(Wi,!1);for(const r of e.on)c(this,ke).get(r)._setVisible(Wi,!0);for(const r of e.off)c(this,ke).get(r)._setVisible(Wi,!1);A(this,Ml,this.getHash())}}isVisible(e){if(c(this,ke).size===0)return!0;if(!e)return F0("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,ke).has(e.id)?c(this,ke).get(e.id).visible:(fe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,lh,my).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,ke).has(t))return fe(`Optional content group not found: ${t}`),!0;if(c(this,ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,ke).has(t))return fe(`Optional content group not found: ${t}`),!0;if(!c(this,ke).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,ke).has(t))return fe(`Optional content group not found: ${t}`),!0;if(!c(this,ke).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,ke).has(t))return fe(`Optional content group not found: ${t}`),!0;if(c(this,ke).get(t).visible)return!1}return!0}return fe(`Unknown optional content policy ${e.policy}.`),!0}return fe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=c(this,ke).get(e);if(!r){fe(`Optional content group not found: ${e}`);return}r._setVisible(Wi,!!t,!0),A(this,as,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,ke).get(i);if(s)switch(r){case"ON":s._setVisible(Wi,!0);break;case"OFF":s._setVisible(Wi,!1);break;case"Toggle":s._setVisible(Wi,!s.visible);break}}A(this,as,null)}get hasInitialVisibility(){return c(this,Ml)===null||this.getHash()===c(this,Ml)}getOrder(){return c(this,ke).size?c(this,Dl)?c(this,Dl).slice():[...c(this,ke).keys()]:null}getGroups(){return c(this,ke).size>0?l1(c(this,ke)):null}getGroup(e){return c(this,ke).get(e)||null}getHash(){if(c(this,as)!==null)return c(this,as);const e=new tC;for(const[t,r]of c(this,ke))e.update(`${t}:${r.visible}`);return A(this,as,e.hexdigest())}}as=new WeakMap,ke=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,lh=new WeakSet,my=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=_(this,lh,my).call(this,s);else if(c(this,ke).has(s))a=c(this,ke).get(s).visible;else return fe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class IN{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ot(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ot(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new FN(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new jN(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class FN{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=f1(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class jN{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ON(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),m=O0(h);h=f.decode(m),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let f;const m=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(d))!==null;){let[,b,E,v]=f;if(b=parseInt(b,10),b in h){if(b===0)break;continue}h[b]=[E,v]}const g=[];for(let b=0;b<h.length&&b in h;++b){let[E,v]=h[b];v=o(v),E&&(v=unescape(v),b===0&&(v=l(v))),g.push(v)}return g.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const m=h[f].indexOf('"');m!==-1&&(h[f]=h[f].slice(0,m),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return i(f,g)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,m,g){if(m==="q"||m==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function g1({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function v1(n){const e=n("Content-Disposition");if(e){let t=ON(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(f1(t))return t}return null}function V0(n,e){return n===404||n===0&&e.startsWith("file:")?new To('Missing PDF "'+e+'".'):new j0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function oC(n){return n===200||n===206}function lC(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cC(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function uC(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(fe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class EE{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zN(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new BN(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class zN{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=cC(this._stream.httpHeaders);const r=t.url;fetch(r,lC(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!oC(i.status))throw V0(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=g1({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=v1(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Po("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:uC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class BN{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=cC(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,lC(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!oC(a.status))throw V0(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:uC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Lv=200,Nv=206;function UN(n){const e=n.response;return typeof e!="string"?e:O0(e).buffer}class HN{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Nv):i.expectedStatus=Lv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||Lv;if(!(s===Lv&&r.expectedStatus===Nv)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const o=UN(i);if(s===Nv){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class $N{constructor(e){this._source=e,this._manager=new HN(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new VN(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new WN(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class VN{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:s}=g1({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=v1(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=V0(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class WN{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=V0(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dC=/^file:\/\/\/[a-zA-Z]:\//;function GN(n){const e=Ur.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class qN{constructor(e){this.source=e,this.url=GN(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new YN(this):new XN(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new QN(this,e,t):new KN(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class hC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Po("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Cm(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class XN extends hC{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const o=new To(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=g1({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=v1(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ur.get("http");this._request=r.request(Cm(this._url,e.httpHeaders),t)}else{const r=Ur.get("https");this._request=r.request(Cm(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class KN extends fC{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const a=new To(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ur.get("http");this._request=s.request(Cm(this._url,this._httpHeaders),i)}else{const s=Ur.get("https");this._request=s.request(Cm(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class YN extends hC{constructor(e){super(e);let t=decodeURIComponent(this._url.path);dC.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Ur.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new To(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class QN extends fC{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);dC.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Ur.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const JN=1e5,Yt=30,ZN=.8;var IE,os,Jt,ch,uh,ka,ci,dh,hh,Ta,Il,Fl,ls,jl,fh,Ol,Pa,ph,mh,en,Ra,La,zl,dg,pC,hg,mC,gh,gy,Bl,Fp,fg,gC;let km=(en=class{constructor({textContentSource:e,container:t,viewport:r}){x(this,dg);x(this,hg);x(this,gh);x(this,os,Promise.withResolvers());x(this,Jt,null);x(this,ch,!1);x(this,uh,!!((IE=globalThis.FontInspector)!=null&&IE.enabled));x(this,ka,null);x(this,ci,null);x(this,dh,0);x(this,hh,0);x(this,Ta,null);x(this,Il,null);x(this,Fl,0);x(this,ls,0);x(this,jl,Object.create(null));x(this,fh,[]);x(this,Ol,null);x(this,Pa,[]);x(this,ph,new WeakMap);x(this,mh,null);if(e instanceof ReadableStream)A(this,Ol,e);else if(typeof e=="object")A(this,Ol,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,Jt,A(this,Il,t)),A(this,ls,r.scale*(globalThis.devicePixelRatio||1)),A(this,Fl,r.rotation),A(this,ci,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;A(this,mh,[1,0,0,-1,-a,o+s]),A(this,hh,i),A(this,dh,s),Eo(t,r),c(this,os).promise.catch(()=>{}).then(()=>{c(en,zl).delete(this),A(this,ci,null),A(this,jl,null)})}render(){const e=()=>{c(this,Ta).read().then(({value:t,done:r})=>{if(r){c(this,os).resolve();return}c(this,ka)??A(this,ka,t.lang),Object.assign(c(this,jl),t.styles),_(this,dg,pC).call(this,t.items),e()},c(this,os).reject)};return A(this,Ta,c(this,Ol).getReader()),c(en,zl).add(this),e(),c(this,os).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==c(this,Fl)&&(t==null||t(),A(this,Fl,i),Eo(c(this,Il),{rotation:i})),r!==c(this,ls)){t==null||t(),A(this,ls,r);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:_(s=en,Bl,Fp).call(s,c(this,ka))};for(const o of c(this,Pa))a.properties=c(this,ph).get(o),a.div=o,_(this,gh,gy).call(this,a)}}cancel(){var t;const e=new Po("TextLayer task cancelled.");(t=c(this,Ta))==null||t.cancel(e).catch(()=>{}),A(this,Ta,null),c(this,os).reject(e)}get textDivs(){return c(this,Pa)}get textContentItemsStr(){return c(this,fh)}static cleanup(){if(!(c(this,zl).size>0)){c(this,Ra).clear();for(const{canvas:e}of c(this,La).values())e.remove();c(this,La).clear()}}},os=new WeakMap,Jt=new WeakMap,ch=new WeakMap,uh=new WeakMap,ka=new WeakMap,ci=new WeakMap,dh=new WeakMap,hh=new WeakMap,Ta=new WeakMap,Il=new WeakMap,Fl=new WeakMap,ls=new WeakMap,jl=new WeakMap,fh=new WeakMap,Ol=new WeakMap,Pa=new WeakMap,ph=new WeakMap,mh=new WeakMap,Ra=new WeakMap,La=new WeakMap,zl=new WeakMap,dg=new WeakSet,pC=function(e){var i,s;if(c(this,ch))return;(s=c(this,ci)).ctx||(s.ctx=_(i=en,Bl,Fp).call(i,c(this,ka)));const t=c(this,Pa),r=c(this,fh);for(const a of e){if(t.length>JN){fe("Ignoring additional textDivs for performance reasons."),A(this,ch,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=c(this,Jt);A(this,Jt,document.createElement("span")),c(this,Jt).classList.add("markedContent"),a.id!==null&&c(this,Jt).setAttribute("id",`${a.id}`),o.append(c(this,Jt))}else a.type==="endMarkedContent"&&A(this,Jt,c(this,Jt).parentNode);continue}r.push(a.str),_(this,hg,mC).call(this,a)}},hg=new WeakSet,mC=function(e){var b;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Pa).push(t);const i=Z.transform(c(this,mh),e.transform);let s=Math.atan2(i[1],i[0]);const a=c(this,jl)[e.fontName];a.vertical&&(s+=Math.PI/2);const o=c(this,uh)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(i[2],i[3]),u=l*_(b=en,fg,gC).call(b,o,c(this,ka));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",m=t.style;c(this,Jt)===c(this,Il)?(m.left=`${(100*d/c(this,hh)).toFixed(2)}%`,m.top=`${(100*h/c(this,dh)).toFixed(2)}%`):(m.left=`${f}${d.toFixed(2)}px)`,m.top=`${f}${h.toFixed(2)}px)`),m.fontSize=`${f}${l.toFixed(2)}px)`,m.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,uh)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);E!==v&&Math.max(E,v)/Math.min(E,v)>1.5&&(g=!0)}if(g&&(r.canvasWidth=a.vertical?e.height:e.width),c(this,ph).set(t,r),c(this,ci).div=t,c(this,ci).properties=r,_(this,gh,gy).call(this,c(this,ci)),r.hasText&&c(this,Jt).append(t),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),c(this,Jt).append(E)}},gh=new WeakSet,gy=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:h}=r;(s!==h||a!==u)&&(i.font=`${h*c(this,ls)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,ls)/f})`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)},Bl=new WeakSet,Fp=function(e=null){let t=c(this,La).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1}),c(this,La).set(e,t)}return t},fg=new WeakSet,gC=function(e,t){const r=c(this,Ra).get(e);if(r)return r;const i=_(this,Bl,Fp).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Yt,i.font=`${Yt}px ${e}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const h=o/(o+l);return c(this,Ra).set(e,h),i.canvas.width=i.canvas.height=0,i.font=s,h}i.strokeStyle="red",i.clearRect(0,0,Yt,Yt),i.strokeText("g",0,0);let u=i.getImageData(0,0,Yt,Yt).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/Yt);break}i.clearRect(0,0,Yt,Yt),i.strokeText("A",0,Yt),u=i.getImageData(0,0,Yt,Yt).data,o=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){o=Yt-Math.floor(h/4/Yt);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=o?o/(o+l):ZN;return c(this,Ra).set(e,d),d},x(en,Bl),x(en,fg),x(en,Ra,new Map),x(en,La,new Map),x(en,zl,new Set),en);function eM(){LS("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&fe("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new km({textContentSource:n,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function tM(){LS("`updateTextLayer`, please use `TextLayer` instead.")}class ad{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(ad.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const nM=65536,rM=100,iM=5e3,sM=Ot?gN:rN,aM=Ot?vN:PS,oM=Ot?mN:nN,lM=Ot?xN:RS;function cM(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new vy,{docId:t}=e,r=n.url?uM(n.url):null,i=n.data?dM(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof vC?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:nM;let d=n.worker instanceof dl?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!h1(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,b=n.CMapReaderFactory||aM,E=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,v=n.StandardFontDataFactory||lM,y=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ot,M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,S=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ot,z=n.fontExtraProperties===!0,V=n.enableXfa===!0,U=n.ownerDocument||globalThis.document,T=n.disableRange===!0,D=n.disableStream===!0,L=n.disableAutoFetch===!0,k=n.pdfBug===!0,P=l?l.length:n.length??NaN,j=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ot&&!S,O=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===PS&&v===RS&&m&&E&&gu(m,document.baseURI)&&gu(E,document.baseURI),F=n.canvasFactory||new sM({ownerDocument:U}),$=n.filterFactory||new oM({docId:t,ownerDocument:U}),G=null;WL(h);const K={canvasFactory:F,filterFactory:$};if(O||(K.cMapReaderFactory=new b({baseUrl:m,isCompressed:g}),K.standardFontDataFactory=new v({baseUrl:E})),!d){const me={verbosity:h,port:Ri.workerPort};d=me.port?dl.fromPort(me):new dl(me),e._worker=d}const X={docId:t,apiVersion:"4.3.136",data:i,password:o,disableAutoFetch:L,rangeChunkSize:u,length:P,docBaseUrl:f,enableXfa:V,evaluatorOptions:{maxImageSize:w,disableFontFace:S,ignoreErrors:y,isEvalSupported:C,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:M,fontExtraProperties:z,useSystemFonts:j,cMapUrl:O?m:null,standardFontDataUrl:O?E:null}},re={disableFontFace:S,fontExtraProperties:z,ownerDocument:U,pdfBug:k,styleElement:G,loadingParams:{disableAutoFetch:L,enableXfa:V}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const me=d.messageHandler.sendWithPromise("GetDocRequest",X,i?[i.buffer]:null);let Ae;return l?Ae=new IN(l,{disableRange:T,disableStream:D}):i||(Ae=(le=>Ot?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&gu(le.url)?new EE(le):new qN(le):gu(le.url)?new EE(le):new $N(le))({url:r,length:P,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:T,disableStream:D})),me.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const le=new yu(t,ne,d.port),dr=new mM(le,e,Ae,re,K);e._transport=dr,le.send("Ready",null)})}).catch(e._capability.reject),e}function uM(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Ot&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function dM(n){if(Ot&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return O0(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function AE(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var pg;const mg=class mg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${dn(mg,pg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};pg=new WeakMap,x(mg,pg,0);let vy=mg,vC=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Te("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class hM{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var cs,ui,us,Uo,Ul,jp;class fM{constructor(e,t,r,i=!1){x(this,us);x(this,Ul);x(this,cs,null);x(this,ui,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new cE:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new xC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new jf({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Qi.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var w,C;(w=this._stats)==null||w.time("Overall");const h=this._transport.getRenderingIntent(r,i,d),{renderingIntent:f,cacheKey:m}=h;A(this,ui,!1),_(this,Ul,jp).call(this),o||(o=this._transport.getOptionalContentConfig(f));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const b=!!(f&In.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(h));const E=R=>{var M;g.renderTasks.delete(v),(this._maybeCleanupAfterRender||b)&&A(this,ui,!0),_(this,us,Uo).call(this,!b),R?(v.capability.reject(R),this._abortOperatorList({intentState:g,reason:R instanceof Error?R:new Error(R)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new yy({callback:E,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(v);const y=v.task;return Promise.all([g.displayReadyCapability.promise,o]).then(([R,M])=>{var S;if(this.destroyed){E();return}if((S=this._stats)==null||S.time("Rendering"),!(M.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:R,optionalContentConfig:M}),v.operatorListChanged()}).catch(E),y}getOperatorList({intent:e="display",annotationMode:t=Qi.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const s=this._transport.getRenderingIntent(e,t,r,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>ad.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),A(this,ui,!1),_(this,Ul,jp).call(this),Promise.all(e)}cleanup(e=!1){A(this,ui,!0);const t=_(this,us,Uo).call(this,!1);return e&&t&&this._stats&&(this._stats=new cE),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&_(this,us,Uo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=o;const u=()=>{o.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();_(this,us,Uo).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof d1){let i=rM;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Po(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}cs=new WeakMap,ui=new WeakMap,us=new WeakSet,Uo=function(e=!1){if(_(this,Ul,jp).call(this),!c(this,ui)||this.destroyed)return!1;if(e)return A(this,cs,setTimeout(()=>{A(this,cs,null),_(this,us,Uo).call(this,!1)},iM)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,ui,!1),!0},Ul=new WeakSet,jp=function(){c(this,cs)&&(clearTimeout(c(this,cs)),A(this,cs,null))};var Na,gg;class pM{constructor(){x(this,Na,new Set);x(this,gg,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,gg).then(()=>{for(const i of c(this,Na))i.call(this,r)})}addEventListener(e,t){c(this,Na).add(t)}removeEventListener(e,t){c(this,Na).delete(t)}terminate(){c(this,Na).clear()}}Na=new WeakMap,gg=new WeakMap;const Jr={isWorkerDisabled:!1,fakeWorkerId:0};Ot&&(Jr.isWorkerDisabled=!0,Ri.workerSrc||(Ri.workerSrc="./pdf.worker.mjs")),Jr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Jr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Ma,Hl,Op;const fn=class fn{constructor({name:e=null,port:t=null,verbosity:r=GL()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=c(fn,Ma))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(fn,Ma)||A(fn,Ma,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Ot?Promise.all([Ur.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new yu("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Jr.isWorkerDisabled&&!c(fn,Hl,Op)){let{workerSrc:e}=fn;try{Jr.isSameOrigin(window.location.href,e)||(e=Jr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new yu("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",o=>{if(t.removeEventListener("error",s),this.destroyed){i();return}o?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",o=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{F0("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Jr.isWorkerDisabled||(fe("Setting up fake worker."),Jr.isWorkerDisabled=!0),fn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new pM;this._port=t;const r=`fake${Jr.fakeWorkerId++}`,i=new yu(r+"_worker",r,t);e.setup(i,t);const s=new yu(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(fn,Ma))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,Ma))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new fn(e)}static get workerSrc(){if(Ri.workerSrc)return Ri.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return we(this,"_setupFakeWorkerGlobal",(async()=>c(this,Hl,Op)?c(this,Hl,Op):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ma=new WeakMap,Hl=new WeakSet,Op=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},x(fn,Hl),x(fn,Ma,void 0);let dl=fn;var di,kr,$l,Vl,Tr,Da,bu;class mM{constructor(e,t,r,i,s){x(this,Da);x(this,di,new Map);x(this,kr,new Map);x(this,$l,new Map);x(this,Vl,new Map);x(this,Tr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new xC,this.fontLoader=new fN({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return we(this,"annotationStorage",new m1)}getRenderingIntent(e,t=Qi.ENABLE,r=null,i=!1){let s=In.DISPLAY,a=cy;switch(e){case"any":s=In.ANY;break;case"display":break;case"print":s=In.PRINT;break;default:fe(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Qi.DISABLE:s+=In.ANNOTATIONS_DISABLE;break;case Qi.ENABLE:break;case Qi.ENABLE_FORMS:s+=In.ANNOTATIONS_FORMS;break;case Qi.ENABLE_STORAGE:s+=In.ANNOTATIONS_STORAGE,a=(s&In.PRINT&&r instanceof rC?r:this.annotationStorage).serializable;break;default:fe(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=In.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,Tr))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,kr).values())e.push(i._destroy());c(this,kr).clear(),c(this,$l).clear(),c(this,Vl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,di).clear(),this.filterFactory.destroy(),km.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Po("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}ot(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=o=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}ot(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new hM(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new Ox(r.message,r.code);break;case"InvalidPDFException":i=new SS(r.message);break;case"MissingPDFException":i=new To(r.message);break;case"UnexpectedResponseException":i=new j0(r.message,r.status);break;case"UnknownErrorException":i=new zx(r.message,r.details);break;default:Te("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(A(this,Tr,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?c(this,Tr).reject(s):c(this,Tr).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){c(this,Tr).reject(s)}}else c(this,Tr).reject(new Ox(r.message,r.code));return c(this,Tr).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,kr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const m=s.error;fe(`Error during font loading: ${m}`),this.commonObjs.resolve(r,m);break}const d=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,h=new pN(s,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=s;ot(f,"The imageRef must be defined.");for(const m of c(this,kr).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=c(this,kr).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(r,a),(a==null?void 0:a.dataLen)>UL&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&fe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,$l).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Vl).set(s.refStr,e);const a=new fM(t,s,this,this._params.pdfBug);return c(this,kr).set(t,a),a});return c(this,$l).set(t,i),i}getPageIndex(e){return AE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,Da,bu).call(this,"GetFieldObjects")}hasJSActions(){return _(this,Da,bu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,Da,bu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,Da,bu).call(this,"GetOptionalContentConfig").then(t=>new DN(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,di).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new NN(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return c(this,di).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,kr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,di).clear(),this.filterFactory.destroy(!0),km.cleanup()}}cachedPageNumber(e){if(!AE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Vl).get(t)??null}}di=new WeakMap,kr=new WeakMap,$l=new WeakMap,Vl=new WeakMap,Tr=new WeakMap,Da=new WeakSet,bu=function(e,t=null){const r=c(this,di).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,di).set(e,i),i};const pp=Symbol("INITIAL_DATA");var Jn,vh,xy;class xC{constructor(){x(this,vh);x(this,Jn,Object.create(null))}get(e,t=null){if(t){const i=_(this,vh,xy).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,Jn)[e];if(!r||r.data===pp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,Jn)[e];return!!t&&t.data!==pp}resolve(e,t=null){const r=_(this,vh,xy).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,Jn)){const{data:r}=c(this,Jn)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}A(this,Jn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Jn)){const{data:t}=c(this,Jn)[e];t!==pp&&(yield[e,t])}}}Jn=new WeakMap,vh=new WeakSet,xy=function(e){var t;return(t=c(this,Jn))[e]||(t[e]={...Promise.withResolvers(),data:pp})};var ds;class gM{constructor(e){x(this,ds,null);A(this,ds,e),this.onContinue=null}get promise(){return c(this,ds).capability.promise}cancel(e=0){c(this,ds).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,ds).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,ds);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ds=new WeakMap;var Ia;const ea=class ea{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gM(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(c(ea,Ia).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(ea,Ia).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new ul(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(ea,Ia).delete(this._canvas),this.callback(e||new d1(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(ea,Ia).delete(this._canvas),this.callback())))}};Ia=new WeakMap,x(ea,Ia,new WeakSet);let yy=ea;const vM="4.3.136",xM="0cec64437";function _E(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ou(n){return Math.max(0,Math.min(255,255*n))}class SE{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ou(e),[e,e,e]}static G_HTML([e]){const t=_E(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(ou)}static RGB_HTML(e){return`#${e.map(_E).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[ou(1-Math.min(1,e+i)),ou(1-Math.min(1,r+i)),ou(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class yC{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const m=document.createTextNode(i.value);a.append(m),o&&ad.shouldBuildText(i.name)&&u.push(m)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[m,g,b]=d.at(-1);if(g+1===m.children.length){d.pop();continue}const E=m.children[++d.at(-1)[1]];if(E===null)continue;const{name:v}=E;if(v==="#text"){const w=document.createTextNode(E.value);u.push(w),b.append(w);continue}const y=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,v):document.createElement(v);if(b.append(y),E.attributes&&this.setAttributes({html:y,element:E,storage:t,intent:s,linkService:r}),((f=E.children)==null?void 0:f.length)>0)d.push([E,-1,y]);else if(E.value){const w=document.createTextNode(E.value);o&&ad.shouldBuildText(v)&&u.push(w),y.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Bf=1e3,yM=9,_o=new WeakSet;function Li(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class bM{static create(e){switch(e.data.annotationType){case tt.LINK:return new bC(e);case tt.TEXT:return new wM(e);case tt.WIDGET:switch(e.data.fieldType){case"Tx":return new EM(e);case"Btn":return e.data.radioButton?new AC(e):e.data.checkBox?new _M(e):new SM(e);case"Ch":return new CM(e);case"Sig":return new AM(e)}return new Ro(e);case tt.POPUP:return new wy(e);case tt.FREETEXT:return new TC(e);case tt.LINE:return new TM(e);case tt.SQUARE:return new PM(e);case tt.CIRCLE:return new RM(e);case tt.POLYLINE:return new PC(e);case tt.CARET:return new NM(e);case tt.INK:return new RC(e);case tt.POLYGON:return new LM(e);case tt.HIGHLIGHT:return new MM(e);case tt.UNDERLINE:return new DM(e);case tt.SQUIGGLY:return new IM(e);case tt.STRIKEOUT:return new FM(e);case tt.STAMP:return new LC(e);case tt.FILEATTACHMENT:return new jM(e);default:return new Ye(e)}}}var Fa,Wl,Gl,xh,by;const w1=class w1{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){x(this,xh);x(this,Fa,null);x(this,Wl,!1);x(this,Gl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return w1._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,Fa)||A(this,Fa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,xh,by).call(this,t),(r=c(this,Gl))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,Fa)&&(_(this,xh,by).call(this,c(this,Fa).rect),(e=c(this,Gl))==null||e.popup.resetEdited(),A(this,Fa,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ro||(s.tabIndex=Bf);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof wy){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:o,height:l}=Li(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const y=`calc(${b}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;a.borderRadius=y}else if(this instanceof AC){const y=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=y}switch(t.borderStyle.style){case su.SOLID:a.borderStyle="solid";break;case su.DASHED:a.borderStyle="dashed";break;case su.BEVELED:fe("Unimplemented border style: beveled");break;case su.INSET:fe("Unimplemented border style: inset");break;case su.UNDERLINE:a.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(A(this,Wl,!0),a.borderColor=Z.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const u=Z.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:m}=i.rawDims;a.left=`${100*(u[0]-f)/d}%`,a.top=`${100*(u[1]-m)/h}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Li(this.data.rect);let o,l;e%180===0?(o=100*s/r,l=100*a/i):(o=100*a/r,l=100*s/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=SE[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:SE[`${a}_rgb`](o)})};return we(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:b,y:E},{x:v,y}]=e[0];if(i===b&&s===E&&t===v&&r===y)return}const{style:a}=this.container;let o;if(c(this,Wl)){const{borderColor:b,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const m=d.createElement("clipPath"),g=`clippath_${this.data.id}`;m.setAttribute("id",g),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(const[,{x:b,y:E},{x:v,y}]of e){const w=d.createElement("rect"),C=(v-t)/l,R=(s-E)/u,M=(b-v)/l,S=(E-y)/u;w.setAttribute("x",C),w.setAttribute("y",R),w.setAttribute("width",M),w.setAttribute("height",S),m.append(w),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${R}" width="${M}" height="${S}"/>`)}c(this,Wl)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=A(this,Gl,new wy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Te("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!_o.has(u)){fe(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&_o.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Fa=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,xh=new WeakSet,by=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=Li(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/a}%`):this.setRotation(i)};let Ye=w1;var hi,Ys,vg,wC,xg,EC;class bC extends Ye{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});x(this,hi);x(this,vg);x(this,xg);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(_(this,vg,wC).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(_(this,xg,EC).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&_(this,hi,Ys).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),_(this,hi,Ys).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,hi,Ys).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),_(this,hi,Ys).call(this),!this._fieldObjects){fe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const m of s){const g=this._fieldObjects[m]||[];for(const{id:b}of g)f.add(b)}for(const m of Object.values(this._fieldObjects))for(const g of m)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:m}=f;switch(d.push(m),f.type){case"text":{const b=f.defaultValue||"";u.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=f.defaultValue===f.exportValues;u.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=f.defaultValue||"";u.setValue(m,{value:b});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!_o.has(g)){fe(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}hi=new WeakSet,Ys=function(){this.container.setAttribute("data-internal-link","")},vg=new WeakSet,wC=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},_(this,hi,Ys).call(this)},xg=new WeakSet,EC=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),_(this,hi,Ys).call(this)};class wM extends Ye{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ro extends Ye{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Z.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||yM,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(kv*i))||1,h=u/d;a=Math.min(i,l(h/kv))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/kv))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Z.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class EM extends Ro{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),_o.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Bf,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue??"";r.value=d.userValue=m,d.formattedValue=null});let h=f=>{const{formattedValue:m}=d;m!=null&&(f.target.value=m),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{var b;if(d.focused)return;const{target:g}=m;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const g={value(b){d.userValue=b.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:E}=b.detail;d.formattedValue=E,E!=null&&b.target!==document.activeElement&&(b.target.value=E),e.setValue(t,{formattedValue:E})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var w;const{charLimit:E}=b.detail,{target:v}=b;if(E===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",E);let y=d.userValue;!y||y.length<=E||(y=y.slice(0,E),v.value=d.userValue=y,e.setValue(t,{value:y}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(g,m)}),r.addEventListener("keydown",m=>{var E;d.commitKey=1;let g=-1;if(m.key==="Escape"?g=0:m.key==="Enter"&&!this.data.multiLine?g=2:m.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:b}=m.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:g,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",m=>{var b,E;if(!d.focused||!m.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(d.focused=!1);const{value:g}=m.target;d.userValue=g,d.lastCommittedValue!==g&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),f(m)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",m=>{var R;d.lastCommittedValue=null;const{data:g,target:b}=m,{value:E,selectionStart:v,selectionEnd:y}=b;let w=v,C=y;switch(m.inputType){case"deleteWordBackward":{const M=E.substring(0,v).match(/\w*[^\w]*$/);M&&(w-=M[0].length);break}case"deleteWordForward":{const M=E.substring(v).match(/^[^\w]*\w*/);M&&(C+=M[0].length);break}case"deleteContentBackward":v===y&&(w-=1);break;case"deleteContentForward":v===y&&(C+=1);break}m.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:g||"",willCommit:!1,selStart:w,selEnd:C}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class AM extends Ro{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class _M extends Ro{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return _o.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Bf,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class AC extends Ro{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(_o.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Bf,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class SM extends bC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class CM extends Ro{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");_o.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Bf;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:m}=i;return m?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const m=f.detail.value,g=new Set(Array.isArray(m)?m:[m]);for(const b of i.options)b.selected=g.has(b.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const m=i.options,g=f.detail.remove;m[g].selected=!1,i.remove(g),m.length>0&&Array.prototype.findIndex.call(m,E=>E.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:m,displayValue:g,exportValue:b}=f.detail.insert,E=i.children[m],v=document.createElement("option");v.textContent=g,v.value=b,E?E.before(v):i.append(v),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:m}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of m){const{displayValue:b,exportValue:E}=g,v=document.createElement("option");v.textContent=b,v.value=E,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const m=new Set(f.detail.indices);for(const g of f.target.options)g.selected=m.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var m;const h=o(!0),f=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class wy extends Ye{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Ye._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new kM({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${kS}${r}`).join(",")),this.container}}var ql,yg,bg,Xl,ja,We,fi,Oa,yh,bh,Kl,pi,Zn,mi,wh,gi,Eh,za,Ba,Yl,zp,Ah,Ey,wg,_C,Eg,SC,Ag,CC,_g,kC,Ql,Bp,Jl,Up,_h,Ay;class kM{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h}){x(this,Yl);x(this,Ah);x(this,wg);x(this,Eg);x(this,Ag);x(this,_g);x(this,Ql);x(this,Jl);x(this,_h);x(this,ql,_(this,Ag,CC).bind(this));x(this,yg,_(this,_h,Ay).bind(this));x(this,bg,_(this,Jl,Up).bind(this));x(this,Xl,_(this,Ql,Bp).bind(this));x(this,ja,null);x(this,We,null);x(this,fi,null);x(this,Oa,null);x(this,yh,null);x(this,bh,null);x(this,Kl,null);x(this,pi,!1);x(this,Zn,null);x(this,mi,null);x(this,wh,null);x(this,gi,null);x(this,Eh,null);x(this,za,null);x(this,Ba,!1);var f;A(this,We,e),A(this,Eh,i),A(this,fi,a),A(this,gi,o),A(this,bh,l),A(this,ja,t),A(this,wh,u),A(this,Kl,d),A(this,yh,r),A(this,Oa,NS.toDateObject(s)),this.trigger=r.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",c(this,Xl)),m.addEventListener("mouseenter",c(this,bg)),m.addEventListener("mouseleave",c(this,yg)),m.classList.add("popupTriggerArea");for(const m of r)(f=m.container)==null||f.addEventListener("keydown",c(this,ql));c(this,We).hidden=!0,h&&_(this,Ql,Bp).call(this)}render(){if(c(this,Zn))return;const e=A(this,Zn,document.createElement("div"));if(e.className="popup",c(this,ja)){const s=e.style.outlineColor=Z.makeHexColor(...c(this,ja));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Z.makeHexColor(...c(this,ja).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,Eh),e.append(t),c(this,Oa)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Oa).toLocaleDateString(),time:c(this,Oa).toLocaleTimeString()})),t.append(s)}const i=c(this,Yl,zp);if(i)yC.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,fi));e.append(s)}c(this,We).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];r.append(document.createTextNode(o)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,za)||A(this,za,{contentsObj:c(this,fi),richText:c(this,gi)}),e&&A(this,mi,null),t&&(A(this,gi,_(this,Eg,SC).call(this,t)),A(this,fi,null)),(r=c(this,Zn))==null||r.remove(),A(this,Zn,null)}resetEdited(){var e;c(this,za)&&({contentsObj:dn(this,fi)._,richText:dn(this,gi)._}=c(this,za),A(this,za,null),(e=c(this,Zn))==null||e.remove(),A(this,Zn,null),A(this,mi,null))}forceHide(){A(this,Ba,this.isVisible),c(this,Ba)&&(c(this,We).hidden=!0)}maybeShow(){c(this,Ba)&&(c(this,Zn)||_(this,Jl,Up).call(this),A(this,Ba,!1),c(this,We).hidden=!1)}get isVisible(){return c(this,We).hidden===!1}}ql=new WeakMap,yg=new WeakMap,bg=new WeakMap,Xl=new WeakMap,ja=new WeakMap,We=new WeakMap,fi=new WeakMap,Oa=new WeakMap,yh=new WeakMap,bh=new WeakMap,Kl=new WeakMap,pi=new WeakMap,Zn=new WeakMap,mi=new WeakMap,wh=new WeakMap,gi=new WeakMap,Eh=new WeakMap,za=new WeakMap,Ba=new WeakMap,Yl=new WeakSet,zp=function(){const e=c(this,gi),t=c(this,fi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,gi).html||null},Ah=new WeakSet,Ey=function(){var e,t,r;return((r=(t=(e=c(this,Yl,zp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},wg=new WeakSet,_C=function(){var e,t,r;return((r=(t=(e=c(this,Yl,zp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},Eg=new WeakSet,SC=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,wg,_C),fontSize:c(this,Ah,Ey)?`calc(${c(this,Ah,Ey)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},Ag=new WeakSet,CC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,pi))&&_(this,Ql,Bp).call(this)},_g=new WeakSet,kC=function(){if(c(this,mi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,bh);let a=!!c(this,Kl),o=a?c(this,Kl):c(this,wh);for(const g of c(this,yh))if(!o||Z.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=Z.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,f=l[1];A(this,mi,[100*(h-i)/t,100*(f-s)/r]);const{style:m}=c(this,We);m.left=`${c(this,mi)[0]}%`,m.top=`${c(this,mi)[1]}%`},Ql=new WeakSet,Bp=function(){A(this,pi,!c(this,pi)),c(this,pi)?(_(this,Jl,Up).call(this),c(this,We).addEventListener("click",c(this,Xl)),c(this,We).addEventListener("keydown",c(this,ql))):(_(this,_h,Ay).call(this),c(this,We).removeEventListener("click",c(this,Xl)),c(this,We).removeEventListener("keydown",c(this,ql)))},Jl=new WeakSet,Up=function(){c(this,Zn)||this.render(),this.isVisible?c(this,pi)&&c(this,We).classList.add("focused"):(_(this,_g,kC).call(this),c(this,We).hidden=!1,c(this,We).style.zIndex=parseInt(c(this,We).style.zIndex)+1e3)},_h=new WeakSet,Ay=function(){c(this,We).classList.remove("focused"),!(c(this,pi)||!this.isVisible)&&(c(this,We).hidden=!0,c(this,We).style.zIndex=parseInt(c(this,We).style.zIndex)-1e3)};class TC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ye.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Sh;class TM extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Sh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Li(t.rect),s=this.svgFactory.create(r,i,!0),a=A(this,Sh,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Sh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sh=new WeakMap;var Ch;class PM extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Ch,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Li(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=A(this,Ch,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ch)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ch=new WeakMap;var kh;class RM extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,kh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Li(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=A(this,kh,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,kh)}addHighlightArea(){this.container.classList.add("highlightArea")}}kh=new WeakMap;var Th;class PC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Th,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Li(t.rect),s=this.svgFactory.create(r,i,!0);let a=[];for(const l of t.vertices){const u=l.x-t.rect[0],d=t.rect[3]-l.y;a.push(u+","+d)}a=a.join(" ");const o=A(this,Th,this.svgFactory.createElement(this.svgElementName));return o.setAttribute("points",a),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Th)}addHighlightArea(){this.container.classList.add("highlightArea")}}Th=new WeakMap;class LM extends PC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class NM extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ph;class RC extends Ye{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,Ph,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ye.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Li(t.rect),s=this.svgFactory.create(r,i,!0);for(const a of t.inkLists){let o=[];for(const u of a){const d=u.x-t.rect[0],h=t.rect[3]-u.y;o.push(`${d},${h}`)}o=o.join(" ");const l=this.svgFactory.createElement(this.svgElementName);c(this,Ph).push(l),l.setAttribute("points",o),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return c(this,Ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ph=new WeakMap;class MM extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class DM extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class IM extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class FM extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class LC extends Ye{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Rh,Lh,_y;class jM extends Ye{constructor(t){var i;super(t,{isRenderable:!0});x(this,Lh);x(this,Rh,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",_(this,Lh,_y).bind(this)),A(this,Rh,i);const{isMac:s}=rn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&_(this,Lh,_y).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,Rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rh=new WeakMap,Lh=new WeakSet,_y=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Nh,Ua,Zl,Sg,NC,Mh,Sy,FE;let OM=(FE=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a}){x(this,Sg);x(this,Mh);x(this,Nh,null);x(this,Ua,null);x(this,Zl,new Map);this.div=e,A(this,Nh,t),A(this,Ua,r),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,r=this.div;Eo(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new u1,annotationStorage:e.annotationStorage||new m1,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===tt.POPUP;if(l){const h=i.get(o.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=Li(o.rect);if(h<=0||f<=0)continue}s.data=o;const u=bM.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(u):i.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),_(this,Sg,NC).call(this,d,o.id),u.annotationEditorType>0&&(c(this,Zl).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}_(this,Mh,Sy).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Eo(t,{rotation:e.rotation}),_(this,Mh,Sy).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Zl).values())}getEditableAnnotation(e){return c(this,Zl).get(e)}},Nh=new WeakMap,Ua=new WeakMap,Zl=new WeakMap,Sg=new WeakSet,NC=function(e,t){var i;const r=e.firstChild||e;r.id=`${kS}${t}`,this.div.append(e),(i=c(this,Nh))==null||i.moveElementInDOM(this.div,e,r,!1)},Mh=new WeakSet,Sy=function(){if(!c(this,Ua))return;const e=this.div;for(const[t,r]of c(this,Ua)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}c(this,Ua).clear()},FE);const mp=/\r\n?|\n/g;var Dh,Ih,Fh,jh,Oh,er,mn,zh,gn,ec,Cg,MC,kg,DC,Tg,IC,tc,Hp,nc,$p,rc,Vp,Pg,FC,Bh,ky,Rg,jC;const Re=class Re extends Se{constructor(t){super({...t,name:"freeTextEditor"});x(this,Cg);x(this,kg);x(this,Tg);x(this,tc);x(this,rc);x(this,Pg);x(this,Rg);x(this,Dh,this.editorDivBlur.bind(this));x(this,Ih,this.editorDivFocus.bind(this));x(this,Fh,this.editorDivInput.bind(this));x(this,jh,this.editorDivKeydown.bind(this));x(this,Oh,this.editorDivPaste.bind(this));x(this,er,void 0);x(this,mn,"");x(this,zh,`${this.id}-editor`);x(this,gn,void 0);x(this,ec,null);A(this,er,t.color||Re._defaultColor||Se._defaultLineColor),A(this,gn,t.fontSize||Re._defaultFontSize)}static get _keyboardManager(){const t=Re.prototype,r=a=>a.isEmpty(),i=Ao.TRANSLATE_SMALL,s=Ao.TRANSLATE_BIG;return we(this,"_keyboardManager",new Of([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Se.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case oe.FREETEXT_SIZE:Re._defaultFontSize=r;break;case oe.FREETEXT_COLOR:Re._defaultColor=r;break}}updateParams(t,r){switch(t){case oe.FREETEXT_SIZE:_(this,Cg,MC).call(this,r);break;case oe.FREETEXT_COLOR:_(this,kg,DC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.FREETEXT_SIZE,Re._defaultFontSize],[oe.FREETEXT_COLOR,Re._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[oe.FREETEXT_SIZE,c(this,gn)],[oe.FREETEXT_COLOR,c(this,er)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Re._internalPadding*t,-(Re._internalPadding+c(this,gn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ye.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,jh)),this.editorDiv.addEventListener("focus",c(this,Ih)),this.editorDiv.addEventListener("blur",c(this,Dh)),this.editorDiv.addEventListener("input",c(this,Fh)),this.editorDiv.addEventListener("paste",c(this,Oh)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,zh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,jh)),this.editorDiv.removeEventListener("focus",c(this,Ih)),this.editorDiv.removeEventListener("blur",c(this,Dh)),this.editorDiv.removeEventListener("input",c(this,Fh)),this.editorDiv.removeEventListener("paste",c(this,Oh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,mn),r=A(this,mn,_(this,Tg,IC).call(this).trimEnd());if(t===r)return;const i=s=>{if(A(this,mn,s),!s){this.remove();return}_(this,rc,Vp).call(this),this._uiManager.rebuild(this),_(this,tc,Hp).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),_(this,tc,Hp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Re._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,zh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Se._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,gn)}px * var(--scale-factor))`,i.color=c(this,er),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),_m(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=c(this,ec);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,m]=this.pageTranslation;let g,b;switch(this.rotation){case 0:g=t+(o[0]-f)/d,b=r+this.height-(o[1]-m)/h;break;case 90:g=t+(o[0]-f)/d,b=r-(o[1]-m)/h,[l,u]=[u,-l];break;case 180:g=t-this.width+(o[0]-f)/d,b=r-(o[1]-m)/h,[l,u]=[-l,-u];break;case 270:g=t+(o[0]-f-this.height*h)/d,b=r+(o[1]-m-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(g*s,b*a,l,u)}else this.setAt(t*s,r*a,this.width*s,this.height*a);_(this,rc,Vp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,b,E;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=_(g=Re,Bh,ky).call(g,r.getData("text")||"").replaceAll(mp,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(mp,"")),v!==this.editorDiv){let y=d;for(const w of this.editorDiv.childNodes){if(w===v){y=h;continue}y.push(_(b=Re,nc,$p).call(b,w))}}d.push(l.nodeValue.slice(0,u).replaceAll(mp,""))}else if(l===this.editorDiv){let v=d,y=0;for(const w of this.editorDiv.childNodes)y++===u&&(v=h),v.push(_(E=Re,nc,$p).call(E,w))}A(this,mn,`${d.join(`
`)}${s}${h.join(`
`)}`),_(this,rc,Vp).call(this);const f=new Range;let m=d.reduce((v,y)=>v+y.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const y=v.nodeValue.length;if(m<=y){f.setStart(v,m),f.setEnd(v,m);break}m-=y}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var o;let s=null;if(t instanceof TC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:m,textPosition:g,parent:{page:{pageNumber:b}}}=t;if(!m||m.length===0)return null;s=t={annotationType:ye.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:g,pageIndex:b-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const a=super.deserialize(t,r,i);return A(a,gn,t.fontSize),A(a,er,Z.makeHexColor(...t.color)),A(a,mn,_(o=Re,Bh,ky).call(o,t.value)),a.annotationElementId=t.id||null,A(a,ec,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Re._internalPadding*this.parentScale,i=this.getRect(r,r),s=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,er)),a={annotationType:ye.FREETEXT,color:s,fontSize:c(this,gn),value:_(this,Pg,FC).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!_(this,Rg,jC).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${c(this,gn)}px * var(--scale-factor))`,i.color=c(this,er),r.replaceChildren();for(const a of c(this,mn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const s=Re._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,mn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Dh=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,jh=new WeakMap,Oh=new WeakMap,er=new WeakMap,mn=new WeakMap,zh=new WeakMap,gn=new WeakMap,ec=new WeakMap,Cg=new WeakSet,MC=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,gn))*this.parentScale),A(this,gn,s),_(this,tc,Hp).call(this)},i=c(this,gn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kg=new WeakSet,DC=function(t){const r=s=>{A(this,er,this.editorDiv.style.color=s)},i=c(this,er);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Tg=new WeakSet,IC=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(_(r=Re,nc,$p).call(r,i));return t.join(`
`)},tc=new WeakSet,Hp=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},nc=new WeakSet,$p=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(mp,"")},rc=new WeakSet,Vp=function(){if(this.editorDiv.replaceChildren(),!!c(this,mn))for(const t of c(this,mn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Pg=new WeakSet,FC=function(){return c(this,mn).replaceAll(" "," ")},Bh=new WeakSet,ky=function(t){return t.replaceAll(" "," ")},Rg=new WeakSet,jC=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=c(this,ec);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},x(Re,nc),x(Re,Bh),ie(Re,"_freeTextDefaultContent",""),ie(Re,"_internalPadding",0),ie(Re,"_defaultColor",null),ie(Re,"_defaultFontSize",10),ie(Re,"_type","freetext"),ie(Re,"_editorType",ye.FREETEXT);let Cy=Re;var Uh,hs,tr,Lg,OC,ic,Wp,Ng,zC,Mg,BC,Hh,Py;class Ty{constructor(e,t=0,r=0,i=!0){x(this,Lg);x(this,ic);x(this,Ng);x(this,Mg);x(this,Hh);x(this,Uh,void 0);x(this,hs,[]);x(this,tr,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:v,y,width:w,height:C}of e){const R=Math.floor((v-t)/d)*d,M=Math.ceil((v+w+t)/d)*d,S=Math.floor((y-t)/d)*d,z=Math.ceil((y+C+t)/d)*d,V=[R,S,z,!0],U=[M,S,z,!1];c(this,hs).push(V,U),s=Math.min(s,R),a=Math.max(a,M),o=Math.min(o,S),l=Math.max(l,z)}const h=a-s+2*r,f=l-o+2*r,m=s-r,g=o-r,b=c(this,hs).at(i?-1:-2),E=[b[0],b[2]];for(const v of c(this,hs)){const[y,w,C]=v;v[0]=(y-m)/h,v[1]=(w-g)/f,v[2]=(C-g)/f}A(this,Uh,{x:m,y:g,width:h,height:f,lastPoint:E})}getOutlines(){c(this,hs).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,hs))t[3]?(e.push(..._(this,Hh,Py).call(this,t)),_(this,Ng,zC).call(this,t)):(_(this,Mg,BC).call(this,t),e.push(..._(this,Hh,Py).call(this,t)));return _(this,Lg,OC).call(this,e)}}Uh=new WeakMap,hs=new WeakMap,tr=new WeakMap,Lg=new WeakSet,OC=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,h]=a;r.delete(a);let f=o,m=l;for(s=[o,u],i.push(s);;){let g;if(r.has(d))g=d;else if(r.has(h))g=h;else break;r.delete(g),[o,l,u,d,h]=g,f!==o&&(s.push(f,m,o,m===l?l:u),f=o),m=m===l?u:l}s.push(f,m)}return new zM(i,c(this,Uh))},ic=new WeakSet,Wp=function(e){const t=c(this,tr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},Ng=new WeakSet,zC=function([,e,t]){const r=_(this,ic,Wp).call(this,e);c(this,tr).splice(r,0,[e,t])},Mg=new WeakSet,BC=function([,e,t]){const r=_(this,ic,Wp).call(this,e);for(let i=r;i<c(this,tr).length;i++){const[s,a]=c(this,tr)[i];if(s!==e)break;if(s===e&&a===t){c(this,tr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=c(this,tr)[i];if(s!==e)break;if(s===e&&a===t){c(this,tr).splice(i,1);return}}},Hh=new WeakSet,Py=function(e){const[t,r,i]=e,s=[[t,r,i]],a=_(this,ic,Wp).call(this,i);for(let o=0;o<a;o++){const[l,u]=c(this,tr)[o];for(let d=0,h=s.length;d<h;d++){const[,f,m]=s[d];if(!(u<=f||m<=l)){if(f>=l){if(m>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,m>u&&s.push([t,u,m])}}}return s};class UC{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Ly}}var $h,sc;class zM extends UC{constructor(t,r){super();x(this,$h,void 0);x(this,sc,void 0);A(this,sc,t),A(this,$h,r)}toSVGPath(){const t=[];for(const r of c(this,sc)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of c(this,sc)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;o.push(h)}return o}get box(){return c(this,$h)}}$h=new WeakMap,sc=new WeakMap;var Pr,vi,ac,oc,Rr,ge,Ha,$a,Vh,Wh,lc,cc,fs,Gh,Dg,Ig,qh,Ry;const Kr=class Kr{constructor({x:e,y:t},r,i,s,a,o=0){x(this,qh);x(this,Pr,void 0);x(this,vi,[]);x(this,ac,void 0);x(this,oc,void 0);x(this,Rr,[]);x(this,ge,new Float64Array(18));x(this,Ha,void 0);x(this,$a,void 0);x(this,Vh,void 0);x(this,Wh,void 0);x(this,lc,void 0);x(this,cc,void 0);x(this,fs,[]);A(this,Pr,r),A(this,cc,s*i),A(this,oc,a),c(this,ge).set([NaN,NaN,NaN,NaN,e,t],6),A(this,ac,o),A(this,Wh,c(Kr,Gh)*i),A(this,Vh,c(Kr,Ig)*i),A(this,lc,i),c(this,fs).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,ge)[8])}add({x:e,y:t}){var V;A(this,Ha,e),A(this,$a,t);const[r,i,s,a]=c(this,Pr);let[o,l,u,d]=c(this,ge).subarray(8,12);const h=e-u,f=t-d,m=Math.hypot(h,f);if(m<c(this,Vh))return!1;const g=m-c(this,Wh),b=g/m,E=b*h,v=b*f;let y=o,w=l;o=u,l=d,u+=E,d+=v,(V=c(this,fs))==null||V.push(e,t);const C=-v/g,R=E/g,M=C*c(this,cc),S=R*c(this,cc);return c(this,ge).set(c(this,ge).subarray(2,8),0),c(this,ge).set([u+M,d+S],4),c(this,ge).set(c(this,ge).subarray(14,18),12),c(this,ge).set([u-M,d-S],16),isNaN(c(this,ge)[6])?(c(this,Rr).length===0&&(c(this,ge).set([o+M,l+S],2),c(this,Rr).push(NaN,NaN,NaN,NaN,(o+M-r)/s,(l+S-i)/a),c(this,ge).set([o-M,l-S],14),c(this,vi).push(NaN,NaN,NaN,NaN,(o-M-r)/s,(l-S-i)/a)),c(this,ge).set([y,w,o,l,u,d],6),!this.isEmpty()):(c(this,ge).set([y,w,o,l,u,d],6),Math.abs(Math.atan2(w-l,y-o)-Math.atan2(v,E))<Math.PI/2?([o,l,u,d]=c(this,ge).subarray(2,6),c(this,Rr).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,y,w]=c(this,ge).subarray(14,18),c(this,vi).push(NaN,NaN,NaN,NaN,((y+o)/2-r)/s,((w+l)/2-i)/a),!0):([y,w,o,l,u,d]=c(this,ge).subarray(0,6),c(this,Rr).push(((y+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,y,w]=c(this,ge).subarray(12,18),c(this,vi).push(((y+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Rr),t=c(this,vi),r=c(this,ge).subarray(4,6),i=c(this,ge).subarray(16,18),[s,a,o,l]=c(this,Pr),[u,d,h,f]=_(this,qh,Ry).call(this);if(isNaN(c(this,ge)[6])&&!this.isEmpty())return`M${(c(this,ge)[2]-s)/o} ${(c(this,ge)[3]-a)/l} L${(c(this,ge)[4]-s)/o} ${(c(this,ge)[5]-a)/l} L${u} ${d} L${h} ${f} L${(c(this,ge)[16]-s)/o} ${(c(this,ge)[17]-a)/l} L${(c(this,ge)[14]-s)/o} ${(c(this,ge)[15]-a)/l} Z`;const m=[];m.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?m.push(`L${e[g+4]} ${e[g+5]}`):m.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);m.push(`L${(r[0]-s)/o} ${(r[1]-a)/l} L${u} ${d} L${h} ${f} L${(i[0]-s)/o} ${(i[1]-a)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?m.push(`L${t[g+4]} ${t[g+5]}`):m.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return m.push(`L${t[4]} ${t[5]} Z`),m.join(" ")}getOutlines(){var v;const e=c(this,Rr),t=c(this,vi),r=c(this,ge),i=r.subarray(4,6),s=r.subarray(16,18),[a,o,l,u]=c(this,Pr),d=new Float64Array((((v=c(this,fs))==null?void 0:v.length)??0)+2);for(let y=0,w=d.length-2;y<w;y+=2)d[y]=(c(this,fs)[y]-a)/l,d[y+1]=(c(this,fs)[y+1]-o)/u;d[d.length-2]=(c(this,Ha)-a)/l,d[d.length-1]=(c(this,$a)-o)/u;const[h,f,m,g]=_(this,qh,Ry).call(this);if(isNaN(r[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(r[2]-a)/l,(r[3]-o)/u,NaN,NaN,NaN,NaN,(r[4]-a)/l,(r[5]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(r[16]-a)/l,(r[17]-o)/u,NaN,NaN,NaN,NaN,(r[14]-a)/l,(r[15]-o)/u],0),new Ly(y,d,c(this,Pr),c(this,lc),c(this,ac),c(this,oc))}const b=new Float64Array(c(this,Rr).length+24+c(this,vi).length);let E=e.length;for(let y=0;y<E;y+=2){if(isNaN(e[y])){b[y]=b[y+1]=NaN;continue}b[y]=e[y],b[y+1]=e[y+1]}b.set([NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/u],E),E+=24;for(let y=t.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(t[y+w])){b[E]=b[E+1]=NaN,E+=2;continue}b[E]=t[y+w],b[E+1]=t[y+w+1],E+=2}return b.set([NaN,NaN,NaN,NaN,t[4],t[5]],E),new Ly(b,d,c(this,Pr),c(this,lc),c(this,ac),c(this,oc))}};Pr=new WeakMap,vi=new WeakMap,ac=new WeakMap,oc=new WeakMap,Rr=new WeakMap,ge=new WeakMap,Ha=new WeakMap,$a=new WeakMap,Vh=new WeakMap,Wh=new WeakMap,lc=new WeakMap,cc=new WeakMap,fs=new WeakMap,Gh=new WeakMap,Dg=new WeakMap,Ig=new WeakMap,qh=new WeakSet,Ry=function(){const e=c(this,ge).subarray(4,6),t=c(this,ge).subarray(16,18),[r,i,s,a]=c(this,Pr);return[(c(this,Ha)+(e[0]-t[0])/2-r)/s,(c(this,$a)+(e[1]-t[1])/2-i)/a,(c(this,Ha)+(t[0]-e[0])/2-r)/s,(c(this,$a)+(t[1]-e[1])/2-i)/a]},x(Kr,Gh,8),x(Kr,Dg,2),x(Kr,Ig,c(Kr,Gh)+c(Kr,Dg));let Tm=Kr;var uc,Va,xi,Xh,vn,Kh,qe,Wa,wu,Ga,Eu,Fg,HC;class Ly extends UC{constructor(t,r,i,s,a,o){super();x(this,Wa);x(this,Ga);x(this,Fg);x(this,uc,void 0);x(this,Va,null);x(this,xi,void 0);x(this,Xh,void 0);x(this,vn,void 0);x(this,Kh,void 0);x(this,qe,void 0);A(this,qe,t),A(this,vn,r),A(this,uc,i),A(this,Kh,s),A(this,xi,a),A(this,Xh,o),_(this,Fg,HC).call(this,o);const{x:l,y:u,width:d,height:h}=c(this,Va);for(let f=0,m=t.length;f<m;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,m=r.length;f<m;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,qe)[4]} ${c(this,qe)[5]}`];for(let r=6,i=c(this,qe).length;r<i;r+=6){if(isNaN(c(this,qe)[r])){t.push(`L${c(this,qe)[r+4]} ${c(this,qe)[r+5]}`);continue}t.push(`C${c(this,qe)[r]} ${c(this,qe)[r+1]} ${c(this,qe)[r+2]} ${c(this,qe)[r+3]} ${c(this,qe)[r+4]} ${c(this,qe)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=_(this,Wa,wu).call(this,c(this,qe),t,s,o,-l),d=_(this,Wa,wu).call(this,c(this,vn),t,s,o,-l);break;case 90:u=_(this,Ga,Eu).call(this,c(this,qe),t,r,o,l),d=_(this,Ga,Eu).call(this,c(this,vn),t,r,o,l);break;case 180:u=_(this,Wa,wu).call(this,c(this,qe),i,r,-o,l),d=_(this,Wa,wu).call(this,c(this,vn),i,r,-o,l);break;case 270:u=_(this,Ga,Eu).call(this,c(this,qe),i,s,-o,-l),d=_(this,Ga,Eu).call(this,c(this,vn),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Va)}getNewOutline(t,r){const{x:i,y:s,width:a,height:o}=c(this,Va),[l,u,d,h]=c(this,uc),f=a*d,m=o*h,g=i*d+l,b=s*h+u,E=new Tm({x:c(this,vn)[0]*f+g,y:c(this,vn)[1]*m+b},c(this,uc),c(this,Kh),t,c(this,Xh),r??c(this,xi));for(let v=2;v<c(this,vn).length;v+=2)E.add({x:c(this,vn)[v]*f+g,y:c(this,vn)[v+1]*m+b});return E.getOutlines()}}uc=new WeakMap,Va=new WeakMap,xi=new WeakMap,Xh=new WeakMap,vn=new WeakMap,Kh=new WeakMap,qe=new WeakMap,Wa=new WeakSet,wu=function(t,r,i,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=r+t[l]*s,o[l+1]=i+t[l+1]*a;return o},Ga=new WeakSet,Eu=function(t,r,i,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=r+t[l+1]*s,o[l+1]=i+t[l]*a;return o},Fg=new WeakSet,HC=function(t){const r=c(this,qe);let i=r[4],s=r[5],a=i,o=s,l=i,u=s,d=i,h=s;const f=t?Math.max:Math.min;for(let v=6,y=r.length;v<y;v+=6){if(isNaN(r[v]))a=Math.min(a,r[v+4]),o=Math.min(o,r[v+5]),l=Math.max(l,r[v+4]),u=Math.max(u,r[v+5]),h<r[v+5]?(d=r[v+4],h=r[v+5]):h===r[v+5]&&(d=f(d,r[v+4]));else{const w=Z.bezierBoundingBox(i,s,...r.slice(v,v+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),u=Math.max(u,w[3]),h<w[3]?(d=w[2],h=w[3]):h===w[3]&&(d=f(d,w[2]))}i=r[v+4],s=r[v+5]}const m=a-c(this,xi),g=o-c(this,xi),b=l-a+2*c(this,xi),E=u-o+2*c(this,xi);A(this,Va,{x:m,y:g,width:b,height:E,lastPoint:[d,h]})};var Yh,Qh,nr,qa,dc,rt,Jh,hc,Zh,ef,ps,fc,tf,Ny,nf,My,jg,$C,yi,Qs,Og,VC,Lr,Gi;const Yr=class Yr{constructor({editor:e=null,uiManager:t=null}){x(this,tf);x(this,nf);x(this,jg);x(this,yi);x(this,Og);x(this,Lr);x(this,Yh,_(this,jg,$C).bind(this));x(this,Qh,_(this,Og,VC).bind(this));x(this,nr,null);x(this,qa,null);x(this,dc,void 0);x(this,rt,null);x(this,Jh,!1);x(this,hc,!1);x(this,Zh,null);x(this,ef,void 0);x(this,ps,null);x(this,fc,void 0);var r;e?(A(this,hc,!1),A(this,fc,oe.HIGHLIGHT_COLOR),A(this,Zh,e)):(A(this,hc,!0),A(this,fc,oe.HIGHLIGHT_DEFAULT_COLOR)),A(this,ps,(e==null?void 0:e._uiManager)||t),A(this,ef,c(this,ps)._eventBus),A(this,dc,(e==null?void 0:e.color)||((r=c(this,ps))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return we(this,"_keyboardManager",new Of([[["Escape","mac+Escape"],Yr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yr.prototype._moveToPrevious],[["Home","mac+Home"],Yr.prototype._moveToBeginning],[["End","mac+End"],Yr.prototype._moveToEnd]]))}renderButton(){const e=A(this,nr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",_(this,yi,Qs).bind(this)),e.addEventListener("keydown",c(this,Yh));const t=A(this,qa,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=c(this,dc),e.append(t),e}renderMainDropdown(){const e=A(this,rt,_(this,tf,Ny).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,nr)){_(this,yi,Qs).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,nf,My).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,Lr,Gi)){_(this,yi,Qs).call(this,e);return}if(e.target===c(this,nr)){(t=c(this,rt).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,rt))==null?void 0:t.firstChild)||e.target===c(this,nr)){c(this,Lr,Gi)&&this._hideDropdownFromKeyboard();return}c(this,Lr,Gi)||_(this,yi,Qs).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,Lr,Gi)){_(this,yi,Qs).call(this,e);return}(t=c(this,rt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Lr,Gi)){_(this,yi,Qs).call(this,e);return}(t=c(this,rt).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,rt))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Qh))}_hideDropdownFromKeyboard(){var e;if(!c(this,hc)){if(!c(this,Lr,Gi)){(e=c(this,Zh))==null||e.unselect();return}this.hideDropdown(),c(this,nr).focus({preventScroll:!0,focusVisible:c(this,Jh)})}}updateColor(e){if(c(this,qa)&&(c(this,qa).style.backgroundColor=e),!c(this,rt))return;const t=c(this,ps).highlightColors.values();for(const r of c(this,rt).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,nr))==null||e.remove(),A(this,nr,null),A(this,qa,null),(t=c(this,rt))==null||t.remove(),A(this,rt,null)}};Yh=new WeakMap,Qh=new WeakMap,nr=new WeakMap,qa=new WeakMap,dc=new WeakMap,rt=new WeakMap,Jh=new WeakMap,hc=new WeakMap,Zh=new WeakMap,ef=new WeakMap,ps=new WeakMap,fc=new WeakMap,tf=new WeakSet,Ny=function(){const e=document.createElement("div");e.addEventListener("contextmenu",ln),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,r]of c(this,ps).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===c(this,dc)),i.addEventListener("click",_(this,nf,My).bind(this,r)),e.append(i)}return e.addEventListener("keydown",c(this,Yh)),e},nf=new WeakSet,My=function(e,t){t.stopPropagation(),c(this,ef).dispatch("switchannotationeditorparams",{source:this,type:c(this,fc),value:e})},jg=new WeakSet,$C=function(e){Yr._keyboardManager.exec(this,e)},yi=new WeakSet,Qs=function(e){if(c(this,Lr,Gi)){this.hideDropdown();return}if(A(this,Jh,e.detail===0),window.addEventListener("pointerdown",c(this,Qh)),c(this,rt)){c(this,rt).classList.remove("hidden");return}const t=A(this,rt,_(this,tf,Ny).call(this));c(this,nr).append(t)},Og=new WeakSet,VC=function(e){var t;(t=c(this,rt))!=null&&t.contains(e.target)||this.hideDropdown()},Lr=new WeakSet,Gi=function(){return c(this,rt)&&!c(this,rt).classList.contains("hidden")};let Pm=Yr;var pc,rf,ms,Xa,mc,Nn,sf,af,Ka,rr,$t,xn,zg,gc,Ya,it,vc,Nr,of,lf,Dy,cf,Iy,Bg,WC,Ug,GC,Hg,qC,uf,Fy,Qa,Au,gs,Ho,$g,XC,xc,Gp,Ja,_u,Vg,KC,Wg,YC,Gg,QC,qg,JC;const be=class be extends Se{constructor(t){super({...t,name:"highlightEditor"});x(this,lf);x(this,cf);x(this,Bg);x(this,Ug);x(this,Hg);x(this,uf);x(this,Qa);x(this,$g);x(this,xc);x(this,Ja);x(this,Vg);x(this,Wg);x(this,pc,null);x(this,rf,0);x(this,ms,void 0);x(this,Xa,null);x(this,mc,null);x(this,Nn,null);x(this,sf,null);x(this,af,0);x(this,Ka,null);x(this,rr,null);x(this,$t,null);x(this,xn,!1);x(this,zg,_(this,$g,XC).bind(this));x(this,gc,null);x(this,Ya,void 0);x(this,it,null);x(this,vc,"");x(this,Nr,void 0);x(this,of,"");this.color=t.color||be._defaultColor,A(this,Nr,t.thickness||be._defaultThickness),A(this,Ya,t.opacity||be._defaultOpacity),A(this,ms,t.boxes||null),A(this,of,t.methodOfCreation||""),A(this,vc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(A(this,xn,!0),_(this,cf,Iy).call(this,t),_(this,Qa,Au).call(this)):(A(this,pc,t.anchorNode),A(this,rf,t.anchorOffset),A(this,sf,t.focusNode),A(this,af,t.focusOffset),_(this,lf,Dy).call(this),_(this,Qa,Au).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=be.prototype;return we(this,"_keyboardManager",new Of([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,xn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Nr),methodOfCreation:c(this,of)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Se.initialize(t,r),be._defaultColor||(be._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case oe.HIGHLIGHT_DEFAULT_COLOR:be._defaultColor=r;break;case oe.HIGHLIGHT_THICKNESS:be._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,gc)}updateParams(t,r){switch(t){case oe.HIGHLIGHT_COLOR:_(this,Bg,WC).call(this,r);break;case oe.HIGHLIGHT_THICKNESS:_(this,Ug,GC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.HIGHLIGHT_DEFAULT_COLOR,be._defaultColor],[oe.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,this.color||be._defaultColor],[oe.HIGHLIGHT_THICKNESS,c(this,Nr)||be._defaultThickness],[oe.HIGHLIGHT_FREE,c(this,xn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(A(this,mc,new Pm({editor:this})),t.addColorPicker(c(this,mc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Ja,_u).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,_(this,Ja,_u).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,uf,Fy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Qa,Au).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?_(this,uf,Fy).call(this):t&&(_(this,Qa,Au).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;c(this,xn)?(t=(t-this.rotation+360)%360,i=_(s=be,gs,Ho).call(s,c(this,rr).box,t)):i=_(a=be,gs,Ho).call(a,this,t),r.rotate(c(this,$t),t),r.rotate(c(this,it),t),r.updateBox(c(this,$t),i),r.updateBox(c(this,it),_(o=be,gs,Ho).call(o,c(this,Nn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,vc)&&(t.setAttribute("aria-label",c(this,vc)),t.setAttribute("role","mark")),c(this,xn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,zg));const r=A(this,Ka,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,Xa);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),_m(this,c(this,Ka),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,it),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,it),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,xc,Gp).call(this,!0);break;case 1:case 3:_(this,xc,Gp).call(this,!1);break}}select(){var t,r;super.select(),c(this,it)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,it),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,it),"selected"))}unselect(){var t;super.unselect(),c(this,it)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,it),"selected"),c(this,xn)||_(this,xc,Gp).call(this,!1))}get _mustFixPosition(){return!c(this,xn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,$t),t),this.parent.drawLayer.show(c(this,it),t))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=b=>{_(this,Gg,QC).call(this,t,b)},f={capture:!0,passive:!1},m=b=>{b.preventDefault(),b.stopPropagation()},g=b=>{i.removeEventListener("pointermove",h),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",m,f),window.removeEventListener("contextmenu",ln),_(this,qg,JC).call(this,t,b)};window.addEventListener("blur",g),window.addEventListener("pointerup",g),window.addEventListener("pointerdown",m,f),window.addEventListener("contextmenu",ln),i.addEventListener("pointermove",h),this._freeHighlight=new Tm({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var b;const s=super.deserialize(t,r,i),{rect:[a,o,l,u],color:d,quadPoints:h}=t;s.color=Z.makeHexColor(...d),A(s,Ya,t.opacity);const[f,m]=s.pageDimensions;s.width=(l-a)/f,s.height=(u-o)/m;const g=A(s,ms,[]);for(let E=0;E<h.length;E+=8)g.push({x:(h[4]-l)/f,y:(u-(1-h[E+5]))/m,width:(h[E+2]-h[E])/f,height:(h[E+5]-h[E+1])/m});return _(b=s,lf,Dy).call(b),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=Se._colorManager.convert(this.color);return{annotationType:ye.HIGHLIGHT,color:i,opacity:c(this,Ya),thickness:c(this,Nr),quadPoints:_(this,Vg,KC).call(this),outlines:_(this,Wg,YC).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:_(this,Ja,_u).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};pc=new WeakMap,rf=new WeakMap,ms=new WeakMap,Xa=new WeakMap,mc=new WeakMap,Nn=new WeakMap,sf=new WeakMap,af=new WeakMap,Ka=new WeakMap,rr=new WeakMap,$t=new WeakMap,xn=new WeakMap,zg=new WeakMap,gc=new WeakMap,Ya=new WeakMap,it=new WeakMap,vc=new WeakMap,Nr=new WeakMap,of=new WeakMap,lf=new WeakSet,Dy=function(){const t=new Ty(c(this,ms),.001);A(this,rr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,rr).box;const r=new Ty(c(this,ms),.0025,.001,this._uiManager.direction==="ltr");A(this,Nn,r.getOutlines());const{lastPoint:i}=c(this,Nn).box;A(this,gc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},cf=new WeakSet,Iy=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;if(A(this,rr,t),A(this,Nn,t.getNewOutline(c(this,Nr)/2+1.5,.0025)),r>=0)A(this,$t,r),A(this,Xa,i),this.parent.drawLayer.finalizeLine(r,t),A(this,it,this.parent.drawLayer.highlightOutline(c(this,Nn)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,$t),t),this.parent.drawLayer.updateBox(c(this,$t),_(h=be,gs,Ho).call(h,c(this,rr).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,it),c(this,Nn)),this.parent.drawLayer.updateBox(c(this,it),_(f=be,gs,Ho).call(f,c(this,Nn).box,m))}const{x:a,y:o,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[m,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*g/m,this.height=u*m/g;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*g/m,this.height=u*m/g;break}}const{lastPoint:d}=c(this,Nn).box;A(this,gc,[(d[0]-a)/l,(d[1]-o)/u])},Bg=new WeakSet,WC=function(t){const r=s=>{var a,o;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(c(this,$t),s),(o=c(this,mc))==null||o.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},Ug=new WeakSet,GC=function(t){const r=c(this,Nr),i=s=>{A(this,Nr,s),_(this,Hg,qC).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Hg=new WeakSet,qC=function(t){if(!c(this,xn))return;_(this,cf,Iy).call(this,{highlightOutlines:c(this,rr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},uf=new WeakSet,Fy=function(){c(this,$t)===null||!this.parent||(this.parent.drawLayer.remove(c(this,$t)),A(this,$t,null),this.parent.drawLayer.remove(c(this,it)),A(this,it,null))},Qa=new WeakSet,Au=function(t=this.parent){c(this,$t)===null&&({id:dn(this,$t)._,clipPathId:dn(this,Xa)._}=t.drawLayer.highlight(c(this,rr),this.color,c(this,Ya)),A(this,it,t.drawLayer.highlightOutline(c(this,Nn))),c(this,Ka)&&(c(this,Ka).style.clipPath=c(this,Xa)))},gs=new WeakSet,Ho=function({x:t,y:r,width:i,height:s},a){switch(a){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},$g=new WeakSet,XC=function(t){be._keyboardManager.exec(this,t)},xc=new WeakSet,Gp=function(t){if(!c(this,pc))return;const r=window.getSelection();t?r.setPosition(c(this,pc),c(this,rf)):r.setPosition(c(this,sf),c(this,af))},Ja=new WeakSet,_u=function(){return c(this,xn)?this.rotation:0},Vg=new WeakSet,KC=function(){if(c(this,xn))return null;const[t,r]=this.pageDimensions,i=c(this,ms),s=new Array(i.length*8);let a=0;for(const{x:o,y:l,width:u,height:d}of i){const h=o*t,f=(1-l-d)*r;s[a]=s[a+4]=h,s[a+1]=s[a+3]=f,s[a+2]=s[a+6]=h+u*t,s[a+5]=s[a+7]=f+d*r,a+=8}return s},Wg=new WeakSet,YC=function(t){return c(this,rr).serialize(t,_(this,Ja,_u).call(this))},Gg=new WeakSet,QC=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},qg=new WeakSet,JC=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},x(be,gs),x(be,Gg),x(be,qg),ie(be,"_defaultColor",null),ie(be,"_defaultOpacity",1),ie(be,"_defaultThickness",12),ie(be,"_l10nPromise"),ie(be,"_type","highlight"),ie(be,"_editorType",ye.HIGHLIGHT),ie(be,"_freeHighlightId",-1),ie(be,"_freeHighlight",null),ie(be,"_freeHighlightClipId","");let Rm=be;var Za,eo,df,hf,ff,to,Mr,bi,Mn,no,ro,io,so,ao,vs,Xg,ZC,Kg,ek,Yg,tk,Qg,nk,pf,Oy,Jg,rk,mf,zy,Zg,ik,e0,sk,t0,ak,n0,ok,r0,lk,wi,Js,gf,By,yc,qp,bc,Xp,xs,$o,vf,Uy,wc,Kp,i0,ck,xf,Hy,s0,uk,a0,dk,yf,$y,Ec,Yp,oo,Su;const De=class De extends Se{constructor(t){super({...t,name:"inkEditor"});x(this,Xg);x(this,Kg);x(this,Yg);x(this,Qg);x(this,pf);x(this,Jg);x(this,mf);x(this,Zg);x(this,e0);x(this,t0);x(this,n0);x(this,r0);x(this,wi);x(this,gf);x(this,yc);x(this,bc);x(this,xs);x(this,vf);x(this,wc);x(this,a0);x(this,yf);x(this,Ec);x(this,oo);x(this,Za,0);x(this,eo,0);x(this,df,this.canvasPointermove.bind(this));x(this,hf,this.canvasPointerleave.bind(this));x(this,ff,this.canvasPointerup.bind(this));x(this,to,this.canvasPointerdown.bind(this));x(this,Mr,null);x(this,bi,new Path2D);x(this,Mn,!1);x(this,no,!1);x(this,ro,!1);x(this,io,null);x(this,so,0);x(this,ao,0);x(this,vs,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Se.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case oe.INK_THICKNESS:De._defaultThickness=r;break;case oe.INK_COLOR:De._defaultColor=r;break;case oe.INK_OPACITY:De._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case oe.INK_THICKNESS:_(this,Xg,ZC).call(this,r);break;case oe.INK_COLOR:_(this,Kg,ek).call(this,r);break;case oe.INK_OPACITY:_(this,Yg,tk).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[oe.INK_THICKNESS,De._defaultThickness],[oe.INK_COLOR,De._defaultColor||Se._defaultLineColor],[oe.INK_OPACITY,Math.round(De._defaultOpacity*100)]]}get propertiesToUpdate(){return[[oe.INK_THICKNESS,this.thickness||De._defaultThickness],[oe.INK_COLOR,this.color||De._defaultColor||Se._defaultLineColor],[oe.INK_OPACITY,Math.round(100*(this.opacity??De._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,yc,qp).call(this),_(this,bc,Xp).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,xs,$o).call(this)),_(this,oo,Su).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Mr)&&(clearTimeout(c(this,Mr)),A(this,Mr,null)),c(this,io).disconnect(),A(this,io,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){c(this,Mn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,to)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,to)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Mn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),A(this,Mn,!0),this.div.classList.add("disabled"),_(this,oo,Su).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Mn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,Jg,rk).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,mf,zy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,gf,By).call(this,t)}canvasPointerleave(t){_(this,gf,By).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Mn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,o]=_(this,Qg,nk).call(this);if(this.setAt(i,s,0,0),this.setDims(a,o),_(this,yc,qp).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),A(this,ro,!0),_(this,xs,$o).call(this),this.setDims(this.width*l,this.height*u),_(this,wi,Js).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,bc,Xp).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(c(this,so)===i&&c(this,ao)===s)return;A(this,so,i),A(this,ao,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=r/o,this.fixAndSetPosition(),c(this,Mn)&&_(this,vf,Uy).call(this,t,r),_(this,xs,$o).call(this),_(this,wi,Js).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var E,v,y;if(t instanceof RC)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=Z.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,l=s.width*a,u=s.height*o,d=s.parentScale,h=t.thickness/2;A(s,Mn,!0),A(s,so,Math.round(l)),A(s,ao,Math.round(u));const{paths:f,rect:m,rotation:g}=t;for(let{bezier:w}of f){w=_(E=De,s0,uk).call(E,w,m,g);const C=[];s.paths.push(C);let R=d*(w[0]-h),M=d*(w[1]-h);for(let z=2,V=w.length;z<V;z+=6){const U=d*(w[z]-h),T=d*(w[z+1]-h),D=d*(w[z+2]-h),L=d*(w[z+3]-h),k=d*(w[z+4]-h),P=d*(w[z+5]-h);C.push([[R,M],[U,T],[D,L],[k,P]]),R=k,M=P}const S=_(this,i0,ck).call(this,C);s.bezierPath2D.push(S)}const b=_(v=s,yf,$y).call(v);return A(s,eo,Math.max(Se.MIN_SIZE,b[2]-b[0])),A(s,Za,Math.max(Se.MIN_SIZE,b[3]-b[1])),_(y=s,vf,Uy).call(y,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Se._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ye.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:_(this,a0,dk).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Za=new WeakMap,eo=new WeakMap,df=new WeakMap,hf=new WeakMap,ff=new WeakMap,to=new WeakMap,Mr=new WeakMap,bi=new WeakMap,Mn=new WeakMap,no=new WeakMap,ro=new WeakMap,io=new WeakMap,so=new WeakMap,ao=new WeakMap,vs=new WeakMap,Xg=new WeakSet,ZC=function(t){const r=s=>{this.thickness=s,_(this,oo,Su).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Kg=new WeakSet,ek=function(t){const r=s=>{this.color=s,_(this,wi,Js).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Yg=new WeakSet,tk=function(t){const r=s=>{this.opacity=s,_(this,wi,Js).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Qg=new WeakSet,nk=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},pf=new WeakSet,Oy=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${cN(i)}`},Jg=new WeakSet,rk=function(t,r){this.canvas.addEventListener("contextmenu",ln),this.canvas.addEventListener("pointerleave",c(this,hf)),this.canvas.addEventListener("pointermove",c(this,df)),this.canvas.addEventListener("pointerup",c(this,ff)),this.canvas.removeEventListener("pointerdown",c(this,to)),this.isEditing=!0,c(this,ro)||(A(this,ro,!0),_(this,xs,$o).call(this),this.thickness||(this.thickness=De._defaultThickness),this.color||(this.color=De._defaultColor||Se._defaultLineColor),this.opacity??(this.opacity=De._defaultOpacity)),this.currentPath.push([t,r]),A(this,no,!1),_(this,pf,Oy).call(this),A(this,vs,()=>{_(this,t0,ak).call(this),c(this,vs)&&window.requestAnimationFrame(c(this,vs))}),window.requestAnimationFrame(c(this,vs))},mf=new WeakSet,zy=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const a=this.currentPath;let o=c(this,bi);if(a.push([t,r]),A(this,no,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,r);return}a.length===3&&(A(this,bi,o=new Path2D),o.moveTo(...a[0])),_(this,n0,ok).call(this,o,...a.at(-3),...a.at(-2),t,r)},Zg=new WeakSet,ik=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,bi).lineTo(...t)},e0=new WeakSet,sk=function(t,r){A(this,vs,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),_(this,mf,zy).call(this,t,r),_(this,Zg,ik).call(this);let i;if(this.currentPath.length!==1)i=_(this,r0,lk).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=c(this,bi),a=this.currentPath;this.currentPath=[],A(this,bi,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,yc,qp).call(this),_(this,bc,Xp).call(this)),_(this,oo,Su).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},t0=new WeakSet,ak=function(){if(!c(this,no))return;A(this,no,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(o=>o[0]),s=r.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(c(this,bi)),a.restore()},n0=new WeakSet,ok=function(t,r,i,s,a,o,l){const u=(r+s)/2,d=(i+a)/2,h=(s+o)/2,f=(a+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(a-d)/3,h+2*(s-h)/3,f+2*(a-f)/3,h,f)},r0=new WeakSet,lk=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,a]=t[0];for(i=1;i<t.length-2;i++){const[m,g]=t[i],[b,E]=t[i+1],v=(m+b)/2,y=(g+E)/2,w=[s+2*(m-s)/3,a+2*(g-a)/3],C=[v+2*(m-v)/3,y+2*(g-y)/3];r.push([[s,a],w,C,[v,y]]),[s,a]=[v,y]}const[o,l]=t[i],[u,d]=t[i+1],h=[s+2*(o-s)/3,a+2*(l-a)/3],f=[u+2*(o-u)/3,d+2*(l-d)/3];return r.push([[s,a],h,f,[u,d]]),r},wi=new WeakSet,Js=function(){if(this.isEmpty()){_(this,wc,Kp).call(this);return}_(this,pf,Oy).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),_(this,wc,Kp).call(this);for(const i of this.bezierPath2D)r.stroke(i)},gf=new WeakSet,By=function(t){this.canvas.removeEventListener("pointerleave",c(this,hf)),this.canvas.removeEventListener("pointermove",c(this,df)),this.canvas.removeEventListener("pointerup",c(this,ff)),this.canvas.addEventListener("pointerdown",c(this,to)),c(this,Mr)&&clearTimeout(c(this,Mr)),A(this,Mr,setTimeout(()=>{A(this,Mr,null),this.canvas.removeEventListener("contextmenu",ln)},10)),_(this,e0,sk).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yc=new WeakSet,qp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},bc=new WeakSet,Xp=function(){A(this,io,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,io).observe(this.div)},xs=new WeakSet,$o=function(){if(!c(this,ro))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),_(this,wc,Kp).call(this)},vf=new WeakSet,Uy=function(t,r){const i=_(this,Ec,Yp).call(this),s=(t-i)/c(this,eo),a=(r-i)/c(this,Za);this.scaleFactor=Math.min(s,a)},wc=new WeakSet,Kp=function(){const t=_(this,Ec,Yp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},i0=new WeakSet,ck=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[a,o,l,u]=t[i];i===0&&r.moveTo(...a),r.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return r},xf=new WeakSet,Hy=function(t,r,i){const[s,a,o,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+a}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=o-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},s0=new WeakSet,uk=function(t,r,i){const[s,a,o,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-a,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=o-h}break;default:throw new Error("Invalid rotation")}return t},a0=new WeakSet,dk=function(t,r,i,s){var d,h;const a=[],o=this.thickness/2,l=t*r+o,u=t*i+o;for(const f of this.paths){const m=[],g=[];for(let b=0,E=f.length;b<E;b++){const[v,y,w,C]=f[b];if(v[0]===C[0]&&v[1]===C[1]&&E===1){const L=t*v[0]+l,k=t*v[1]+u;m.push(L,k),g.push(L,k);break}const R=t*v[0]+l,M=t*v[1]+u,S=t*y[0]+l,z=t*y[1]+u,V=t*w[0]+l,U=t*w[1]+u,T=t*C[0]+l,D=t*C[1]+u;b===0&&(m.push(R,M),g.push(R,M)),m.push(S,z,V,U,T,D),g.push(S,z),b===E-1&&g.push(T,D)}a.push({bezier:_(d=De,xf,Hy).call(d,m,s,this.rotation),points:_(h=De,xf,Hy).call(h,g,s,this.rotation)})}return a},yf=new WeakSet,$y=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,u,d]of a){const h=Z.bezierBoundingBox(...o,...l,...u,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Ec=new WeakSet,Yp=function(){return c(this,Mn)?Math.ceil(this.thickness*this.parentScale):0},oo=new WeakSet,Su=function(t=!1){if(this.isEmpty())return;if(!c(this,Mn)){_(this,wi,Js).call(this);return}const r=_(this,yf,$y).call(this),i=_(this,Ec,Yp).call(this);A(this,eo,Math.max(Se.MIN_SIZE,r[2]-r[0])),A(this,Za,Math.max(Se.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+c(this,eo)*this.scaleFactor),a=Math.ceil(i+c(this,Za)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],_(this,xs,$o).call(this),_(this,wi,Js).call(this),A(this,so,s),A(this,ao,a),this.setDims(s,a);const h=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},x(De,i0),x(De,xf),x(De,s0),ie(De,"_defaultColor",null),ie(De,"_defaultOpacity",1),ie(De,"_defaultThickness",1),ie(De,"_type","ink"),ie(De,"_editorType",ye.INK);let jy=De;var Ct,kt,ys,Ei,bs,Ac,Dr,lo,Ir,ir,bf,co,Cu,uo,ku,_c,Qp,wf,Wy,o0,hk,l0,fk,Ef,Gy,Sc,Jp,c0,pk;const Bu=class Bu extends Se{constructor(t){super({...t,name:"stampEditor"});x(this,co);x(this,uo);x(this,_c);x(this,wf);x(this,o0);x(this,l0);x(this,Ef);x(this,Sc);x(this,c0);x(this,Ct,null);x(this,kt,null);x(this,ys,null);x(this,Ei,null);x(this,bs,null);x(this,Ac,"");x(this,Dr,null);x(this,lo,null);x(this,Ir,null);x(this,ir,!1);x(this,bf,!1);A(this,Ei,t.bitmapUrl),A(this,bs,t.bitmapFile)}static initialize(t,r){Se.initialize(t,r)}static get supportedTypes(){return we(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return we(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(ye.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;c(this,kt)&&(A(this,Ct,null),this._uiManager.imageManager.deleteId(c(this,kt)),(t=c(this,Dr))==null||t.remove(),A(this,Dr,null),(r=c(this,lo))==null||r.disconnect(),A(this,lo,null),c(this,Ir)&&(clearTimeout(c(this,Ir)),A(this,Ir,null))),super.remove()}rebuild(){if(!this.parent){c(this,kt)&&_(this,_c,Qp).call(this);return}super.rebuild(),this.div!==null&&(c(this,kt)&&c(this,Dr)===null&&_(this,_c,Qp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,ys)||c(this,Ct)||c(this,Ei)||c(this,bs)||c(this,kt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Ct)?_(this,wf,Wy).call(this):_(this,_c,Qp).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return c(this,Dr)}static deserialize(t,r,i){if(t instanceof LC)return null;const s=super.deserialize(t,r,i),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?A(s,kt,l):A(s,Ei,o),A(s,ir,u);const[h,f]=s.pageDimensions;return s.width=(a[2]-a[0])/h,s.height=(a[3]-a[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:ye.STAMP,bitmapId:c(this,kt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,ir),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=_(this,Sc,Jp).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),r===null)return i;r.stamps||(r.stamps=new Map);const o=c(this,ir)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,kt)))r.stamps.set(c(this,kt),{area:o,serialized:i}),i.bitmap=_(this,Sc,Jp).call(this,!1);else if(c(this,ir)){const l=r.stamps.get(c(this,kt));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=_(this,Sc,Jp).call(this,!1))}return i}};Ct=new WeakMap,kt=new WeakMap,ys=new WeakMap,Ei=new WeakMap,bs=new WeakMap,Ac=new WeakMap,Dr=new WeakMap,lo=new WeakMap,Ir=new WeakMap,ir=new WeakMap,bf=new WeakMap,co=new WeakSet,Cu=function(t,r=!1){if(!t){this.remove();return}A(this,Ct,t.bitmap),r||(A(this,kt,t.id),A(this,ir,t.isSvg)),t.file&&A(this,Ac,t.file.name),_(this,wf,Wy).call(this)},uo=new WeakSet,ku=function(){A(this,ys,null),this._uiManager.enableWaiting(!1),c(this,Dr)&&this.div.focus()},_c=new WeakSet,Qp=function(){if(c(this,kt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,kt)).then(r=>_(this,co,Cu).call(this,r,!0)).finally(()=>_(this,uo,ku).call(this));return}if(c(this,Ei)){const r=c(this,Ei);A(this,Ei,null),this._uiManager.enableWaiting(!0),A(this,ys,this._uiManager.imageManager.getFromUrl(r).then(i=>_(this,co,Cu).call(this,i)).finally(()=>_(this,uo,ku).call(this)));return}if(c(this,bs)){const r=c(this,bs);A(this,bs,null),this._uiManager.enableWaiting(!0),A(this,ys,this._uiManager.imageManager.getFromFile(r).then(i=>_(this,co,Cu).call(this,i)).finally(()=>_(this,uo,ku).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Bu.supportedTypesStr,A(this,ys,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);_(this,co,Cu).call(this,i)}r()}),t.addEventListener("cancel",()=>{this.remove(),r()})}).finally(()=>_(this,uo,ku).call(this))),t.click()},wf=new WeakSet,Wy=function(){const{div:t}=this;let{width:r,height:i}=c(this,Ct);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const h=Math.min(o*s/r,o*a/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/a),this._uiManager.enableWaiting(!1);const d=A(this,Dr,document.createElement("canvas"));t.append(d),t.hidden=!1,_(this,Ef,Gy).call(this,r,i),_(this,c0,pk).call(this),c(this,bf)||(this.parent.addUndoableEditor(this),A(this,bf,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Ac)&&d.setAttribute("aria-label",c(this,Ac))},o0=new WeakSet,hk=function(t,r){var o;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ir)!==null&&clearTimeout(c(this,Ir)),A(this,Ir,setTimeout(()=>{A(this,Ir,null),_(this,Ef,Gy).call(this,t,r)},200))},l0=new WeakSet,fk=function(t,r){const{width:i,height:s}=c(this,Ct);let a=i,o=s,l=c(this,Ct);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},Ef=new WeakSet,Gy=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=c(this,Dr);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=c(this,ir)?c(this,Ct):_(this,l0,fk).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Sc=new WeakSet,Jp=function(t){if(t){if(c(this,ir)){const s=this._uiManager.imageManager.getSvgUrl(c(this,kt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,Ct),r.getContext("2d").drawImage(c(this,Ct),0,0),r.toDataURL()}if(c(this,ir)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Fs.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Fs.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(c(this,Ct),0,0,c(this,Ct).width,c(this,Ct).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(c(this,Ct))},c0=new WeakSet,pk=function(){A(this,lo,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&_(this,o0,hk).call(this,r.width,r.height)})),c(this,lo).observe(this.div)},ie(Bu,"_type","stamp"),ie(Bu,"_editorType",ye.STAMP);let Vy=Bu;var ho,Cc,Fr,fo,Ai,_i,Si,yn,ws,kc,Tc,Vt,te,Es,u0,mk,Af,Xy,_f,Ky,Sf,Yy,Pc,Zp;const Wn=class Wn{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:u}){x(this,u0);x(this,Af);x(this,_f);x(this,Sf);x(this,Pc);x(this,ho,void 0);x(this,Cc,!1);x(this,Fr,null);x(this,fo,null);x(this,Ai,null);x(this,_i,null);x(this,Si,null);x(this,yn,new Map);x(this,ws,!1);x(this,kc,!1);x(this,Tc,!1);x(this,Vt,null);x(this,te,void 0);const d=[...c(Wn,Es).values()];if(!Wn._initialized){Wn._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),A(this,te,e),this.pageIndex=t,this.div=r,A(this,ho,i),A(this,Fr,s),this.viewport=l,A(this,Vt,o),this.drawLayer=a,c(this,te).addLayer(this)}get isEmpty(){return c(this,yn).size===0}get isInvisible(){return this.isEmpty&&c(this,te).getMode()===ye.NONE}updateToolbar(e){c(this,te).updateToolbar(e)}updateMode(e=c(this,te).getMode()){switch(_(this,Pc,Zp).call(this),e){case ye.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ye.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ye.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(Wn,Es).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Vt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,te).getMode()!==ye.INK)return;if(!e){for(const r of c(this,yn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,te).setEditingState(e)}addCommands(e){c(this,te).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Fr))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,yn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,te).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,Fr))return;const t=c(this,Fr).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,te).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;A(this,Tc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,yn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(c(this,Fr)){const s=c(this,Fr).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(c(this,te).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(c(this,te).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}_(this,Pc,Zp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(Wn,Es).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,Tc,!1)}getEditableAnnotation(e){var t;return((t=c(this,Fr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,te).getActive()!==e&&c(this,te).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,Vt))!=null&&e.div&&!c(this,_i)&&(A(this,_i,_(this,u0,mk).bind(this)),c(this,Vt).div.addEventListener("pointerdown",c(this,_i)),c(this,Vt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Vt))!=null&&e.div&&c(this,_i)&&(c(this,Vt).div.removeEventListener("pointerdown",c(this,_i)),A(this,_i,null),c(this,Vt).div.classList.remove("highlighting"))}enableClick(){c(this,Ai)||(A(this,Ai,this.pointerdown.bind(this)),A(this,fo,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,Ai)),this.div.addEventListener("pointerup",c(this,fo)))}disableClick(){c(this,Ai)&&(this.div.removeEventListener("pointerdown",c(this,Ai)),this.div.removeEventListener("pointerup",c(this,fo)),A(this,Ai,null),A(this,fo,null))}attach(e){c(this,yn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,te).isDeletedAnnotationElement(t)&&c(this,te).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,yn).delete(e.id),(t=c(this,ho))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Tc)&&e.annotationElementId&&c(this,te).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,te).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,kc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,te).addDeletedAnnotationElement(e.annotationElementId),Se.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,te).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,te).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Si)&&(e._focusEventsAllowed=!1,A(this,Si,setTimeout(()=>{A(this,Si,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(r=c(this,ho))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,te).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,Af,Xy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,te).updateToolbar(e),c(this,te).updateMode(e);const{offsetX:r,offsetY:i}=_(this,Sf,Yy).call(this),s=this.getNextId(),a=_(this,_f,Ky).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,te),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=c(Wn,Es).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,te)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=_(this,_f,Ky).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,te),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(_(this,Sf,Yy).call(this),!0)}setSelected(e){c(this,te).setSelected(e)}toggleSelected(e){c(this,te).toggleSelected(e)}isSelected(e){return c(this,te).isSelected(e)}unselect(e){c(this,te).unselect(e)}pointerup(e){const{isMac:t}=rn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,ws)){if(A(this,ws,!1),!c(this,Cc)){A(this,Cc,!0);return}if(c(this,te).getMode()===ye.STAMP){c(this,te).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,te).getMode()===ye.HIGHLIGHT&&this.enableTextSelection(),c(this,ws)){A(this,ws,!1);return}const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;A(this,ws,!0);const r=c(this,te).getActive();A(this,Cc,!r||r.isEmpty())}findNewParent(e,t,r){const i=c(this,te).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=c(this,te).getActive())==null?void 0:e.parent)===this&&(c(this,te).commitOrRemove(),c(this,te).setActiveEditor(null)),c(this,Si)&&(clearTimeout(c(this,Si)),A(this,Si,null));for(const r of c(this,yn).values())(t=c(this,ho))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,yn).clear(),c(this,te).removeLayer(this)}render({viewport:e}){this.viewport=e,Eo(this.div,e);for(const t of c(this,te).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,te).commitOrRemove(),_(this,Pc,Zp).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Eo(this.div,{rotation:r}),t!==r)for(const i of c(this,yn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,te).viewParameters.realScale}};ho=new WeakMap,Cc=new WeakMap,Fr=new WeakMap,fo=new WeakMap,Ai=new WeakMap,_i=new WeakMap,Si=new WeakMap,yn=new WeakMap,ws=new WeakMap,kc=new WeakMap,Tc=new WeakMap,Vt=new WeakMap,te=new WeakMap,Es=new WeakMap,u0=new WeakSet,mk=function(e){if(c(this,te).unselectAll(),e.target===c(this,Vt).div){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,te).showAllEditors("highlight",!0,!0),c(this,Vt).div.classList.add("free"),Rm.startHighlighting(this,c(this,te).direction==="ltr",e),c(this,Vt).div.addEventListener("pointerup",()=>{c(this,Vt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},Af=new WeakSet,Xy=function(){return c(Wn,Es).get(c(this,te).getMode())},_f=new WeakSet,Ky=function(e){const t=c(this,Af,Xy);return t?new t.prototype.constructor(e):null},Sf=new WeakSet,Yy=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Pc=new WeakSet,Zp=function(){A(this,kc,!0);for(const e of c(this,yn).values())e.isEmpty()&&e.remove();A(this,kc,!1)},ie(Wn,"_initialized",!1),x(Wn,Es,new Map([Cy,jy,Vy,Rm].map(e=>[e._editorType,e])));let qy=Wn;var jr,Cf,st,As,kf,Jy,Tf,Zy,d0,gk;const bt=class bt{constructor({pageIndex:e}){x(this,Tf);x(this,d0);x(this,jr,null);x(this,Cf,0);x(this,st,new Map);x(this,As,new Map);this.pageIndex=e}setParent(e){if(!c(this,jr)){A(this,jr,e);return}if(c(this,jr)!==e){if(c(this,st).size>0)for(const t of c(this,st).values())t.remove(),e.append(t);A(this,jr,e)}}static get _svgFactory(){return we(this,"_svgFactory",new u1)}highlight(e,t,r,i=!1){const s=dn(this,Cf)._++,a=_(this,Tf,Zy).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=bt._svgFactory.createElement("defs");a.append(o);const l=bt._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&c(this,As).set(s,l);const d=_(this,d0,gk).call(this,o,u),h=bt._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,st).set(s,a),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=dn(this,Cf)._++,r=_(this,Tf,Zy).call(this,e.box);r.classList.add("highlightOutline");const i=bt._svgFactory.createElement("defs");r.append(i);const s=bt._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){r.classList.add("free");const d=bt._svgFactory.createElement("mask");i.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const h=bt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=bt._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=bt._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,st).set(t,r),t}finalizeLine(e,t){const r=c(this,As).get(e);c(this,As).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,st).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,As).delete(e)}updatePath(e,t){c(this,As).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;_(r=bt,kf,Jy).call(r,c(this,st).get(e),t)}show(e,t){c(this,st).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,st).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,st).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,st).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,st).get(e).classList.add(t)}removeClass(e,t){c(this,st).get(e).classList.remove(t)}remove(e){c(this,jr)!==null&&(c(this,st).get(e).remove(),c(this,st).delete(e))}destroy(){A(this,jr,null);for(const e of c(this,st).values())e.remove();c(this,st).clear()}};jr=new WeakMap,Cf=new WeakMap,st=new WeakMap,As=new WeakMap,kf=new WeakSet,Jy=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Tf=new WeakSet,Zy=function(e){var r;const t=bt._svgFactory.create(1,1,!0);return c(this,jr).append(t),t.setAttribute("aria-hidden",!0),_(r=bt,kf,Jy).call(r,t,e),t},d0=new WeakSet,gk=function(e,t){const r=bt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=bt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},x(bt,kf);let Qy=bt;var BM=se.AbortException,UM=se.AnnotationEditorLayer,HM=se.AnnotationEditorParamsType,$M=se.AnnotationEditorType,VM=se.AnnotationEditorUIManager,vk=se.AnnotationLayer,xk=se.AnnotationMode,WM=se.CMapCompressionType,GM=se.ColorPicker,qM=se.DOMSVGFactory,XM=se.DrawLayer,KM=se.FeatureTest,x1=se.GlobalWorkerOptions,YM=se.ImageKind,QM=se.InvalidPDFException,JM=se.MissingPDFException,ZM=se.OPS,e3=se.Outliner,t3=se.PDFDataRangeTransport,n3=se.PDFDateString,r3=se.PDFWorker,i3=se.PasswordResponses,s3=se.PermissionFlag,a3=se.PixelsPerInch,o3=se.RenderingCancelledException,yk=se.TextLayer,l3=se.UnexpectedResponseException,c3=se.Util,u3=se.VerbosityLevel,d3=se.XfaLayer,h3=se.build,f3=se.createValidAbsoluteUrl,p3=se.fetchData,bk=se.getDocument,m3=se.getFilenameFromUrl,g3=se.getPdfFilenameFromUrl,v3=se.getXfaPageViewport,x3=se.isDataScheme,y3=se.isPdfFile,b3=se.noContextMenu,w3=se.normalizeUnicode,E3=se.renderTextLayer,A3=se.setLayerDimensions,_3=se.shadow,S3=se.updateTextLayer,C3=se.version;const k3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:BM,AnnotationEditorLayer:UM,AnnotationEditorParamsType:HM,AnnotationEditorType:$M,AnnotationEditorUIManager:VM,AnnotationLayer:vk,AnnotationMode:xk,CMapCompressionType:WM,ColorPicker:GM,DOMSVGFactory:qM,DrawLayer:XM,FeatureTest:KM,GlobalWorkerOptions:x1,ImageKind:YM,InvalidPDFException:QM,MissingPDFException:JM,OPS:ZM,Outliner:e3,PDFDataRangeTransport:t3,PDFDateString:n3,PDFWorker:r3,PasswordResponses:i3,PermissionFlag:s3,PixelsPerInch:a3,RenderingCancelledException:o3,TextLayer:yk,UnexpectedResponseException:l3,Util:c3,VerbosityLevel:u3,XfaLayer:d3,build:h3,createValidAbsoluteUrl:f3,fetchData:p3,getDocument:bk,getFilenameFromUrl:m3,getPdfFilenameFromUrl:g3,getXfaPageViewport:v3,isDataScheme:x3,isPdfFile:y3,noContextMenu:b3,normalizeUnicode:w3,renderTextLayer:E3,setLayerDimensions:A3,shadow:_3,updateTextLayer:S3,version:C3},Symbol.toStringTag,{value:"Module"}));var ut=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},T3=["onCopy","onCut","onPaste"],P3=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],R3=["onFocus","onBlur"],L3=["onInput","onInvalid","onReset","onSubmit"],N3=["onLoad","onError"],M3=["onKeyDown","onKeyPress","onKeyUp"],D3=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],I3=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],F3=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],j3=["onSelect"],O3=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],z3=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],B3=["onScroll"],U3=["onWheel"],H3=["onAnimationStart","onAnimationEnd","onAnimationIteration"],$3=["onTransitionEnd"],V3=["onToggle"],W3=["onChange"],G3=ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut(ut([],T3,!0),P3,!0),R3,!0),L3,!0),N3,!0),M3,!0),D3,!0),I3,!0),F3,!0),j3,!0),O3,!0),z3,!0),B3,!0),U3,!0),H3,!0),$3,!0),W3,!0),V3,!0);function wk(n,e){var t={};return G3.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Uf(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function Ek(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Ek(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function W0(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Ek(n))&&(r&&(r+=" "),r+=e);return r}var q3="Invariant failed";function Le(n,e){if(!n)throw new Error(q3)}var X3=function(){},K3=X3;const jt=nb(K3);var CE=Object.prototype.hasOwnProperty;function kE(n,e,t){for(t of n.keys())if(hl(t,e))return t}function hl(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&hl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=kE(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=kE(e,i),!i)||!hl(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(CE.call(n,t)&&++r&&!CE.call(e,t)||!(t in e)||!hl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const Ak=N.createContext(null);function fl({children:n,type:e}){return p.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const Y3="noopener noreferrer nofollow";class Q3{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Le(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Le(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Le(this.pdfDocument),Le(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Le(Array.isArray(t));const r=t[0];new Promise(i=>{Le(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Le(!1)}):typeof r=="number"?i(r):Le(!1)}).then(i=>{const s=i+1;Le(this.pdfViewer),Le(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Le(this.pdfViewer),Le(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||Y3,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const TE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},G0=typeof document<"u",_k=G0&&window.location.protocol==="file:";function J3(n){return typeof n<"u"}function qs(n){return J3(n)&&n!==null}function Z3(n){return typeof n=="string"}function eD(n){return n instanceof ArrayBuffer}function tD(n){return Le(G0),n instanceof Blob}function eb(n){return Z3(n)&&/^data:/.test(n)}function PE(n){Le(eb(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function nD(){return G0&&window.devicePixelRatio||1}const Sk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function RE(){jt(!_k,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Sk}`)}function rD(){jt(!_k,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Sk}`)}function So(n){n&&n.cancel&&n.cancel()}function tb(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function iD(n){return n.name==="RenderingCancelledException"}function sD(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function aD(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Bc(){return N.useReducer(aD,{value:void 0,error:void 0})}var oD=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},LE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:lD}=k3,cD=(n,e)=>{switch(e){case TE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case TE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function NE(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const uD=N.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF…",noData:f="No PDF file specified.",onItemClick:m,onLoadError:g,onLoadProgress:b,onLoadSuccess:E,onPassword:v=cD,onSourceError:y,onSourceSuccess:w,options:C,renderMode:R,rotate:M}=e,S=LE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[z,V]=Bc(),{value:U,error:T}=z,[D,L]=Bc(),{value:k,error:P}=D,j=N.useRef(new Q3),O=N.useRef([]),F=N.useRef(void 0),$=N.useRef(void 0);l&&l!==F.current&&NE(l)&&(jt(!hl(l,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=l),C&&C!==$.current&&(jt(!hl(C,$.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),$.current=C);const G=N.useRef({scrollPageIntoView:ve=>{const{dest:gt,pageNumber:un,pageIndex:fr=un-1}=ve;if(m){m({dest:gt,pageIndex:fr,pageNumber:un});return}const Lo=O.current[fr];if(Lo){Lo.scrollIntoView();return}jt(!1,`An internal link leading to page ${un} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(t,()=>({linkService:j,pages:O,viewer:G}),[]);function K(){w&&w()}function X(){T&&(jt(!1,T.toString()),y&&y(T))}function re(){V({type:"RESET"})}N.useEffect(re,[l,V]);const me=N.useCallback(()=>oD(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return eb(l)?{data:PE(l)}:(RE(),{url:l});if(l instanceof lD)return{range:l};if(eD(l))return{data:l};if(G0&&tD(l))return{data:yield sD(l)};if(Le(typeof l=="object"),Le(NE(l)),"url"in l&&typeof l.url=="string"){if(eb(l.url)){const{url:ve}=l,gt=LE(l,["url"]),un=PE(ve);return Object.assign({data:un},gt)}RE()}return l}),[l]);N.useEffect(()=>{const ve=Uf(me());return ve.promise.then(gt=>{V({type:"RESOLVE",value:gt})}).catch(gt=>{V({type:"REJECT",error:gt})}),()=>{So(ve)}},[me,V]),N.useEffect(()=>{if(!(typeof U>"u")){if(U===!1){X();return}K()}},[U]);function Ae(){k&&(E&&E(k),O.current=new Array(k.numPages),j.current.setDocument(k))}function ne(){P&&(jt(!1,P.toString()),g&&g(P))}function le(){L({type:"RESET"})}N.useEffect(le,[L,U]);function dr(){if(!U)return;const ve=Object.assign(Object.assign({},U),C),gt=bk(ve);b&&(gt.onProgress=b),v&&(gt.onPassword=v);const un=gt;return un.promise.then(fr=>{L({type:"RESOLVE",value:fr})}).catch(fr=>{un.destroyed||L({type:"REJECT",error:fr})}),()=>{un.destroy()}}N.useEffect(dr,[C,L,U]),N.useEffect(()=>{if(!(typeof k>"u")){if(k===!1){ne();return}Ae()}},[k]);function Hr(){j.current.setViewer(G.current),j.current.setExternalLinkRel(a),j.current.setExternalLinkTarget(o)}N.useEffect(Hr,[a,o]);function Fe(ve,gt){O.current[ve]=gt}function Hs(ve){delete O.current[ve]}const Ze=N.useMemo(()=>({imageResourcesPath:d,linkService:j.current,onItemClick:m,pdf:k,registerPage:Fe,renderMode:R,rotate:M,unregisterPage:Hs}),[d,m,k,R,M]),et=N.useMemo(()=>wk(S,()=>k),[S,k]);function cn(){return p.jsx(Ak.Provider,{value:Ze,children:r})}function hr(){return l?k==null?p.jsx(fl,{type:"loading",children:typeof h=="function"?h():h}):k===!1?p.jsx(fl,{type:"error",children:typeof s=="function"?s():s}):cn():p.jsx(fl,{type:"no-data",children:typeof f=="function"?f():f})}return p.jsx("div",Object.assign({className:W0("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},et,{children:hr()}))});function Ck(){return N.useContext(Ak)}function kk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const Tk=N.createContext(null),Pk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},dD=/^H(\d+)$/;function hD(n){return n in Pk}function q0(n){return"children"in n}function Rk(n){return q0(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function fD(n){const e={};if(q0(n)){const{role:t}=n,r=t.match(dD);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(hD(t)){const i=Pk[t];i&&(e.role=i)}}return e}function Lk(n){const e={};if(q0(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),Rk(n)){const[t]=n.children;if(t){const r=Lk(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function pD(n){return n?Object.assign(Object.assign({},fD(n)),Lk(n)):null}function Nk({className:n,node:e}){const t=N.useMemo(()=>pD(e),[e]),r=N.useMemo(()=>!q0(e)||Rk(e)?null:e.children.map((i,s)=>p.jsx(Nk,{node:i},s)),[e]);return p.jsx("span",Object.assign({className:n},t,{children:r}))}function X0(){return N.useContext(Tk)}function mD(){const n=X0();Le(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Bc(),{value:s,error:a}=r,{customTextRenderer:o,page:l}=n;function u(){s&&t&&t(s)}function d(){a&&(jt(!1,a.toString()),e&&e(a))}function h(){i({type:"RESET"})}N.useEffect(h,[i,l]);function f(){if(o||!l)return;const m=Uf(l.getStructTree()),g=m;return m.promise.then(b=>{i({type:"RESOLVE",value:b})}).catch(b=>{i({type:"REJECT",error:b})}),()=>So(g)}return N.useEffect(f,[o,l,i]),N.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?p.jsx(Nk,{className:"react-pdf__Page__structTree structTree",node:s}):null}const ME=xk;function gD(n){const e=X0();Le(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=nD(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:m}=n;Le(l);const g=N.useRef(null);function b(){l&&o&&o(tb(l,f))}function E(R){iD(R)||(jt(!1,R.toString()),a&&a(R))}const v=N.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),y=N.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);function w(){if(!l)return;l.cleanup();const{current:R}=g;if(!R)return;R.width=v.width,R.height=v.height,R.style.width=`${Math.floor(y.width)}px`,R.style.height=`${Math.floor(y.height)}px`,R.style.visibility="hidden";const M={annotationMode:u?ME.ENABLE_FORMS:ME.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:v};i&&(M.background=i);const S=l.render(M),z=S;return S.promise.then(()=>{R.style.visibility="",b()}).catch(E),()=>So(z)}N.useEffect(w,[i,g,s,l,u,v,y]);const C=N.useCallback(()=>{const{current:R}=g;R&&(R.width=0,R.height=0)},[g]);return N.useEffect(()=>C,[C]),p.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:kk(m,g),style:{display:"block",userSelect:"none"},children:d?p.jsx(mD,{}):null})}function vD(n){return"str"in n}function xD(){const n=X0();Le(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:l,rotate:u,scale:d}=n;Le(a);const[h,f]=Bc(),{value:m,error:g}=h,b=N.useRef(null),E=N.useRef(void 0);jt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&r&&r(m)}function y(){g&&(jt(!1,g.toString()),t&&t(g))}function w(){f({type:"RESET"})}N.useEffect(w,[a,f]);function C(){if(!a)return;const T=Uf(a.getTextContent()),D=T;return T.promise.then(L=>{f({type:"RESOLVE",value:L})}).catch(L=>{f({type:"REJECT",error:L})}),()=>So(D)}N.useEffect(C,[a,f]),N.useEffect(()=>{if(m!==void 0){if(m===!1){y();return}v()}},[m]);const R=N.useCallback(()=>{s&&s()},[s]),M=N.useCallback(T=>{jt(!1,T.toString()),i&&i(T)},[i]);function S(){const T=E.current;T&&T.classList.add("active")}function z(){const T=E.current;T&&T.classList.remove("active")}const V=N.useMemo(()=>a.getViewport({scale:d,rotation:u}),[a,u,d]);function U(){if(!a||!m)return;const{current:T}=b;if(!T)return;T.innerHTML="";const D=a.streamTextContent({includeMarkedContent:!0}),L={container:T,textContentSource:D,viewport:V},k=new yk(L),P=k;return k.render().then(()=>{const j=document.createElement("div");j.className="endOfContent",T.append(j),E.current=j;const O=T.querySelectorAll('[role="presentation"]');if(e){let F=0;m.items.forEach(($,G)=>{if(!vD($))return;const K=O[F];if(!K)return;const X=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:G},$));K.innerHTML=X,F+=$.str&&$.hasEOL?2:1})}R()}).catch(M),()=>So(P)}return N.useLayoutEffect(U,[e,M,R,a,o,l,m,V]),p.jsx("div",{className:W0("react-pdf__Page__textContent","textLayer"),onMouseUp:z,onMouseDown:S,ref:b})}function yD(){const n=Ck(),e=X0();Le(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:m=1}=t;Le(d),Le(u),Le(i);const[g,b]=Bc(),{value:E,error:v}=g,y=N.useRef(null);jt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){E&&a&&a(E)}function C(){v&&(jt(!1,v.toString()),s&&s(v))}function R(){b({type:"RESET"})}N.useEffect(R,[b,u]);function M(){if(!u)return;const T=Uf(u.getAnnotations()),D=T;return T.promise.then(L=>{b({type:"RESOLVE",value:L})}).catch(L=>{b({type:"REJECT",error:L})}),()=>{So(D)}}N.useEffect(M,[b,u,h]),N.useEffect(()=>{if(E!==void 0){if(E===!1){C();return}w()}},[E]);function S(){l&&l()}function z(T){jt(!1,`${T}`),o&&o(T)}const V=N.useMemo(()=>u.getViewport({scale:m,rotation:f}),[u,f,m]);function U(){if(!d||!u||!i||!E)return;const{current:T}=y;if(!T)return;const D=V.clone({dontFlip:!0}),L={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:T,l10n:null,page:u,viewport:D},k={annotations:E,annotationStorage:d.annotationStorage,div:T,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:D};T.innerHTML="";try{new vk(L).render(k),S()}catch(P){z(P)}return()=>{}}return N.useEffect(U,[E,r,i,u,h,V]),p.jsx("div",{className:W0("react-pdf__Page__annotations","annotationLayer"),ref:y})}var bD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const DE=1;function wD(n){const e=Ck(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:m,inputRef:g,loading:b="Loading page…",noData:E="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:R,onGetTextSuccess:M,onLoadError:S,onLoadSuccess:z,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:U,onRenderError:T,onRenderSuccess:D,onRenderTextLayerError:L,onRenderTextLayerSuccess:k,pageIndex:P,pageNumber:j,pdf:O,registerPage:F,renderAnnotationLayer:$=!0,renderForms:G=!1,renderMode:K="canvas",renderTextLayer:X=!0,rotate:re,scale:me=DE,unregisterPage:Ae,width:ne}=t,le=bD(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[dr,Hr]=Bc(),{value:Fe,error:Hs}=dr,Ze=N.useRef(null);Le(O);const et=qs(j)?j-1:P??null,cn=j??(qs(P)?P+1:null),hr=re??(Fe?Fe.rotate:null),ve=N.useMemo(()=>{if(!Fe)return null;let Bi=1;const Cn=me??DE;if(ne||m){const $r=Fe.getViewport({scale:1,rotation:hr});ne?Bi=ne/$r.width:m&&(Bi=m/$r.height)}return Cn*Bi},[m,Fe,hr,me,ne]);function gt(){return()=>{qs(et)&&i&&Ae&&Ae(et)}}N.useEffect(gt,[i,O,et,Ae]);function un(){if(z){if(!Fe||!ve)return;z(tb(Fe,ve))}if(i&&F){if(!qs(et)||!Ze.current)return;F(et,Ze.current)}}function fr(){Hs&&(jt(!1,Hs.toString()),S&&S(Hs))}function Lo(){Hr({type:"RESET"})}N.useEffect(Lo,[Hr,O,et]);function K0(){if(!O||!cn)return;const Bi=Uf(O.getPage(cn)),Cn=Bi;return Bi.promise.then($r=>{Hr({type:"RESOLVE",value:$r})}).catch($r=>{Hr({type:"REJECT",error:$r})}),()=>So(Cn)}N.useEffect(K0,[Hr,O,et,cn,F]),N.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){fr();return}un()}},[Fe,ve]);const $s=N.useMemo(()=>Fe&&qs(et)&&cn&&qs(hr)&&qs(ve)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:C,onGetTextError:R,onGetTextSuccess:M,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:U,onRenderError:T,onRenderSuccess:D,onRenderTextLayerError:L,onRenderTextLayerSuccess:k,page:Fe,pageIndex:et,pageNumber:cn,renderForms:G,renderTextLayer:X,rotate:hr,scale:ve}:null,[r,s,d,h,v,y,w,C,R,M,V,U,T,D,L,k,Fe,et,cn,G,X,hr,ve]),Vs=N.useMemo(()=>wk(le,()=>Fe&&(ve?tb(Fe,ve):void 0)),[le,Fe,ve]),Ws=`${et}@${ve}/${hr}`;function Wc(){switch(K){case"custom":return Le(u),p.jsx(u,{},`${Ws}_custom`);case"none":return null;case"canvas":default:return p.jsx(gD,{canvasRef:a},`${Ws}_canvas`)}}function pr(){return X?p.jsx(xD,{},`${Ws}_text`):null}function Gs(){return $?p.jsx(yD,{},`${Ws}_annotations`):null}function Hf(){return p.jsxs(Tk.Provider,{value:$s,children:[Wc(),pr(),Gs(),o]})}function No(){return cn?O===null||Fe===void 0||Fe===null?p.jsx(fl,{type:"loading",children:typeof b=="function"?b():b}):O===!1||Fe===!1?p.jsx(fl,{type:"error",children:typeof f=="function"?f():f}):Hf():p.jsx(fl,{type:"no-data",children:typeof E=="function"?E():E})}return p.jsx("div",Object.assign({className:W0(r,l),"data-page-number":cn,ref:kk(g,Ze),style:{"--scale-factor":`${ve}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Vs,{children:No()}))}rD();x1.workerSrc="pdf.worker.mjs";const ED="/assets/1718660473697_7-brew_daily-news-1-BXtaxWuQ.pdf";x1.workerSrc=new URL("/assets/pdf.worker.min-l1Cnq-yx.mjs",import.meta.url).toString();const AD={cMapUrl:"/cmaps/"};function _D({pdfName:n}){const[e,t]=N.useState(),[r,i]=N.useState(1);function s({numPages:a}){t(a)}return console.log(n),p.jsx("div",{children:p.jsx(uD,{file:ED,options:AD,onLoadSuccess:s,children:p.jsx(wD,{pageNumber:r,renderTextLayer:!1,renderAnnotationLayer:!1})})})}async function SD(){return(await(await fetch("http://localhost:3000/pdf")).json()).data}function CD(){const n=N0(),[e,t]=N.useState(n[0].pdf);return p.jsx("div",{className:"flex flex-col items-center m-6",children:p.jsx(_D,{pdfName:e})})}function kD(){return p.jsx("div",{className:"flex justify-center",children:p.jsx("img",{src:Vc,className:"opacity-25 size-4/5"})})}const TD=DR([{path:"/",element:p.jsx(tL,{}),errorElement:p.jsx(kD,{}),children:[{path:"/",element:p.jsx(CD,{}),loader:SD},{path:"/flashcards",element:p.jsx(nL,{})},{path:"/quiz",element:p.jsx(dL,{}),loader:uL},{path:"/quiz/:quizParam",element:p.jsx(cL,{}),loader:lL},{path:"/email",element:p.jsx(Dx,{})},{path:"/newPassword/:_id",element:p.jsx(Ix,{})},{path:"/allusers",element:p.jsx(hL,{})},{path:"/addAdmin",element:p.jsx(oL,{})},{path:"/addEmployee",element:p.jsx(aL,{})},{path:"/edit",element:p.jsx(mL,{})},{path:"/recipes",element:p.jsx(gL,{})},{path:"/allRecipes",element:p.jsx(yL,{})},{path:"/testResults",element:p.jsx(OL,{}),loader:jL}]},{path:"/user",element:p.jsx(bL,{}),children:[{path:"/user/email",element:p.jsx(Dx,{})},{path:"/user/newPassword/:_id",element:p.jsx(Ix,{})}]}]);Mv.createRoot(document.getElementById("root")).render(p.jsx(f0.StrictMode,{children:p.jsx(HR,{router:TD})}));
